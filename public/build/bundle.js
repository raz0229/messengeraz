var app=function(){"use strict";function t(){}function e(t,e){for(const n in e)t[n]=e[n];return t}function n(t){return t()}function r(){return Object.create(null)}function i(t){t.forEach(n)}function o(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function u(t,e,n){t.$$.on_destroy.push(s(e,n))}function c(t,e,n,r){if(t){const i=h(t,e,n,r);return t[0](i)}}function h(t,n,r,i){return t[1]&&i?e(r.ctx.slice(),t[1](i(n))):r.ctx}function l(t,e,n,r,i,o,a){const s=function(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(void 0===e.dirty)return i;if("object"==typeof i){const t=[],n=Math.max(e.dirty.length,i.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|i[r];return t}return e.dirty|i}return e.dirty}(e,r,i,o);if(s){const i=h(e,n,r,a);t.p(i,s)}}function f(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function d(t,e){t.appendChild(e)}function p(t,e,n){t.insertBefore(e,n||null)}function v(t){t.parentNode.removeChild(t)}function m(t){return document.createElement(t)}function g(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function y(t){return document.createTextNode(t)}function b(){return y(" ")}function w(){return y("")}function I(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function E(t){return function(e){return e.preventDefault(),t.call(this,e)}}function T(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function S(t){return Array.from(t.childNodes)}function _(t,e,n,r){for(let r=0;r<t.length;r+=1){const i=t[r];if(i.nodeName===e){let e=0;const o=[];for(;e<i.attributes.length;){const t=i.attributes[e++];n[t.name]||o.push(t.name)}for(let t=0;t<o.length;t++)i.removeAttribute(o[t]);return t.splice(r,1)[0]}}return r?g(e):m(e)}function A(t,e){for(let n=0;n<t.length;n+=1){const r=t[n];if(3===r.nodeType)return r.data=""+e,t.splice(n,1)[0]}return y(e)}function N(t){return A(t," ")}function k(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function D(t,e){t.value=null==e?"":e}function C(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}function x(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e)return void(r.selected=!0)}}function O(t,e,n){t.classList[n?"add":"remove"](e)}let R;function P(t){R=t}function L(){if(!R)throw new Error("Function called outside component initialization");return R}function M(){const t=L();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const i=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);r.slice().forEach((e=>{e.call(t,i)}))}}}function V(t,e){L().$$.context.set(t,e)}function q(t){return L().$$.context.get(t)}const F=[],U=[],j=[],B=[],K=Promise.resolve();let $=!1;function G(t){j.push(t)}function H(t){B.push(t)}let z=!1;const W=new Set;function Y(){if(!z){z=!0;do{for(let t=0;t<F.length;t+=1){const e=F[t];P(e),Q(e.$$)}for(P(null),F.length=0;U.length;)U.pop()();for(let t=0;t<j.length;t+=1){const e=j[t];W.has(e)||(W.add(e),e())}j.length=0}while(F.length);for(;B.length;)B.pop()();$=!1,z=!1,W.clear()}}function Q(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(G)}}const X=new Set;let J;function Z(){J={r:0,c:[],p:J}}function tt(){J.r||i(J.c),J=J.p}function et(t,e){t&&t.i&&(X.delete(t),t.i(e))}function nt(t,e,n,r){if(t&&t.o){if(X.has(t))return;X.add(t),J.c.push((()=>{X.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}function rt(t){return"object"==typeof t&&null!==t?t:{}}function it(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function ot(t){t&&t.c()}function at(t,e){t&&t.l(e)}function st(t,e,r,a){const{fragment:s,on_mount:u,on_destroy:c,after_update:h}=t.$$;s&&s.m(e,r),a||G((()=>{const e=u.map(n).filter(o);c?c.push(...e):i(e),t.$$.on_mount=[]})),h.forEach(G)}function ut(t,e){const n=t.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ct(t,e){-1===t.$$.dirty[0]&&(F.push(t),$||($=!0,K.then(Y)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ht(e,n,o,a,s,u,c=[-1]){const h=R;P(e);const l=e.$$={fragment:null,ctx:null,props:u,update:t,not_equal:s,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(h?h.$$.context:n.context||[]),callbacks:r(),dirty:c,skip_bound:!1};let f=!1;if(l.ctx=o?o(e,n.props||{},((t,n,...r)=>{const i=r.length?r[0]:n;return l.ctx&&s(l.ctx[t],l.ctx[t]=i)&&(!l.skip_bound&&l.bound[t]&&l.bound[t](i),f&&ct(e,t)),n})):[],l.update(),f=!0,i(l.before_update),l.fragment=!!a&&a(l.ctx),n.target){if(n.hydrate){const t=S(n.target);l.fragment&&l.fragment.l(t),t.forEach(v)}else l.fragment&&l.fragment.c();n.intro&&et(e.$$.fragment),st(e,n.target,n.anchor,n.customElement),Y()}P(h)}class lt{$destroy(){ut(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ft=[];function dt(e,n=t){let r;const i=[];function o(t){if(a(e,t)&&(e=t,r)){const t=!ft.length;for(let t=0;t<i.length;t+=1){const n=i[t];n[1](),ft.push(n,e)}if(t){for(let t=0;t<ft.length;t+=2)ft[t][0](ft[t+1]);ft.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(a,s=t){const u=[a,s];return i.push(u),1===i.length&&(r=n(o)||t),a(e),()=>{const t=i.indexOf(u);-1!==t&&i.splice(t,1),0===i.length&&(r(),r=null)}}}}function pt(e,n,r){const a=!Array.isArray(e),u=a?[e]:e,c=n.length<2;return{subscribe:dt(r,(e=>{let r=!1;const h=[];let l=0,f=t;const d=()=>{if(l)return;f();const r=n(a?h[0]:h,e);c?e(r):f=o(r)?r:t},p=u.map(((t,e)=>s(t,(t=>{h[e]=t,l&=~(1<<e),r&&d()}),(()=>{l|=1<<e}))));return r=!0,d(),function(){i(p),f()}})).subscribe}}const vt={},mt={};function gt(t){return{...t.location,state:t.history.state,key:t.history.state&&t.history.state.key||"initial"}}const yt=function(t,e){const n=[];let r=gt(t);return{get location(){return r},listen(e){n.push(e);const i=()=>{r=gt(t),e({location:r,action:"POP"})};return t.addEventListener("popstate",i),()=>{t.removeEventListener("popstate",i);const r=n.indexOf(e);n.splice(r,1)}},navigate(e,{state:i,replace:o=!1}={}){i={...i,key:Date.now()+""};try{o?t.history.replaceState(i,null,e):t.history.pushState(i,null,e)}catch(n){t.location[o?"replace":"assign"](e)}r=gt(t),n.forEach((t=>t({location:r,action:"PUSH"})))}}}(Boolean("undefined"!=typeof window&&window.document&&window.document.createElement)?window:function(t="/"){let e=0;const n=[{pathname:t,search:""}],r=[];return{get location(){return n[e]},addEventListener(t,e){},removeEventListener(t,e){},history:{get entries(){return n},get index(){return e},get state(){return r[e]},pushState(t,i,o){const[a,s=""]=o.split("?");e++,n.push({pathname:a,search:s}),r.push(t)},replaceState(t,i,o){const[a,s=""]=o.split("?");n[e]={pathname:a,search:s},r[e]=t}}}}()),bt=/^:(.+)/;function wt(t){return"*"===t[0]}function It(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function Et(t){return t.replace(/(^\/+|\/+$)/g,"")}function Tt(t,e){return{route:t,score:t.default?0:It(t.path).reduce(((t,e)=>(t+=4,!function(t){return""===t}(e)?!function(t){return bt.test(t)}(e)?wt(e)?t-=5:t+=3:t+=2:t+=1,t)),0),index:e}}function St(t,e){let n,r;const[i]=e.split("?"),o=It(i),a=""===o[0],s=function(t){return t.map(Tt).sort(((t,e)=>t.score<e.score?1:t.score>e.score?-1:t.index-e.index))}(t);for(let t=0,i=s.length;t<i;t++){const i=s[t].route;let u=!1;if(i.default){r={route:i,params:{},uri:e};continue}const c=It(i.path),h={},l=Math.max(o.length,c.length);let f=0;for(;f<l;f++){const t=c[f],e=o[f];if(void 0!==t&&wt(t)){h["*"===t?"*":t.slice(1)]=o.slice(f).map(decodeURIComponent).join("/");break}if(void 0===e){u=!0;break}let n=bt.exec(t);if(n&&!a){const t=decodeURIComponent(e);h[n[1]]=t}else if(t!==e){u=!0;break}}if(!u){n={route:i,params:h,uri:"/"+o.slice(0,f).join("/")};break}}return n||r||null}function _t(t,e){return`${Et("/"===e?t:`${Et(t)}/${Et(e)}`)}/`}function At(t){let e;const n=t[9].default,r=c(n,t,t[8],null);return{c(){r&&r.c()},l(t){r&&r.l(t)},m(t,n){r&&r.m(t,n),e=!0},p(t,[i]){r&&r.p&&(!e||256&i)&&l(r,n,t,t[8],i,null,null)},i(t){e||(et(r,t),e=!0)},o(t){nt(r,t),e=!1},d(t){r&&r.d(t)}}}function Nt(t,e,n){let r,i,o,{$$slots:a={},$$scope:s}=e,{basepath:c="/"}=e,{url:h=null}=e;const l=q(vt),f=q(mt),d=dt([]);u(t,d,(t=>n(7,o=t)));const p=dt(null);let v=!1;const m=l||dt(h?{pathname:h}:yt.location);u(t,m,(t=>n(6,i=t)));const g=f?f.routerBase:dt({path:c,uri:c});u(t,g,(t=>n(5,r=t)));const y=pt([g,p],(([t,e])=>{if(null===e)return t;const{path:n}=t,{route:r,uri:i}=e;return{path:r.default?n:r.path.replace(/\*.*$/,""),uri:i}}));return l||(!function(t){L().$$.on_mount.push(t)}((()=>yt.listen((t=>{m.set(t.location)})))),V(vt,m)),V(mt,{activeRoute:p,base:g,routerBase:y,registerRoute:function(t){const{path:e}=r;let{path:n}=t;if(t._path=n,t.path=_t(e,n),"undefined"==typeof window){if(v)return;const e=function(t,e){return St([t],e)}(t,i.pathname);e&&(p.set(e),v=!0)}else d.update((e=>(e.push(t),e)))},unregisterRoute:function(t){d.update((e=>{const n=e.indexOf(t);return e.splice(n,1),e}))}}),t.$$set=t=>{"basepath"in t&&n(3,c=t.basepath),"url"in t&&n(4,h=t.url),"$$scope"in t&&n(8,s=t.$$scope)},t.$$.update=()=>{if(32&t.$$.dirty){const{path:t}=r;d.update((e=>(e.forEach((e=>e.path=_t(t,e._path))),e)))}if(192&t.$$.dirty){const t=St(o,i.pathname);p.set(t)}},[d,m,g,c,h,r,i,o,s,a]}class kt extends lt{constructor(t){super(),ht(this,t,Nt,At,a,{basepath:3,url:4})}}const Dt=t=>({params:4&t,location:16&t}),Ct=t=>({params:t[2],location:t[4]});function xt(t){let e,n,r,i;const o=[Rt,Ot],a=[];function s(t,e){return null!==t[0]?0:1}return e=s(t),n=a[e]=o[e](t),{c(){n.c(),r=w()},l(t){n.l(t),r=w()},m(t,n){a[e].m(t,n),p(t,r,n),i=!0},p(t,i){let u=e;e=s(t),e===u?a[e].p(t,i):(Z(),nt(a[u],1,1,(()=>{a[u]=null})),tt(),n=a[e],n?n.p(t,i):(n=a[e]=o[e](t),n.c()),et(n,1),n.m(r.parentNode,r))},i(t){i||(et(n),i=!0)},o(t){nt(n),i=!1},d(t){a[e].d(t),t&&v(r)}}}function Ot(t){let e;const n=t[10].default,r=c(n,t,t[9],Ct);return{c(){r&&r.c()},l(t){r&&r.l(t)},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||532&i)&&l(r,n,t,t[9],i,Dt,Ct)},i(t){e||(et(r,t),e=!0)},o(t){nt(r,t),e=!1},d(t){r&&r.d(t)}}}function Rt(t){let n,r,i;const o=[{location:t[4]},t[2],t[3]];var a=t[0];function s(t){let n={};for(let t=0;t<o.length;t+=1)n=e(n,o[t]);return{props:n}}return a&&(n=new a(s())),{c(){n&&ot(n.$$.fragment),r=w()},l(t){n&&at(n.$$.fragment,t),r=w()},m(t,e){n&&st(n,t,e),p(t,r,e),i=!0},p(t,e){const i=28&e?function(t,e){const n={},r={},i={$$scope:1};let o=t.length;for(;o--;){const a=t[o],s=e[o];if(s){for(const t in a)t in s||(r[t]=1);for(const t in s)i[t]||(n[t]=s[t],i[t]=1);t[o]=s}else for(const t in a)i[t]=1}for(const t in r)t in n||(n[t]=void 0);return n}(o,[16&e&&{location:t[4]},4&e&&rt(t[2]),8&e&&rt(t[3])]):{};if(a!==(a=t[0])){if(n){Z();const t=n;nt(t.$$.fragment,1,0,(()=>{ut(t,1)})),tt()}a?(n=new a(s()),ot(n.$$.fragment),et(n.$$.fragment,1),st(n,r.parentNode,r)):n=null}else a&&n.$set(i)},i(t){i||(n&&et(n.$$.fragment,t),i=!0)},o(t){n&&nt(n.$$.fragment,t),i=!1},d(t){t&&v(r),n&&ut(n,t)}}}function Pt(t){let e,n,r=null!==t[1]&&t[1].route===t[7]&&xt(t);return{c(){r&&r.c(),e=w()},l(t){r&&r.l(t),e=w()},m(t,i){r&&r.m(t,i),p(t,e,i),n=!0},p(t,[n]){null!==t[1]&&t[1].route===t[7]?r?(r.p(t,n),2&n&&et(r,1)):(r=xt(t),r.c(),et(r,1),r.m(e.parentNode,e)):r&&(Z(),nt(r,1,1,(()=>{r=null})),tt())},i(t){n||(et(r),n=!0)},o(t){nt(r),n=!1},d(t){r&&r.d(t),t&&v(e)}}}function Lt(t,n,r){let i,o,{$$slots:a={},$$scope:s}=n,{path:c=""}=n,{component:h=null}=n;const{registerRoute:l,unregisterRoute:d,activeRoute:p}=q(mt);u(t,p,(t=>r(1,i=t)));const v=q(vt);u(t,v,(t=>r(4,o=t)));const m={path:c,default:""===c};let g={},y={};return l(m),"undefined"!=typeof window&&function(t){L().$$.on_destroy.push(t)}((()=>{d(m)})),t.$$set=t=>{r(13,n=e(e({},n),f(t))),"path"in t&&r(8,c=t.path),"component"in t&&r(0,h=t.component),"$$scope"in t&&r(9,s=t.$$scope)},t.$$.update=()=>{2&t.$$.dirty&&i&&i.route===m&&r(2,g=i.params);{const{path:t,component:e,...i}=n;r(3,y=i)}},n=f(n),[h,i,g,y,o,p,v,m,c,s,a]}class Mt extends lt{constructor(t){super(),ht(this,t,Lt,Pt,a,{path:8,component:0})}}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var Vt=function(t,e){return(Vt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function qt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Vt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Ft=function(){return(Ft=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function Ut(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function jt(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function Bt(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Kt(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function $t(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Gt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=o>>2,l=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(f=64)),r.push(n[h],n[l],n[f],n[d])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var h=a<<4&240|s>>2;if(r.push(h),64!==u){var l=s<<6&192|u;r.push(l)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function Ht(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=Ht(t[n],e[n]));return t}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var zt=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();
/**
     * @license
     * Copyright 2021 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function Wt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Yt(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Qt=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,Xt.prototype.create),o}return qt(e,t),e}(Error),Xt=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?Jt(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new Qt(i,s,r);return u},t}();function Jt(t,e){return t.replace(Zt,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var Zt=/\{\$([^}]+)}/g;
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function te(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ee(t,e){var n=new ne(t,e);return n.subscribe.bind(n)}var ne=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=re),void 0===r.error&&(r.error=re),void 0===r.complete&&(r.complete=re);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function re(){}
/**
     * @license
     * Copyright 2021 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function ie(t){return t&&t._delegate?t._delegate:t}var oe=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),ae="[DEFAULT]",se=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return t.prototype.get=function(t){void 0===t&&(t=ae);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new zt;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Ft({identifier:ae,optional:!1},t),n=e.identifier,r=e.optional,i=this.normalizeInstanceIdentifier(n);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(t){if(r)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t))try{this.getOrInitializeService({instanceIdentifier:ae})}catch(t){}try{for(var r=Bt(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=Kt(i.value,2),a=o[0],s=o[1],u=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService({instanceIdentifier:u});s.resolve(c)}catch(t){}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=ae),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Ut(this,void 0,void 0,(function(){var t;return jt(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all($t($t([],Kt(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),Kt(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=ae),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var r=t.instanceIdentifier,i=void 0===r?ae:r,o=t.options,a=void 0===o?{}:o,s=this.normalizeInstanceIdentifier(i);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:s,options:a});try{for(var c=Bt(this.instancesDeferred.entries()),h=c.next();!h.done;h=c.next()){var l=Kt(h.value,2),f=l[0],d=l[1];s===this.normalizeInstanceIdentifier(f)&&d.resolve(u)}}catch(t){e={error:t}}finally{try{h&&!h.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return this.invokeOnInitCallbacks(u,s),u},t.prototype.onInit=function(t){var e=this;return this.onInitCallbacks.add(t),function(){e.onInitCallbacks.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,r;try{for(var i=Bt(this.onInitCallbacks),o=i.next();!o.done;o=i.next()){var a=o.value;try{a(t,e)}catch(t){}}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===ae?void 0:e),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(t){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:ae:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ue,ce=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new se(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function he(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var le,fe=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(le||(le={}));var de,pe={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},ve=le.INFO,me=((ue={})[le.DEBUG]="log",ue[le.VERBOSE]="log",ue[le.INFO]="info",ue[le.WARN]="warn",ue[le.ERROR]="error",ue),ge=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=me[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,he(["["+i+"]  "+t.name+":"],n))}},ye=function(){function t(t){this.name=t,this._logLevel=ve,this._logHandler=ge,this._userLogHandler=null,fe.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in le))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?pe[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,he([this,le.DEBUG],t)),this._logHandler.apply(this,he([this,le.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,he([this,le.VERBOSE],t)),this._logHandler.apply(this,he([this,le.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,he([this,le.INFO],t)),this._logHandler.apply(this,he([this,le.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,he([this,le.WARN],t)),this._logHandler.apply(this,he([this,le.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,he([this,le.ERROR],t)),this._logHandler.apply(this,he([this,le.ERROR],t))},t}();function be(t){fe.forEach((function(e){e.setLogLevel(t)}))}var we,Ie=((de={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",de["bad-app-name"]="Illegal App name: '{$appName}",de["duplicate-app"]="Firebase App named '{$appName}' already exists",de["app-deleted"]="Firebase App named '{$appName}' already deleted",de["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",de["invalid-log-argument"]="First argument to `onLog` must be null or a function.",de),Ee=new Xt("app","Firebase",Ie),Te="@firebase/app",Se="[DEFAULT]",_e=((we={})[Te]="fire-core",we["@firebase/analytics"]="fire-analytics",we["@firebase/app-check"]="fire-app-check",we["@firebase/auth"]="fire-auth",we["@firebase/database"]="fire-rtdb",we["@firebase/functions"]="fire-fn",we["@firebase/installations"]="fire-iid",we["@firebase/messaging"]="fire-fcm",we["@firebase/performance"]="fire-perf",we["@firebase/remote-config"]="fire-rc",we["@firebase/storage"]="fire-gcs",we["@firebase/firestore"]="fire-fst",we["fire-js"]="fire-js",we["firebase-wrapper"]="fire-js-all",we),Ae=new ye("@firebase/app"),Ne=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Ht(void 0,t),this.container=new ce(e.name),this._addComponent(new oe("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=Se),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=Se),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){Ae.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Ee.create("app-deleted",{appName:this.name_})},t}();Ne.prototype.name&&Ne.prototype.options||Ne.prototype.delete||console.log("dc");
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function ke(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!=typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name=Se);var a=o.name;if("string"!=typeof a||!a)throw Ee.create("bad-app-name",{appName:String(a)});if(te(e,a))throw Ee.create("duplicate-app",{appName:a});var s=new t(n,o,r);return e[a]=s,s},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=_e[t])&&void 0!==r?r:t;n&&(i+="-"+n);var a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return a&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void Ae.warn(u.join(" "))}o(new oe(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:be,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw Ee.create("invalid-log-argument");!function(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=pe[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:le[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=fe;r<i.length;r++)n(i[r])}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t,e)},apps:null,SDK_VERSION:"8.5.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function i(t){if(!te(e,t=t||Se))throw Ee.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return Ae.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var s=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw Ee.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&Ht(s,o.serviceProps),r[a]=s,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,a);return n.apply(this,o.multipleInstances?t:[])}}for(var u=0,c=Object.keys(e);u<c.length;u++){var h=c[u];e[h]._addComponent(o)}return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var De=function t(){var e=ke(Ne);return e.INTERNAL=Ft(Ft({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Ht(e,t)},createSubscribe:ee,ErrorFactory:Xt,deepExtend:Ht}),e}(),Ce=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
if("object"==typeof self&&self.self===self&&void 0!==self.firebase){Ae.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var xe=self.firebase.SDK_VERSION;xe&&xe.indexOf("LITE")>=0&&Ae.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Oe=De.initializeApp;De.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Yt()&&Ae.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Oe.apply(void 0,t)};var Re=De;!function(t,e){t.INTERNAL.registerComponent(new oe("platform-logger",(function(t){return new Ce(t)}),"PRIVATE")),t.registerVersion(Te,"0.6.21",e),t.registerVersion("fire-js","")}(Re);
/**
     * @license
     * Copyright 2018 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
Re.registerVersion("firebase","8.5.0","app"),function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function i(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in i||(i[a]={}),i=i[a]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function r(){this.a=null}function o(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var a=n.setTimeout;r.prototype.c=function(t){a(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},r.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new r;return e.prototype.s=function(t){var e=this.f();t.Qa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(t){o(t)}}:e}var i,o,a=new e((function(t,e){i=t,o=e}));return this.Qa(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Qa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=i(t),a=r.next();!a.done;a=r.next())o(a.value).Qa(e,n)}))},e.all=function(t){var n=i(t),r=n.next();return r.done?o([]):new e((function(t,e){function i(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,o(r.value).Qa(i(a.length-1),e),r=n.next()}while(!r.done)}))},e}));var o=o||{},a=this||self,s=/^[\w+/_-]+[=]{0,2}$/,u=null;function c(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&s.test(t)?t:""}function h(){}function l(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function f(t){var e=l(t);return"array"==e||"object"==e&&"number"==typeof t.length}function d(t){return"function"==l(t)}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var v="closure_uid_"+(1e9*Math.random()>>>0),m=0;function g(t,e,n){return t.call.apply(t.bind,arguments)}function y(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g:y).apply(null,arguments)}function w(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function I(t,e){function n(){}n.prototype=e.prototype,t.ab=e.prototype,t.prototype=new n,t.prototype.constructor=t}function E(t){return t}function T(t,e,n){this.code=A+t,this.message=e||N[t]||"",this.a=n||null}function S(t){var e=t&&t.code;return e?new T(e.substring(A.length),t.message,t.serverResponse):null}I(T,Error),T.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},T.prototype.toJSON=function(){return this.w()};var _,A="auth/",N={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},k={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function D(t){for(var e in k)if(k[e].id===t)return{firebaseEndpoint:(t=k[e]).Ta,secureTokenEndpoint:t.Za,identityPlatformEndpoint:t.Wa};return null}function C(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function x(t){if(Error.captureStackTrace)Error.captureStackTrace(this,x);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function O(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");x.call(this,n+t[r])}function R(t,e){throw new O("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function P(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function L(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function M(){this.b=this.a=null}_=D("__EID__")?"__EID__":void 0,I(x,Error),x.prototype.name="CustomError",I(O,x),O.prototype.name="AssertionError",P.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var V=new P((function(){return new F}),(function(t){t.reset()}));function q(){var t=ge,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function F(){this.next=this.b=this.a=null}M.prototype.add=function(t,e){var n=V.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},F.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},F.prototype.reset=function(){this.next=this.b=this.a=null};var U=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},j=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var B=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,a=0;a<n;a++)if(a in o){var s=o[a];e.call(void 0,s,a,t)&&(r[i++]=s)}return r},K=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},$=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function G(t,e){return 0<=U(t,e)}function H(t,e){var n;return(n=0<=(e=U(t,e)))&&Array.prototype.splice.call(t,e,1),n}function z(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function W(t){return Array.prototype.concat.apply([],arguments)}function Y(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var Q,X=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},J=/&/g,Z=/</g,tt=/>/g,et=/"/g,nt=/'/g,rt=/\x00/g,it=/[\x00&<>"']/;function ot(t,e){return-1!=t.indexOf(e)}function at(t,e){return t<e?-1:t>e?1:0}t:{var st=a.navigator;if(st){var ut=st.userAgent;if(ut){Q=ut;break t}}Q=""}function ct(t){return ot(Q,t)}function ht(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function lt(t){for(var e in t)return!1;return!0}function ft(t){var e,n={};for(e in t)n[e]=t[e];return n}var dt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<dt.length;o++)n=dt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function vt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||a).Element&&r.Location){var i=r;break t}}catch(t){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(p(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;R("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function mt(t,e){this.a=t===wt&&e||"",this.b=bt}function gt(t){return t instanceof mt&&t.constructor===mt&&t.b===bt?t.a:(R("expected object of type Const, got '"+t+"'"),"type_error:Const")}mt.prototype.sa=!0,mt.prototype.ra=function(){return this.a},mt.prototype.toString=function(){return"Const{"+this.a+"}"};var yt,bt={},wt={};function It(){if(void 0===yt){var t=null,e=a.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:E,createScript:E,createScriptURL:E})}catch(t){a.console&&a.console.error(t.message)}yt=t}else yt=t}return yt}function Et(t,e){this.a=e===Nt?t:""}function Tt(t){return t instanceof Et&&t.constructor===Et?t.a:(R("expected object of type TrustedResourceUrl, got '"+t+"' of type "+l(t)),"type_error:TrustedResourceUrl")}function St(t,e){var n=gt(t);if(!At.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=It();return new Et(t=e?e.createScriptURL(t):t,Nt)}(t=n.replace(_t,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof mt?gt(t):encodeURIComponent(String(t))})))}Et.prototype.sa=!0,Et.prototype.ra=function(){return this.a.toString()},Et.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var _t=/%{(\w+)}/g,At=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Nt={};function kt(t,e){this.a=e===Lt?t:""}function Dt(t){return t instanceof kt&&t.constructor===kt?t.a:(R("expected object of type SafeUrl, got '"+t+"' of type "+l(t)),"type_error:SafeUrl")}kt.prototype.sa=!0,kt.prototype.ra=function(){return this.a.toString()},kt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Ct=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,xt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Ot=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Rt(t){if(t instanceof kt)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),Ot.test(t))t=new kt(t,Lt);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(xt);t=e&&Ct.test(e[1])?new kt(t,Lt):null}return t}function Pt(t){return t instanceof kt?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Ot.test(t)||(t="about:invalid#zClosurez"),new kt(t,Lt))}var Lt={},Mt=new kt("about:invalid#zClosurez",Lt);function Vt(t,e,n){this.a=n===qt?t:""}Vt.prototype.sa=!0,Vt.prototype.ra=function(){return this.a.toString()},Vt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var qt={};function Ft(t,e,n,r){return t=t instanceof kt?t:Pt(t),e=e||a,n=n instanceof mt?gt(n):n||"",e.open(Dt(t),n,r,void 0)}function Ut(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function jt(t){return it.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(J,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(Z,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(tt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(et,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(nt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(rt,"&#0;"))),t}function Bt(t){return Bt[" "](t),t}Bt[" "]=h;var Kt,$t,Gt=ct("Opera"),Ht=ct("Trident")||ct("MSIE"),zt=ct("Edge"),Wt=zt||Ht,Yt=ct("Gecko")&&!(ot(Q.toLowerCase(),"webkit")&&!ct("Edge"))&&!(ct("Trident")||ct("MSIE"))&&!ct("Edge"),Qt=ot(Q.toLowerCase(),"webkit")&&!ct("Edge");function Xt(){var t=a.document;return t?t.documentMode:void 0}t:{var Jt="",Zt=($t=Q,Yt?/rv:([^\);]+)(\)|;)/.exec($t):zt?/Edge\/([\d\.]+)/.exec($t):Ht?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec($t):Qt?/WebKit\/(\S+)/.exec($t):Gt?/(?:Version)[ \/]?(\S+)/.exec($t):void 0);if(Zt&&(Jt=Zt?Zt[1]:""),Ht){var te=Xt();if(null!=te&&te>parseFloat(Jt)){Kt=String(te);break t}}Kt=Jt}var ee,ne={};function re(t){return function(t,e){var n=ne;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=X(String(Kt)).split("."),r=X(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=at(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||at(0==a[2].length,0==s[2].length)||at(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}if(a.document&&Ht){var ie=Xt();ee=ie||(parseInt(Kt,10)||void 0)}else ee=void 0;var oe=ee;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch($t){}var ae=!Ht||9<=Number(oe);function se(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ue(t,e){ht(e,(function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:le.hasOwnProperty(n)?t.setAttribute(le[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var ce,he,le={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function fe(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!f(o)||p(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(p(o)){var a="function"==typeof o.item||"string"==typeof o.item;break t}if(d(o)){a="function"==typeof o.item;break t}}a=!1}j(a?Y(o):o,r)}}}function de(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function pe(t){a.setTimeout((function(){throw t}),0)}function ve(t,e){he||function(){if(a.Promise&&a.Promise.resolve){var t=a.Promise.resolve(void 0);he=function(){t.then(ye)}}else he=function(){var t=ye;!d(a.setImmediate)||a.Window&&a.Window.prototype&&!ct("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(ce||(ce=function(){var t=a.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ct("Presto")&&(t=function(){var t=de(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=b((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ct("Trident")&&!ct("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Gb;n.Gb=null,t()}},function(t){r.next={Gb:t},r=r.next,e.port2.postMessage(0)}}return function(t){a.setTimeout(t,0)}}()),ce(t)):a.setImmediate(t)}}(),me||(he(),me=!0),ge.add(t,e)}var me=!1,ge=new M;function ye(){for(var t;t=q();){try{t.a.call(t.b)}catch(t){pe(t)}L(V,t)}me=!1}function be(t,e){if(this.a=we,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,(function(t){Pe(n,Ie,t)}),(function(t){if(!(t instanceof je))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Pe(n,Ee,t)}))}catch(t){Pe(this,Ee,t)}}var we=0,Ie=2,Ee=3;function Te(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Te.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Se=new P((function(){return new Te}),(function(t){t.reset()}));function _e(t,e,n){var r=Se.get();return r.g=t,r.b=e,r.f=n,r}function Ae(t){if(t instanceof be)return t;var e=new be(h);return Pe(e,Ie,t),e}function Ne(t){return new be((function(e,n){n(t)}))}function ke(t,e,n){Le(t,e,n,null)||ve(w(e,t))}function De(t){return new be((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Pb:!0,value:o}:{Pb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)ke(t[o],w(i,o,!0),w(i,o,!1));else e(r)}))}function Ce(t,e){if(t.a==we)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==t&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==we&&1==r?Ce(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Ve(n),qe(n,i,Ee,e)))}t.c=null}else Pe(t,Ee,e)}function xe(t,e){t.b||t.a!=Ie&&t.a!=Ee||Me(t),t.f?t.f.next=e:t.b=e,t.f=e}function Oe(t,e,n,r){var i=_e(null,null,null);return i.a=new be((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof je?o(e):t(i)}catch(t){o(t)}}:o})),i.a.c=t,xe(t,i),i.a}function Pe(t,e,n){t.a==we&&(t===n&&(e=Ee,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Le(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Me(t),e!=Ee||n instanceof je||function(t,e){t.g=!0,ve((function(){t.g&&Ue.call(null,e)}))}(t,n)))}function Le(t,e,n,r){if(t instanceof be)return xe(t,_e(e||h,n||null,r)),!0;if(C(t))return t.then(e,n,r),!0;if(p(t))try{var i=t.then;if(d(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}function a(t){s||(s=!0,n.call(i,t))}var s=!1;try{e.call(t,a,o)}catch(t){o(t)}}(t,i,e,n,r),!0}catch(t){return n.call(r,t),!0}return!1}function Me(t){t.h||(t.h=!0,ve(t.gc,t))}function Ve(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function qe(t,e,n,r){if(n==Ee&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Fe(e,n,r);else try{e.c?e.g.call(e.f):Fe(e,n,r)}catch(t){Ue.call(null,t)}L(Se,e)}function Fe(t,e,n){e==Ie?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}be.prototype.then=function(t,e,n){return Oe(this,d(t)?t:null,d(e)?e:null,n)},be.prototype.$goog_Thenable=!0,(t=be.prototype).oa=function(t,e){return(t=_e(t,t,e)).c=!0,xe(this,t),this},t.o=function(t,e){return Oe(this,null,t,e)},t.cancel=function(t){if(this.a==we){var e=new je(t);ve((function(){Ce(this,e)}),this)}},t.$c=function(t){this.a=we,Pe(this,Ie,t)},t.ad=function(t){this.a=we,Pe(this,Ee,t)},t.gc=function(){for(var t;t=Ve(this);)qe(this,t,this.a,this.i);this.h=!1};var Ue=pe;function je(t){x.call(this,t)}function Be(){this.xa=this.xa,this.pa=this.pa}I(je,x),je.prototype.name="cancel";function Ke(t){!t.xa&&(t.xa=!0,t.Da(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,v)&&t[v]||(t[v]=++m)}(t)}Be.prototype.xa=!1,Be.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var $e=Object.freeze||function(t){return t},Ge=!Ht||9<=Number(oe),He=Ht&&!re("9"),ze=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",h,e),a.removeEventListener("test",h,e)}catch(t){}return t}();function We(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Ye(t,e){if(We.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Yt){t:{try{Bt(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Qe[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}We.prototype.preventDefault=function(){this.defaultPrevented=!0},I(Ye,We);var Qe=$e({2:"touch",3:"pen",4:"mouse"});Ye.prototype.preventDefault=function(){Ye.ab.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,He)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},Ye.prototype.g=function(){return this.a};var Xe="closure_listenable_"+(1e6*Math.random()|0),Je=0;function Ze(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Va=i,this.key=++Je,this.va=this.Pa=!1}function tn(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Va=null}function en(t){this.src=t,this.a={},this.b=0}function nn(t,e){var n=e.type;n in t.a&&H(t.a[n],e)&&(tn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function rn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Va==r)return i}return-1}en.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=rn(t,e,r,i);return-1<a?(e=t[a],n||(e.Pa=!1)):((e=new Ze(e,this.src,o,!!r,i)).Pa=n,t.push(e)),e};var on="closure_lm_"+(1e6*Math.random()|0),an={};function sn(t,e,n,r,i){if(r&&r.once)cn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)sn(t,e[o],n,r,i);else n=yn(n),t&&t[Xe]?wn(t,e,n,p(r)?!!r.capture:!!r,i):un(t,e,n,!1,r,i)}function un(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=p(i)?!!i.capture:!!i,s=mn(t);if(s||(t[on]=s=new en(t)),!(n=s.add(e,n,r,a,o)).proxy)if(r=function(){var t=vn,e=Ge?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ze||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(fn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function cn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)cn(t,e[o],n,r,i);else n=yn(n),t&&t[Xe]?In(t,e,n,p(r)?!!r.capture:!!r,i):un(t,e,n,!0,r,i)}function hn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)hn(t,e[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=yn(n),t&&t[Xe]?(t=t.v,(e=String(e).toString())in t.a&&(-1<(n=rn(o=t.a[e],n,r,i))&&(tn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=mn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=rn(e,n,r,i)),(n=-1<t?e[t]:null)&&ln(n))}function ln(t){if("number"!=typeof t&&t&&!t.va){var e=t.src;if(e&&e[Xe])nn(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(fn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=mn(e))?(nn(n,t),0==n.b&&(n.src=null,e[on]=null)):tn(t)}}}function fn(t){return t in an?an[t]:an[t]="on"+t}function dn(t,e,n,r){var i=!0;if((t=mn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=pn(o,r),i=i&&!1!==o)}return i}function pn(t,e){var n=t.listener,r=t.Va||t.src;return t.Pa&&ln(t),n.call(r,e)}function vn(t,e){if(t.va)return!0;if(!Ge){if(!e)t:{e=["window","event"];for(var n=a,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Ye(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=dn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=dn(r[i],t,!1,e),n=n&&o}return n}return pn(t,new Ye(e,this))}function mn(t){return(t=t[on])instanceof en?t:null}var gn="__closure_events_fn_"+(1e9*Math.random()>>>0);function yn(t){return d(t)?t:(t[gn]||(t[gn]=function(e){return t.handleEvent(e)}),t[gn])}function bn(){Be.call(this),this.v=new en(this),this.ac=this,this.gb=null}function wn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function In(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function En(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.va&&a.capture==n){var s=a.listener,u=a.Va||a.src;a.Pa&&nn(t.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function Tn(t,e,n){if(d(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function Sn(t){var e=null;return new be((function(n,r){-1==(e=Tn((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw a.clearTimeout(e),t}))}function _n(t){if(t.W&&"function"==typeof t.W)return t.W();if("string"==typeof t)return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function An(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.W||"function"!=typeof t.W){if(f(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Nn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Nn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function kn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Dn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Dn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Dn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}I(bn,Be),bn.prototype[Xe]=!0,bn.prototype.addEventListener=function(t,e,n,r){sn(this,t,e,n,r)},bn.prototype.removeEventListener=function(t,e,n,r){hn(this,t,e,n,r)},bn.prototype.dispatchEvent=function(t){var e,n=this.gb;if(n)for(e=[];n;n=n.gb)e.push(n);n=this.ac;var r=t.type||t;if("string"==typeof t)t=new We(t,n);else if(t instanceof We)t.target=t.target||n;else{var i=t;pt(t=new We(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];i=En(a,r,!0,t)&&i}if(i=En(a=t.b=n,r,!0,t)&&i,i=En(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=En(a=t.b=e[o],r,!1,t)&&i;return i},bn.prototype.Da=function(){if(bn.ab.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)tn(n[r]);delete e.a[t],e.b--}}this.gb=null},(t=Nn.prototype).W=function(){kn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return kn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Dn(this.b,t)?this.b[t]:e},t.set=function(t,e){Dn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Cn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function xn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof xn?(this.i=void 0!==e?e:t.i,On(this,t.c),this.l=t.l,this.a=t.a,Rn(this,t.g),this.f=t.f,Pn(this,Zn(t.b)),this.h=t.h):t&&(n=String(t).match(Cn))?(this.i=!!e,On(this,n[1]||"",!0),this.l=Fn(n[2]||""),this.a=Fn(n[3]||"",!0),Rn(this,n[4]),this.f=Fn(n[5]||"",!0),Pn(this,n[6]||"",!0),this.h=Fn(n[7]||"")):(this.i=!!e,this.b=new zn(null,this.i))}function On(t,e,n){t.c=n?Fn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Rn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Pn(t,e,n){e instanceof zn?(t.b=e,function(t,e){e&&!t.f&&(Wn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Qn(this,e),Jn(this,n,t))}),t)),t.f=e}(t.b,t.i)):(n||(e=Un(e,Gn)),t.b=new zn(e,t.i))}function Ln(t,e,n){t.b.set(e,n)}function Mn(t,e){return t.b.get(e)}function Vn(t){return t instanceof xn?new xn(t):new xn(t,void 0)}function qn(t,e,n,r){var i=new xn(null,void 0);return t&&On(i,t),e&&(i.a=e),n&&Rn(i,n),r&&(i.f=r),i}function Fn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Un(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,jn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function jn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}xn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(Un(e,Bn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Un(e,Bn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Un(n,"/"==n.charAt(0)?$n:Kn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Un(n,Hn)),t.join("")},xn.prototype.resolve=function(t){var e=new xn(this),n=!!t.c;n?On(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)Rn(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ot(i,"./")||ot(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?Pn(e,Zn(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Bn=/[#\/\?@]/g,Kn=/[#\?:]/g,$n=/[#\?]/g,Gn=/[#\?@]/g,Hn=/#/g;function zn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Wn(t){t.a||(t.a=new Nn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Yn(t){var e=An(t);if(void 0===e)throw Error("Keys are undefined");var n=new zn(null,void 0);t=_n(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Jn(n,i,o):n.add(i,o)}return n}function Qn(t,e){Wn(t),e=tr(t,e),Dn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Dn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&kn(t)))}function Xn(t,e){return Wn(t),e=tr(t,e),Dn(t.a.b,e)}function Jn(t,e,n){Qn(t,e),0<n.length&&(t.c=null,t.a.set(tr(t,e),Y(n)),t.b+=n.length)}function Zn(t){var e=new zn;return e.c=t.c,t.a&&(e.a=new Nn(t.a),e.b=t.b),e}function tr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function er(t){var e=[];return rr(new nr,t,e),e.join("")}function nr(){}function rr(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),rr(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&("function"!=typeof(o=e[r])&&(n.push(i),ar(r,n),n.push(":"),rr(t,o,n),i=","));return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":ar(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=zn.prototype).add=function(t,e){Wn(this),this.c=null,t=tr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Wn(this),this.a.forEach((function(n,r){j(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){Wn(this);for(var t=this.a.W(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.W=function(t){Wn(this);var e=[];if("string"==typeof t)Xn(this,t)&&(e=W(e,this.a.get(tr(this,t))));else{t=this.a.W();for(var n=0;n<t.length;n++)e=W(e,t[n])}return e},t.set=function(t,e){return Wn(this),this.c=null,Xn(this,t=tr(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.W(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var ir={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},or=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ar(t,e){e.push('"',t.replace(or,(function(t){var e=ir[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ir[t]=e),e})),'"')}function sr(){var t=Nr();return Ht&&!!oe&&11==oe||/Edge\/\d+/.test(t)}function ur(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function cr(t,e){e=e||a.window;var n="about:blank";t&&(n=Dt(Rt(t)||Mt)),e.location.href=n}function hr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<hr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function lr(t){return!!((t=(t||Nr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function fr(t){t=t||a.window;try{t.close()}catch(t){}}function dr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Nr().toLowerCase(),r&&(e.target=r,ot(n,"crios/")&&(e.target="_blank")),Sr(Nr())==Er&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof kt?n:Rt(void 0!==n.href?n.href:String(n))||Mt,n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((ct("iPhone")&&!ct("iPod")&&!ct("iPad")||ct("iPad")||ct("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(vt(a=de(document,"A"),"HTMLAnchorElement"),e=e instanceof kt?e:Pt(e),a.href=Dt(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=Ft("",r,n,a),t=Dt(e),a&&(Wt&&ot(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+jt(t)+'">',t=new Vt(t=(r=It())?r.createHTML(t):t,null,qt),r=a.document)&&(r.write(function(t){return t instanceof Vt&&t.constructor===Vt?t.a:(R("expected object of type SafeHtml, got '"+t+"' of type "+l(t)),"type_error:SafeHtml")}(t)),r.close())):(a=Ft(e,r,n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(t){}return a}var pr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vr=/^[^@]+@[^@]+$/;function mr(){var t=null;return new be((function(e){"complete"==a.document.readyState?e():(t=function(){e()},cn(window,"load",t))})).o((function(e){throw hn(window,"load",t),e}))}function gr(t){return t=t||Nr(),!("file:"!==Or()&&"ionic:"!==Or()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function yr(){var t=a.window;try{return!(!t||t==t.top)}catch(t){return!1}}function br(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function wr(){return Re.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Re.INTERNAL.hasOwnProperty("node")?"Node":br()?"Worker":"Browser"}function Ir(){var t=wr();return"ReactNative"===t||"Node"===t}var Er="Firefox",Tr="Chrome";function Sr(t){var e=t.toLowerCase();return ot(e,"opera/")||ot(e,"opr/")||ot(e,"opios/")?"Opera":ot(e,"iemobile")?"IEMobile":ot(e,"msie")||ot(e,"trident/")?"IE":ot(e,"edge/")?"Edge":ot(e,"firefox/")?Er:ot(e,"silk/")?"Silk":ot(e,"blackberry")?"Blackberry":ot(e,"webos")?"Webos":!ot(e,"safari/")||ot(e,"chrome/")||ot(e,"crios/")||ot(e,"android")?!ot(e,"chrome/")&&!ot(e,"crios/")||ot(e,"edge/")?ot(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Tr:"Safari"}var _r={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Ar(t,e){e=e||[];var n,r=[],i={};for(n in _r)i[_r[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=wr())?r=Sr(i=Nr()):"Worker"===r&&(r=Sr(i=Nr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Nr(){return a.navigator&&a.navigator.userAgent||""}function kr(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Dr(){try{var t=a.localStorage,e=Vr();if(t)return t.setItem(e,"1"),t.removeItem(e),!sr()||!!a.indexedDB}catch(t){return br()&&!!a.indexedDB}return!1}function Cr(){return(xr()||"chrome-extension:"===Or()||gr())&&!Ir()&&Dr()&&!br()}function xr(){return"http:"===Or()||"https:"===Or()}function Or(){return a.location&&a.location.protocol||null}function Rr(t){return!lr(t=t||Nr())&&Sr(t)!=Er}function Pr(t){return void 0===t?null:er(t)}function Lr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Mr(t){if(null!==t)return JSON.parse(t)}function Vr(t){return t||Math.floor(1e9*Math.random()).toString()}function qr(t){return"Safari"!=Sr(t=t||Nr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Fr(){var t=a.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Ur(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Nr(),e=wr(),this.b=lr(t)||"ReactNative"===e}function jr(){var t=a.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Br(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function Kr(){return!(!kr("fireauth.oauthhelper",a)&&!kr("fireauth.iframe",a))}Ur.prototype.get=function(){var t=a.navigator;return!t||"boolean"!=typeof t.onLine||!xr()&&"chrome-extension:"!==Or()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var $r,Gr={};function Hr(t){Gr[t]||(Gr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var zr={};Object.defineProperty(zr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(zr,"abcd",{configurable:!0,enumerable:!0,value:2}),$r=2==zr.abcd}catch($t){$r=!1}function Wr(t,e,n){$r?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Yr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Wr(t,n,e[n])}function Qr(t){var e={};return Yr(e,t),e}function Xr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Wr(e,n,Xr(t[n]));return e}function Jr(t){var e=t&&(t[ri]?"phone":null);if(!(e&&t&&t[ni]))throw new T("internal-error","Internal assert: invalid MultiFactorInfo object");Wr(this,"uid",t[ni]),Wr(this,"displayName",t[ti]||null);var n=null;t[ei]&&(n=new Date(t[ei]).toUTCString()),Wr(this,"enrollmentTime",n),Wr(this,"factorId",e)}function Zr(t){try{var e=new ii(t)}catch(t){e=null}return e}Jr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ti="displayName",ei="enrolledAt",ni="mfaEnrollmentId",ri="phoneInfo";function ii(t){Jr.call(this,t),Wr(this,"phoneNumber",t[ri])}function oi(t){var e={},n=t[ci],r=t[li],i=t[fi];if(t=Zr(t[hi]),!i||i!=si&&i!=ui&&!n||i==ui&&!r||i==ai&&!t)throw Error("Invalid checkActionCode response!");i==ui?(e[pi]=n||null,e[mi]=n||null,e[di]=r):(e[pi]=r||null,e[mi]=r||null,e[di]=n||null),e[vi]=t||null,Wr(this,yi,i),Wr(this,gi,Xr(e))}I(ii,Jr),ii.prototype.w=function(){var t=ii.ab.w.call(this);return t.phoneNumber=this.phoneNumber,t};var ai="REVERT_SECOND_FACTOR_ADDITION",si="EMAIL_SIGNIN",ui="VERIFY_AND_CHANGE_EMAIL",ci="email",hi="mfaInfo",li="newEmail",fi="requestType",di="email",pi="fromEmail",vi="multiFactorInfo",mi="previousEmail",gi="data",yi="operation";function bi(t){var e=Mn(t=Vn(t),wi)||null,n=Mn(t,Ii)||null,r=Mn(t,Si)||null;if(r=r&&Ai[r]||null,!e||!n||!r)throw new T("argument-error",wi+", "+Ii+"and "+Si+" are required in a valid action code URL.");Yr(this,{apiKey:e,operation:r,code:n,continueUrl:Mn(t,Ei)||null,languageCode:Mn(t,Ti)||null,tenantId:Mn(t,_i)||null})}var wi="apiKey",Ii="oobCode",Ei="continueUrl",Ti="languageCode",Si="mode",_i="tenantId",Ai={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ai,signIn:si,verifyAndChangeEmail:ui,verifyEmail:"VERIFY_EMAIL"};function Ni(t){try{return new bi(t)}catch(t){return null}}function ki(t){var e=t[Ri];if(void 0===e)throw new T("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new T("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Di];if(n&&"object"==typeof n){e=n[Mi];var r=n[Pi];if(n=n[Li],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new T("argument-error",Pi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new T("argument-error",Li+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new T("argument-error",Mi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new T("missing-android-pkg-name")}}else if(void 0!==n)throw new T("argument-error",Di+" property must be a non null object when specified.");if(this.f=null,(e=t[Oi])&&"object"==typeof e){if("string"==typeof(e=e[Vi])&&e.length)this.f=e;else if(void 0!==e)throw new T("argument-error",Vi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new T("argument-error",Oi+" property must be a non null object when specified.");if(void 0!==(e=t[xi])&&"boolean"!=typeof e)throw new T("argument-error",xi+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Ci])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new T("argument-error",Ci+" property must be a non empty string when specified.");this.i=t||null}var Di="android",Ci="dynamicLinkDomain",xi="handleCodeInApp",Oi="iOS",Ri="url",Pi="installApp",Li="minimumVersion",Mi="packageName",Vi="bundleId";function qi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Fi=null;function Ui(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Fi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Fi){Fi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Fi[o]&&(Fi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,(function(t){e.push(t)})),e}function ji(t){var e=Ki(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Bi(t){try{return new ji(t)}catch(t){return null}}function Ki(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=Ui(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var a=r[e++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(s>>10)),t[n++]=String.fromCharCode(56320+(1023&s))}else o=r[e++],a=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(t.join(""))}catch(t){}return null}ji.prototype.T=function(){return this.f},ji.prototype.l=function(){return this.c},ji.prototype.toString=function(){return this.h};var $i="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Gi=["client_id","response_type","scope","redirect_uri","state"],Hi={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Gi},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Gi},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Gi},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:$i},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function zi(t){for(var e in Hi)if(Hi[e].fa==t)return Hi[e];return null}function Wi(t){var e={};e["facebook.com"]=Zi,e["google.com"]=eo,e["github.com"]=to,e["twitter.com"]=no;var n=t&&t[Qi];try{if(n)return e[n]?new e[n](t):new Ji(t);if(void 0!==t[Yi])return new Xi(t)}catch(t){}return null}var Yi="idToken",Qi="providerId";function Xi(t){var e=t[Qi];if(!e&&t[Yi]){var n=Bi(t[Yi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Wr(this,"providerId",e),Wr(this,"isNewUser",n)}function Ji(t){Xi.call(this,t),Wr(this,"profile",Xr((t=Mr(t.rawUserInfo||"{}"))||{}))}function Zi(t){if(Ji.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function to(t){if(Ji.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Wr(this,"username",this.profile&&this.profile.login||null)}function eo(t){if(Ji.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function no(t){if(Ji.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Wr(this,"username",t.screenName||null)}function ro(t){var e=Vn(t),n=Mn(e,"link"),r=Mn(Vn(n),"link");return e=Mn(e,"deep_link_id"),Mn(Vn(e),"link")||e||r||n||t}function io(t,e){if(!t&&!e)throw new T("internal-error","Internal assert: no raw session string available");if(t&&e)throw new T("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?oo:ao}I(Ji,Xi),I(Zi,Ji),I(to,Ji),I(eo,Ji),I(no,Ji);var oo="enroll",ao="signin";function so(){}function uo(t,e){return t.then((function(t){if(t[Xa]){var n=Bi(t[Xa]);if(!n||e!=n.i)throw new T("user-mismatch");return t}throw new T("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==A+"user-not-found"?new T("user-mismatch"):t}))}function co(t,e){if(!e)throw new T("internal-error","failed to construct a credential");this.a=e,Wr(this,"providerId",t),Wr(this,"signInMethod",t)}function ho(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function lo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new co(t.providerId,t.pendingToken)}catch(t){}return null}function fo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Wr(this,"idToken",e.idToken),e.accessToken&&Wr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Wr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new T("internal-error","failed to construct a credential");Wr(this,"accessToken",e.oauthToken),Wr(this,"secret",e.oauthTokenSecret)}Wr(this,"providerId",t),Wr(this,"signInMethod",n)}function po(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Yn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function vo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new fo(t.providerId,e,t.signInMethod)}catch(t){}}return null}function mo(t,e){this.Qc=e||[],Yr(this,{providerId:t,isOAuthProvider:!0}),this.Ib={},this.pb=(zi(t)||{}).Ja||null,this.ob=null}function go(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new T("argument-error",'SAML provider IDs must be prefixed with "saml."');mo.call(this,t,[])}function yo(t){mo.call(this,t,Gi),this.a=[]}function bo(){yo.call(this,"facebook.com")}function wo(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new bo).credential({accessToken:e})}function Io(){yo.call(this,"github.com")}function Eo(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new Io).credential({accessToken:e})}function To(){yo.call(this,"google.com"),this.Ca("profile")}function So(t,e){var n=t;return p(t)&&(n=t.idToken,e=t.accessToken),(new To).credential({idToken:n,accessToken:e})}function _o(){mo.call(this,"twitter.com",$i)}function Ao(t,e){var n=t;if(p(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new T("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new fo("twitter.com",n,"twitter.com")}function No(t,e,n){this.a=t,this.f=e,Wr(this,"providerId","password"),Wr(this,"signInMethod",n===Do.EMAIL_LINK_SIGN_IN_METHOD?Do.EMAIL_LINK_SIGN_IN_METHOD:Do.EMAIL_PASSWORD_SIGN_IN_METHOD)}function ko(t){return t&&t.email&&t.password?new No(t.email,t.password,t.signInMethod):null}function Do(){Yr(this,{providerId:"password",isOAuthProvider:!1})}function Co(t,e){if(!(e=xo(e)))throw new T("argument-error","Invalid email link!");return new No(t,e.code,Do.EMAIL_LINK_SIGN_IN_METHOD)}function xo(t){return(t=Ni(t=ro(t)))&&t.operation===si?t:null}function Oo(t){if(!(t.eb&&t.cb||t.La&&t.ea))throw new T("internal-error");this.a=t,Wr(this,"providerId","phone"),this.fa="phone",Wr(this,"signInMethod","phone")}function Ro(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return j(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Oo(e)}return null}function Po(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.eb,code:t.a.cb}}function Lo(t){try{this.a=t||Re.auth()}catch(t){throw new T("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Yr(this,{providerId:"phone",isOAuthProvider:!1})}function Mo(t,e){if(!t)throw new T("missing-verification-id");if(!e)throw new T("missing-verification-code");return new Oo({eb:t,cb:e})}function Vo(t){if(t.temporaryProof&&t.phoneNumber)return new Oo({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return So(o,n);case"facebook.com":return wo(n);case"github.com":return Eo(n);case"twitter.com":return Ao(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new co(e,a):new fo(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new yo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(t){return null}}function qo(t){if(!t.isOAuthProvider)throw new T("invalid-oauth-provider")}function Fo(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new T("invalid-auth-event");if(this.g&&this.a)throw new T("invalid-auth-event");if(this.g&&!this.f)throw new T("invalid-auth-event")}function Uo(t){return(t=t||{}).type?new Fo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&S(t.error),t.postBody,t.tenantId):null}function jo(){this.b=null,this.a=[]}io.prototype.Ha=function(){return this.a?Ae(this.a):Ae(this.b)},io.prototype.w=function(){return this.type==oo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},so.prototype.ka=function(){},so.prototype.b=function(){},so.prototype.c=function(){},so.prototype.w=function(){},co.prototype.ka=function(t){return bs(t,ho(this))},co.prototype.b=function(t,e){var n=ho(this);return n.idToken=e,ws(t,n)},co.prototype.c=function(t,e){return uo(Is(t,ho(this)),e)},co.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},fo.prototype.ka=function(t){return bs(t,po(this))},fo.prototype.b=function(t,e){var n=po(this);return n.idToken=e,ws(t,n)},fo.prototype.c=function(t,e){return uo(Is(t,po(this)),e)},fo.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},mo.prototype.Ka=function(t){return this.Ib=ft(t),this},I(go,mo),I(yo,mo),yo.prototype.Ca=function(t){return G(this.a,t)||this.a.push(t),this},yo.prototype.Qb=function(){return Y(this.a)},yo.prototype.credential=function(t,e){var n;if(!(n=p(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new T("argument-error","credential failed: must provide the ID token and/or the access token.");return new fo(this.providerId,n,this.providerId)},I(bo,yo),Wr(bo,"PROVIDER_ID","facebook.com"),Wr(bo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),I(Io,yo),Wr(Io,"PROVIDER_ID","github.com"),Wr(Io,"GITHUB_SIGN_IN_METHOD","github.com"),I(To,yo),Wr(To,"PROVIDER_ID","google.com"),Wr(To,"GOOGLE_SIGN_IN_METHOD","google.com"),I(_o,mo),Wr(_o,"PROVIDER_ID","twitter.com"),Wr(_o,"TWITTER_SIGN_IN_METHOD","twitter.com"),No.prototype.ka=function(t){return this.signInMethod==Do.EMAIL_LINK_SIGN_IN_METHOD?nu(t,Ds,{email:this.a,oobCode:this.f}):nu(t,Xs,{email:this.a,password:this.f})},No.prototype.b=function(t,e){return this.signInMethod==Do.EMAIL_LINK_SIGN_IN_METHOD?nu(t,Cs,{idToken:e,email:this.a,oobCode:this.f}):nu(t,Ks,{idToken:e,email:this.a,password:this.f})},No.prototype.c=function(t,e){return uo(this.ka(t),e)},No.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Yr(Do,{PROVIDER_ID:"password"}),Yr(Do,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Yr(Do,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Oo.prototype.ka=function(t){return t.fb(Po(this))},Oo.prototype.b=function(t,e){var n=Po(this);return n.idToken=e,nu(t,Zs,n)},Oo.prototype.c=function(t,e){var n=Po(this);return n.operation="REAUTH",uo(t=nu(t,tu,n),e)},Oo.prototype.w=function(){var t={providerId:"phone"};return this.a.eb&&(t.verificationId=this.a.eb),this.a.cb&&(t.verificationCode=this.a.cb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Lo.prototype.fb=function(t,e){var n=this.a.a;return Ae(e.verify()).then((function(r){if("string"!=typeof r)throw new T("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=p(t)?t.session:null,o=p(t)?t.phoneNumber:t;return(i&&i.type==oo?i.Ha().then((function(t){return function(t,e){return nu(t,Gs,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==ao?i.Ha().then((function(e){return function(t,e){return nu(t,Hs,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return nu(t,js,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new T("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Yr(Lo,{PROVIDER_ID:"phone"}),Yr(Lo,{PHONE_SIGN_IN_METHOD:"phone"}),Fo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Fo.prototype.T=function(){return this.h},Fo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Bo,Ko=null;function $o(t){var e="unauthorized-domain",n=void 0,r=Vn(t);t=r.a,"chrome-extension"==(r=r.c)?n=Ut("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Ut("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",T.call(this,e,n)}function Go(t,e,n){T.call(this,t,n),(t=e||{}).Jb&&Wr(this,"email",t.Jb),t.ea&&Wr(this,"phoneNumber",t.ea),t.credential&&Wr(this,"credential",t.credential),t.Zb&&Wr(this,"tenantId",t.Zb)}function Ho(t){if(t.code){var e=t.code||"";0==e.indexOf(A)&&(e=e.substring(A.length));var n={credential:Vo(t),Zb:t.tenantId};if(t.email)n.Jb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new T(e,t.message||void 0);return new Go(e,n,t.message)}return null}function zo(){}function Wo(t){return t.c||(t.c=t.b())}function Yo(){}function Qo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Xo(){}function Jo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=b(this.qc,this),this.a.onerror=b(this.Sb,this),this.a.onprogress=b(this.rc,this),this.a.ontimeout=b(this.vc,this)}function Zo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function ta(t,e,n){this.reset(t,e,n,void 0,void 0)}function ea(t){this.f=t,this.b=this.c=this.a=null}function na(t,e){this.name=t,this.value=e}I($o,T),I(Go,T),Go.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&pt(t,e),t},Go.prototype.toJSON=function(){return this.w()},zo.prototype.c=null,I(Yo,zo),Yo.prototype.a=function(){var t=Qo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Yo.prototype.b=function(){var t={};return Qo(this)&&(t[0]=!0,t[1]=!0),t},Bo=new Yo,I(Xo,zo),Xo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Jo;throw Error("Unsupported browser")},Xo.prototype.b=function(){return{}},(t=Jo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Zo(this,4)},t.Sb=function(){this.status=500,this.response=this.responseText="",Zo(this,4)},t.vc=function(){this.Sb()},t.rc=function(){this.status=200,Zo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ta.prototype.a=null,ta.prototype.reset=function(t,e,n,r,i){delete this.a},na.prototype.toString=function(){return this.name};var ra=new na("SEVERE",1e3),ia=new na("WARNING",900),oa=new na("CONFIG",700),aa=new na("FINE",500);function sa(t){return t.c?t.c:t.a?sa(t.a):(R("Root logger has no level set."),null)}ea.prototype.log=function(t,e,n){if(t.value>=sa(this).value)for(d(e)&&(e=e()),t=new ta(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var ua={},ca=null;function ha(t){var e;if(ca||(ca=new ea(""),ua[""]=ca,ca.c=oa),!(e=ua[t])){e=new ea(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=ha(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,ua[t]=e}return e}function la(t,e){t&&t.log(aa,e,void 0)}function fa(t){this.f=t}function da(t){bn.call(this),this.u=t,this.h=void 0,this.readyState=pa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ha("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}I(fa,zo),fa.prototype.a=function(){return new da(this.f)},fa.prototype.b=function(t){return function(){return t}}({}),I(da,bn);var pa=0;function va(t){t.c.read().then(t.pc.bind(t)).catch(t.Ua.bind(t))}function ma(t){t.readyState=4,t.g=null,t.c=null,t.m=null,ga(t)}function ga(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ya(t){bn.call(this),this.headers=new Nn,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=ba,this.u=this.S=!1}(t=da.prototype).open=function(t,e){if(this.readyState!=pa)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,ga(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Ua.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ma(this)),this.readyState=pa},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,ga(this)),this.a&&(this.readyState=3,ga(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):void 0!==a.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,va(this)):t.text().then(this.tc.bind(this),this.Ua.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ma(this):ga(this),3==this.readyState&&va(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,ma(this))},t.sc=function(t){this.a&&(this.response=t,ma(this))},t.Ua=function(t){var e=this.i;e&&e.log(ia,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&ma(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(ia,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(ia,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(da.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),I(ya,bn);var ba="";ya.prototype.b=ha("goog.net.XhrIo");var wa=/^https?$/i,Ia=["POST","PUT"];function Ea(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.R=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():Bo.a(),t.C=t.D?Wo(t.D):Wo(Bo),t.a.onreadystatechange=b(t.Vb,t);try{la(t.b,xa(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(e){return la(t.b,xa(t,"Error opening Xhr: "+e.message)),void Sa(t,e)}e=r||"";var o=new Nn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"==typeof t)j(t,e,void 0);else for(var n=An(t),r=_n(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=Ta,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=a.FormData&&e instanceof a.FormData,!G(Ia,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{ka(t),0<t.g&&(t.u=function(t){return Ht&&re(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),la(t.b,xa(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=b(t.Ma,t)):t.s=Tn(t.Ma,t.g,t)),la(t.b,xa(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){la(t.b,xa(t,"Send error: "+e.message)),Sa(t,e)}}function Ta(t){return"content-type"==t.toLowerCase()}function Sa(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,_a(t),Na(t)}function _a(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Aa(t){if(t.c&&void 0!==o)if(t.C[1]&&4==Da(t)&&2==Ca(t))la(t.b,xa(t,"Local request error detected and ignored"));else if(t.i&&4==Da(t))Tn(t.Vb,0,t);else if(t.dispatchEvent("readystatechange"),4==Da(t)){la(t.b,xa(t,"Request complete")),t.c=!1;try{var e,n=Ca(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.l).match(Cn)[1]||null;if(!s&&a.self&&a.self.location){var u=a.self.location.protocol;s=u.substr(0,u.length-1)}i=!wa.test(s?s.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Da(t)?t.a.statusText:""}catch(e){la(t.b,"Can not get status: "+e.message),c=""}t.h=c+" ["+Ca(t)+"]",_a(t)}}finally{Na(t)}}}function Na(t,e){if(t.a){ka(t);var n=t.a,r=t.C[0]?h:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(ra,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function ka(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(a.clearTimeout(t.s),t.s=null)}function Da(t){return t.a?t.a.readyState:0}function Ca(t){try{return 2<Da(t)?t.a.status:-1}catch(t){return-1}}function xa(t,e){return e+" ["+t.R+" "+t.l+" "+Ca(t)+"]"}function Oa(t){var e=Ka;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Ra(t,e,n){t.a=!0,t.c=n,t.f=!e,Va(t)}function Pa(t){if(t.a){if(!t.v)throw new qa(t);t.v=!1}}function La(t,e,n,r){t.g.push([e,n,r]),t.a&&Va(t)}function Ma(t){return $(t.g,(function(t){return d(t[1])}))}function Va(t){if(t.h&&t.a&&Ma(t)){var e=t.h,n=ja[e];n&&(a.clearTimeout(n.a),delete ja[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],s=i[1];if(i=i[2],o=t.f?s:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(C(e)||"function"==typeof a.Promise&&e instanceof a.Promise)&&(r=!0,t.i=!0)}catch(r){e=r,t.f=!0,Ma(t)||(n=!0)}}t.c=e,r&&(u=b(t.m,t,!0),r=b(t.m,t,!1),e instanceof Oa?(La(e,u,r),e.C=!0):e.then(u,r)),n&&(e=new Ua(e),ja[e.a]=e,t.h=e.a)}function qa(){x.call(this)}function Fa(){x.call(this)}function Ua(t){this.a=a.setTimeout(b(this.c,this),0),this.b=t}(t=ya.prototype).Ma=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",la(this.b,xa(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(la(this.b,xa(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Na(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Na(this,!0)),ya.ab.Da.call(this)},t.Vb=function(){this.xa||(this.O||this.i||this.f?Aa(this):this.Jc())},t.Jc=function(){Aa(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ba:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(ra,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return la(this.b,"Can not get response: "+t.message),null}},Oa.prototype.cancel=function(t){if(this.a)this.c instanceof Oa&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Fa(this),Pa(this),Ra(this,!1,t))}},Oa.prototype.m=function(t,e){this.i=!1,Ra(this,t,e)},Oa.prototype.then=function(t,e,n){var r,i,o=new be((function(t,e){r=t,i=e}));return La(this,r,(function(t){t instanceof Fa?o.cancel():i(t)})),o.then(t,e,n)},Oa.prototype.$goog_Thenable=!0,I(qa,x),qa.prototype.message="Deferred has already fired",qa.prototype.name="AlreadyCalledError",I(Fa,x),Fa.prototype.message="Deferred was canceled",Fa.prototype.name="CanceledError",Ua.prototype.c=function(){throw delete ja[this.a],this.b};var ja={};function Ba(t){var e,n=document,r=Tt(t).toString(),i=de(document,"SCRIPT"),o={Wb:i,Ma:void 0},s=new Oa(o);return e=window.setTimeout((function(){$a(i,!0);var t=new za(Ha,"Timeout reached for loading script "+r);Pa(s),Ra(s,!1,t)}),5e3),o.Ma=e,i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||($a(i,!1,e),Pa(s),Ra(s,!0,null))},i.onerror=function(){$a(i,!0,e);var t=new za(Ga,"Error while loading script "+r);Pa(s),Ra(s,!1,t)},pt(o={},{type:"text/javascript",charset:"UTF-8"}),ue(i,o),function(t,e){vt(t,"HTMLScriptElement"),t.src=Tt(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=a?e=c(e.document):(null===u&&(u=c(a.document)),e=u),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),s}function Ka(){if(this&&this.Wb){var t=this.Wb;t&&"SCRIPT"==t.tagName&&$a(t,!0,this.Ma)}}function $a(t,e,n){null!=n&&a.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Ga=0,Ha=1;function za(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),x.call(this,n),this.code=t}function Wa(t){this.f=t}function Ya(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Ja,this.g=ft(t.secureTokenHeaders||Za),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||ts,this.a=ft(t.firebaseHeaders||es),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==wr(),!(n=a.XMLHttpRequest||n&&Re.INTERNAL.node&&Re.INTERNAL.node.XMLHttpRequest)&&!br())throw new T("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,br()?this.f=new fa(self):Ir()?this.f=new Wa(n):this.f=new Xo,this.b=null}I(za,x),I(Wa,zo),Wa.prototype.a=function(){return new this.f},Wa.prototype.b=function(){return{}};var Qa,Xa="idToken",Ja=new Ur(3e4,6e4),Za={"Content-Type":"application/x-www-form-urlencoded"},ts=new Ur(3e4,6e4),es={"Content-Type":"application/json"};function ns(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function rs(t,e){e&&(t.l=is("https://securetoken.googleapis.com/v1/token",e),t.h=is("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=is("https://identitytoolkit.googleapis.com/v2/",e))}function is(t,e){return t=Vn(t),e=Vn(e.url),t.f=t.a+t.f,On(t,e.c),t.a=e.a,Rn(t,e.g),t.toString()}function os(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function as(t,e,n,r,i,o,s){(function(){var t=Nr();return!((t=Sr(t)!=Tr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Ht&&oe&&!(9<oe))})()||br()?t=b(t.u,t):(Qa||(Qa=new be((function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{a[us]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){La(t,null,e,void 0)}(Ba(St(ss,{onload:us})),(function(){e(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),t=b(t.s,t)),t(e,n,r,i,o,s)}Ya.prototype.T=function(){return this.b},Ya.prototype.u=function(t,e,n,r,i,o){if(br()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new T("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new ya(this.f);if(o){s.g=Math.max(0,o);var u=setTimeout((function(){s.dispatchEvent("timeout")}),o)}wn(s,"complete",(function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return la(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}e&&e(t)})),In(s,"ready",(function(){u&&clearTimeout(u),Ke(this)})),In(s,"timeout",(function(){u&&clearTimeout(u),Ke(this),e&&e(null)})),Ea(s,t,n,r,i)};var ss=new mt(wt,"https://apis.google.com/js/client.js?onload=%{onload}"),us="__fcb"+Math.floor(1e6*Math.random()).toString();function cs(t,e,n,r,i,o,a){var s=Vn(e+n);Ln(s,"key",t.c),a&&Ln(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Ln(s,c,i[c]);return new be((function(e,n){as(t,s.toString(),(function(t){t?t.error?n(iu(t,o||{})):e(t):n(new T("network-request-failed"))}),r,u?void 0:er(Lr(i)),t.a,t.v.get())}))}function hs(t){if("string"!=typeof(t=t.email)||!vr.test(t))throw new T("invalid-email")}function ls(t){"email"in t&&hs(t)}function fs(t){if(!t[Xa]){if(t.mfaPendingCredential)throw new T("multi-factor-auth-required",null,ft(t));throw new T("internal-error")}}function ds(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new T("internal-error")}else{if(!t.sessionInfo)throw new T("missing-verification-id");if(!t.code)throw new T("missing-verification-code")}}Ya.prototype.s=function(t,e,n,r,i){var o=this;Qa.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Ya.prototype.zb=function(){return nu(this,$s,{})},Ya.prototype.Bb=function(t,e){return nu(this,Bs,{idToken:t,email:e})},Ya.prototype.Cb=function(t,e){return nu(this,Ks,{idToken:t,password:e})};var ps={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function vs(t){if(!t.phoneVerificationInfo)throw new T("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new T("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new T("missing-verification-code")}function ms(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new T("internal-error")}function gs(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(Xn(t=new zn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function ys(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Ho(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Ho(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Ho(t)):t.errorMessage&&(e=ru(t.errorMessage)),e)throw e;fs(t)}function bs(t,e){return e.returnIdpCredential=!0,nu(t,zs,e)}function ws(t,e){return e.returnIdpCredential=!0,nu(t,Ys,e)}function Is(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,nu(t,Ws,e)}function Es(t){if(!t.oobCode)throw new T("invalid-action-code")}(t=Ya.prototype).Db=function(t,e){var n={idToken:t},r=[];return ht(ps,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),nu(this,Bs,n)},t.vb=function(t,e){return pt(t={requestType:"PASSWORD_RESET",email:t},e),nu(this,Vs,t)},t.wb=function(t,e){return pt(t={requestType:"EMAIL_SIGNIN",email:t},e),nu(this,Ps,t)},t.ub=function(t,e){return pt(t={requestType:"VERIFY_EMAIL",idToken:t},e),nu(this,Ls,t)},t.Eb=function(t,e,n){return pt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),nu(this,Ms,t)},t.fb=function(t){return nu(this,Js,t)},t.nb=function(t,e){return nu(this,Us,{oobCode:t,newPassword:e})},t.Ra=function(t){return nu(this,Ss,{oobCode:t})},t.jb=function(t){return nu(this,Ts,{oobCode:t})};var Ts={endpoint:"setAccountInfo",A:Es,Z:"email",B:!0},Ss={endpoint:"resetPassword",A:Es,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new T("internal-error")},B:!0},_s={endpoint:"signupNewUser",A:function(t){if(hs(t),!t.password)throw new T("weak-password")},G:fs,V:!0,B:!0},As={endpoint:"createAuthUri",B:!0},Ns={endpoint:"deleteAccount",N:["idToken"]},ks={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new T("internal-error")}},Ds={endpoint:"emailLinkSignin",N:["email","oobCode"],A:hs,G:fs,V:!0,B:!0},Cs={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:hs,G:fs,V:!0},xs={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:vs,G:fs,B:!0,Na:!0},Os={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:vs,G:fs,B:!0,Na:!0},Rs={endpoint:"getAccountInfo"},Ps={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new T("internal-error");hs(t)},Z:"email",B:!0},Ls={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",B:!0},Ms={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",B:!0},Vs={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new T("internal-error");hs(t)},Z:"email",B:!0},qs={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},Fs={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new T("internal-error")}},Us={endpoint:"resetPassword",A:Es,Z:"email",B:!0},js={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Bs={endpoint:"setAccountInfo",N:["idToken"],A:ls,V:!0},Ks={endpoint:"setAccountInfo",N:["idToken"],A:function(t){if(ls(t),!t.password)throw new T("weak-password")},G:fs,V:!0},$s={endpoint:"signupNewUser",G:fs,V:!0,B:!0},Gs={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new T("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new T("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},Hs={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},zs={endpoint:"verifyAssertion",A:ms,Ya:gs,G:ys,V:!0,B:!0},Ws={endpoint:"verifyAssertion",A:ms,Ya:gs,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new T("user-not-found");if(t.errorMessage)throw ru(t.errorMessage);fs(t)},V:!0,B:!0},Ys={endpoint:"verifyAssertion",A:function(t){if(ms(t),!t.idToken)throw new T("internal-error")},Ya:gs,G:ys,V:!0},Qs={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new T("invalid-custom-token")},G:fs,V:!0,B:!0},Xs={endpoint:"verifyPassword",A:function(t){if(hs(t),!t.password)throw new T("wrong-password")},G:fs,V:!0,B:!0},Js={endpoint:"verifyPhoneNumber",A:ds,G:fs,B:!0},Zs={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new T("internal-error");ds(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Ho(t);fs(t)}},tu={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ds,G:fs,B:!0},eu={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Xa]^!!t.refreshToken)throw new T("internal-error")},B:!0,Na:!0};function nu(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.N))return Ne(new T("internal-error"));var r,i=!!e.Na,o=e.Ub||"POST";return Ae(n).then(e.A).then((function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),cs(t,i?t.i:t.h,e.endpoint,o,n,e.Hb,e.lb||!1)})).then((function(t){return r=t,e.Ya?e.Ya(n,r):r})).then(e.G).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new T("internal-error");return r[e.Z]}))}function ru(t){return iu({error:{errors:[{message:t}],code:400,message:t}})}function iu(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new T(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",pt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new T(r[i],e);return!e&&t&&(e=Pr(t)),new T("internal-error",e)}function ou(t){this.b=t,this.a=null,this.rb=function(t){return(cu||(cu=new be((function(t,e){function n(){Fr(),kr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Fr(),e(Error("Network Error"))},timeout:su.get()})}if(kr("gapi.iframes.Iframe"))t();else if(kr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[r]=function(){kr("gapi.load")?n():e(Error("Network Error"))},Ae(Ba(r=St(au,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw cu=null,t})))).then((function(){return new be((function(e,n){kr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),uu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var au=new mt(wt,"https://apis.google.com/js/api.js?onload=%{onload}"),su=new Ur(3e4,6e4),uu=new Ur(5e3,15e3),cu=null;function hu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,this.g?t=qn((t=Vn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):t=qn("https",this.l,null,"/__/auth/iframe"),this.a=t,Ln(this.a,"apiKey",this.h),Ln(this.a,"appName",this.i),this.b=null,this.c=[]}function lu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function fu(t){try{return Re.app(t).auth().Ga()}catch(t){return[]}}function du(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function pu(t){var e=ur();return function(t){return nu(t,qs,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Vn(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Vn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:pr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new $o(ur())}))}function vu(t){return t.m||(t.m=mr().then((function(){if(!t.u){var e=t.c,n=t.i,r=fu(t.b),i=new hu(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=Y(r||[]),t.u=i.toString()}t.v=new ou(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.rb.then((function(){t.a.register("authEvent",e,kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.v,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Uo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Ae(n)}return n.status="ERROR",Ae(n)}))}(t)}))),t.m}function mu(t){return t.l||(t.C=t.c?Ar(t.c,fu(t.b)):null,t.l=new Ya(t.g,D(t.i),t.C),t.f&&rs(t.l,t.f)),t.l}function gu(t,e,n,r,i,o,a,s,u,c,h,l){return(t=new lu(t,e,n,r,i,l)).l=o,t.g=a,t.i=s,t.b=ft(u||null),t.f=c,t.yb(h).toString()}function yu(t){if(this.a=t||Re.INTERNAL.reactNative&&Re.INTERNAL.reactNative.AsyncStorage,!this.a)throw new T("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function bu(t){this.b=t,this.a={},this.f=b(this.c,this)}hu.prototype.toString=function(){return this.f?Ln(this.a,"v",this.f):Qn(this.a.b,"v"),this.b?Ln(this.a,"eid",this.b):Qn(this.a.b,"eid"),this.c.length?Ln(this.a,"fw",this.c.join(",")):Qn(this.a.b,"fw"),this.a.toString()},lu.prototype.yb=function(t){return this.h=t,this},lu.prototype.toString=function(){if(this.v){var t=Vn(this.v.url);t=qn(t.c,t.a,t.g,"/emulator/auth/handler")}else t=qn("https",this.u,null,"/__/auth/handler");if(Ln(t,"apiKey",this.s),Ln(t,"appName",this.c),Ln(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=Re.app(this.c).auth().la()}catch(t){n=null}for(var r in e.ob=n,Ln(t,"providerId",this.a.providerId),e=Lr((n=this.a).Ib))e[r]=e[r].toString();r=n.Qc,e=ft(e);for(var i=0;i<r.length;i++){var o=r[i];o in e&&delete e[o]}n.pb&&n.ob&&!e[n.pb]&&(e[n.pb]=n.ob),lt(e)||Ln(t,"customParameters",Pr(e))}if("function"==typeof this.a.Qb&&((n=this.a.Qb()).length&&Ln(t,"scopes",n.join(","))),this.l?Ln(t,"redirectUrl",this.l):Qn(t.b,"redirectUrl"),this.g?Ln(t,"eventId",this.g):Qn(t.b,"eventId"),this.i?Ln(t,"v",this.i):Qn(t.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Mn(t,a)&&Ln(t,a,this.b[a]);return this.h?Ln(t,"tid",this.h):Qn(t.b,"tid"),this.f?Ln(t,"eid",this.f):Qn(t.b,"eid"),(a=fu(this.c)).length&&Ln(t,"fw",a.join(",")),t.toString()},(t=du.prototype).Ob=function(t,e,n){var r=new T("popup-closed-by-user"),i=new T("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(t){var e={type:"webStorageSupport"};return vu(t).then((function(){return function(t,e){return t.rb.then((function(){return new be((function(n){t.a.send(e.type,e,n,kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.v,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&fr(t),e(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(t){return new be((function(e){return function n(){Sn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!a)return Sn(n).then((function(){e(r)}))}))},t.Xb=function(){var t=Nr();return!Rr(t)&&!qr(t)},t.Tb=function(){return!1},t.Mb=function(t,e,n,r,i,o,a,s){if(!t)return Ne(new T("popup-blocked"));if(a&&!Rr())return this.ma().o((function(e){fr(t),i(e)})),r(),Ae();this.a||(this.a=pu(mu(this)));var u=this;return this.a.then((function(){var e=u.ma().o((function(e){throw fr(t),i(e),e}));return r(),e})).then((function(){(qo(n),a)||cr(gu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,s,u.f),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Nb=function(t,e,n,r){this.a||(this.a=pu(mu(this)));var i=this;return this.a.then((function(){qo(e),cr(gu(i.s,i.g,i.b,t,e,ur(),n,i.c,void 0,i.i,r,i.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ma=function(){var t=this;return vu(this).then((function(){return t.v.rb})).o((function(){throw t.a=null,new T("network-request-failed")}))},t.$b=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Sa=function(t){z(this.h,(function(e){return e==t}))},(t=yu.prototype).get=function(t){return Ae(this.a.getItem(t)).then((function(t){return t&&Mr(t)}))},t.set=function(t,e){return Ae(this.a.setItem(t,Pr(e)))},t.U=function(t){return Ae(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var wu,Iu=[];function Eu(t,e,n){lt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function Tu(t){this.a=t}function Su(t){this.c=t,this.b=!1,this.a=[]}function _u(t,e,n,r){var i,o,a,s,u=n||{},c=null;if(t.b)return Ne(Error("connection_unavailable"));var h=r?800:50,l="undefined"!=typeof MessageChannel?new MessageChannel:null;return new be((function(n,r){l?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),l.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),h),c={messageChannel:l,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(s),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},t.a.push(c),l.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[l.port2])):r(Error("connection_unavailable"))})).then((function(e){return Au(t,c),e})).o((function(e){throw Au(t,c),e}))}function Au(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),z(t.a,(function(t){return t==e}))}}function Nu(){if(!xu())throw new T("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=a.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;br()&&self?(this.v=function(){var t=br()?self:null;if(j(Iu,(function(n){n.b==t&&(e=n)})),!e){var e=new bu(t);Iu.push(e)}return e}(),Eu(this.v,"keyChanged",(function(e,n){return Mu(t).then((function(e){return 0<e.length&&j(t.a,(function(t){t(e)})),{keyProcessed:G(e,n.key)}}))})),Eu(this.v,"ping",(function(){return Ae(["keyChanged"])}))):function(){var t=a.navigator;return t&&t.serviceWorker?Ae().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Ae(null)}().then((function(e){(t.h=e)&&(t.g=new Su(new Tu(e)),_u(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&G(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function ku(t){return new be((function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new be((function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return ku(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function Du(t){return t.i||(t.i=ku(t)),t.i}function Cu(t,e){var n=0;return new be((function r(i,o){Du(t).then(e).then(i).o((function(e){if(!(3<++n))return Du(t).then((function(e){return e.close(),t.i=void 0,r(i,o)})).o((function(t){o(t)}));o(e)}))}))}function xu(){try{return!!a.indexedDB}catch(t){return!1}}function Ou(t){return t.objectStore("firebaseLocalStorage")}function Ru(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Pu(t){return new be((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Lu(t,e){return t.g&&t.h&&function(){var t=a.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?_u(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Ae()}function Mu(t){return Du(t).then((function(t){var e=Ou(Ru(t,!1));return e.getAll?Pu(e.getAll()):new be((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=hr(t.c,n),t.c=n}return r}))}function Vu(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function qu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Ae().then((function(){if(xu()){var t=Vr(),r="__sak"+t;return wu||(wu=new Nu),(n=wu).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){j(e.a,(function(e){e(t)}))})),t}))}function Fu(){this.a={},this.type="inMemory"}function Uu(){if(!function(){var t="Node"==wr();if(!(t=ju()||t&&Re.INTERNAL.node&&Re.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==wr())throw new T("internal-error","The LocalStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=ju()||Re.INTERNAL.node.localStorage,this.type="localStorage"}function ju(){try{var t=a.localStorage,e=Vr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Bu(){this.type="nullStorage"}function Ku(){if(!function(){var t="Node"==wr();if(!(t=$u()||t&&Re.INTERNAL.node&&Re.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==wr())throw new T("internal-error","The SessionStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=$u()||Re.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function $u(){try{var t=a.sessionStorage,e=Vr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Gu(){var t={};t.Browser=Wu,t.Node=Yu,t.ReactNative=Qu,t.Worker=Xu,this.a=t[wr()]}bu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];j(r,(function(e){i.push(Ae().then((function(){return e(t.origin,t.data.data)})))})),De(i).then((function(r){var i=[];j(r,(function(t){i.push({fulfilled:t.Pb,value:t.value,reason:t.reason?t.reason.message:void 0})})),j(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},Tu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Su.prototype.close=function(){for(;0<this.a.length;)Au(this,this.a[0]);this.b=!0},(t=Nu.prototype).set=function(t,e){var n=this,r=!1;return Cu(this,(function(e){return Pu((e=Ou(Ru(e,!0))).get(t))})).then((function(i){return Cu(n,(function(o){if(o=Ou(Ru(o,!0)),i)return i.value=e,Pu(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=t,a.value=e,Pu(o.add(a))}))})).then((function(){return n.c[t]=e,Lu(n,t)})).oa((function(){r&&n.b--}))},t.get=function(t){return Cu(this,(function(e){return Pu(Ou(Ru(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.U=function(t){var e=this,n=!1;return Cu(this,(function(r){return n=!0,e.b++,Pu(Ou(Ru(r,!0)).delete(t))})).then((function(){return delete e.c[t],Lu(e,t)})).oa((function(){n&&e.b--}))},t.ca=function(t){0==this.a.length&&function(t){function e(){t.f=setTimeout((function(){t.l=Mu(t).then((function(e){0<e.length&&j(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}Vu(t),e()}(this),this.a.push(t)},t.ia=function(t){z(this.a,(function(e){return e==t})),0==this.a.length&&Vu(this)},(t=qu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.U=function(t){return this.b.then((function(e){return e.U(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){z(this.a,(function(e){return e==t}))},(t=Fu.prototype).get=function(t){return Ae(this.a[t])},t.set=function(t,e){return this.a[t]=e,Ae()},t.U=function(t){return delete this.a[t],Ae()},t.ca=function(){},t.ia=function(){},(t=Uu.prototype).get=function(t){var e=this;return Ae().then((function(){return Mr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ae().then((function(){var r=Pr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return Ae().then((function(){e.a.removeItem(t)}))},t.ca=function(t){a.window&&sn(a.window,"storage",t)},t.ia=function(t){a.window&&hn(a.window,"storage",t)},(t=Bu.prototype).get=function(){return Ae(null)},t.set=function(){return Ae()},t.U=function(){return Ae()},t.ca=function(){},t.ia=function(){},(t=Ku.prototype).get=function(t){var e=this;return Ae().then((function(){return Mr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ae().then((function(){var r=Pr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return Ae().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var Hu,zu,Wu={F:Uu,bb:Ku},Yu={F:Uu,bb:Ku},Qu={F:yu,bb:Bu},Xu={F:Uu,bb:Bu},Ju={rd:"local",NONE:"none",td:"session"};function Zu(){var t=!(qr(Nr())||!yr()),e=Rr(),n=Dr();this.m=t,this.h=e,this.l=n,this.a={},Hu||(Hu=new Gu),t=Hu;try{this.g=!sr()&&Kr()||!a.indexedDB?new t.a.F:new qu(br()?new Fu:new t.a.F)}catch(t){this.g=new Fu,this.h=!0}try{this.i=new t.a.bb}catch(t){this.i=new Fu}this.v=new Fu,this.f=b(this.Yb,this),this.b={}}function tc(){return zu||(zu=new Zu),zu}function ec(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function nc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function rc(t,e,n){return n=nc(e,n),"local"==e.F&&(t.b[n]=null),ec(t,e.F).U(n)}function ic(t){t.c&&(clearInterval(t.c),t.c=null)}function oc(t){this.a=t,this.b=tc()}(t=Zu.prototype).get=function(t,e){return ec(this,t.F).get(nc(t,e))},t.set=function(t,e,n){var r=nc(t,n),i=this,o=ec(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=nc(t,e),this.l&&(this.b[t]=a.localStorage.getItem(t)),lt(this.a)&&(ec(this,"local").ca(this.f),this.h||(sr()||!Kr())&&a.indexedDB||!this.l||function(t){ic(t),t.c=setInterval((function(){for(var e in t.a){var n=a.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Ye({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Yb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=nc(t,e),this.a[t]&&(z(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),lt(this.a)&&(ec(this,"local").ia(this.f),ic(this))},t.Yb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.mb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?ec(this,"local").ia(this.f):ic(this),this.m)if(n=a.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?a.localStorage.setItem(e,r):a.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===a.localStorage.getItem(e)||(o.b[e]=a.localStorage.getItem(e),o.mb(e))},Ht&&oe&&10==oe&&a.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else j(t,b(this.mb,this))},t.mb=function(t){this.a[t]&&j(this.a[t],(function(t){t()}))};var ac,sc={name:"authEvent",F:"local"};function uc(){this.a=tc()}function cc(t,e){this.b=hc,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===ac&&(ac=a.Int32Array?new Int32Array(gc):gc),this.reset()}I(cc,(function(){this.b=-1}));for(var hc=64,lc=hc-1,fc=[],dc=0;dc<lc;dc++)fc[dc]=0;var pc=W(128,fc);function vc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],h=0|t.a[5],l=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&h^~c&l)+(0|ac[e])|0)+(0|n[e])|0)|0,o=l,l=h,h=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+h|0,t.a[6]=t.a[6]+l|0,t.a[7]=t.a[7]+o|0}function mc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(vc(t),i=0);else{if(!f(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(vc(t),i=0)}}t.c=i,t.g+=n}cc.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):Y(this.h)};var gc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function yc(){cc.call(this,8,bc)}I(yc,cc);var bc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function wc(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new uc,this.g=new oc(this.h),this.f=null,this.b=[],this.a=this.c=null}function Ic(t){return new T("invalid-cordova-configuration",t)}function Ec(t){var e=new yc;mc(e,t),t=[];var n=8*e.g;56>e.c?mc(e,pc,56-e.c):mc(e,pc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(vc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return K(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}function Tc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function Sc(t){return t.f||(t.f=t.ma().then((function(){return new be((function(e){t.Ea((function n(r){return e(r),t.Sa(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),_c(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=ro(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Mr(Mn(o=Vn(i),"firebaseError")||null))?S(o):null)?new Fo(r.c,r.b,null,null,o,null,r.T()):new Fo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Tc(t,i)}))}var n=new Fo("unknown",null,null,null,new T("no-auth-event")),r=!1,i=Sn(500).then((function(){return _c(t).then((function(){r||Tc(t,n)}))})),o=a.handleOpenURL;a.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(kr("BuildInfo.packageName",a).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(t){console.error(t)}},Ko||(Ko=new jo),function(t){var e=Ko;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=kr("universalLinks.subscribe",a))&&t(null,e.b))}(e)}(t)}))}))),t.f}function _c(t){var e=null;return function(t){return t.b.get(sc,t.a).then((function(t){return Uo(t)}))}(t.g).then((function(n){return e=n,rc((n=t.g).b,sc,n.a)})).then((function(){return e}))}function Ac(t){this.a=t,this.b=tc()}(t=wc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(gr(void 0)?mr().then((function(){return new be((function(t,e){var n=a.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Ne(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof kr("universalLinks.subscribe",a))throw Ic("cordova-universal-links-plugin-fix is not installed");if(void 0===kr("BuildInfo.packageName",a))throw Ic("cordova-plugin-buildinfo is not installed");if("function"!=typeof kr("cordova.plugins.browsertab.openUrl",a))throw Ic("cordova-plugin-browsertab is not installed");if("function"!=typeof kr("cordova.InAppBrowser.open",a))throw Ic("cordova-plugin-inappbrowser is not installed")}),(function(){throw new T("cordova-not-ready")}))},t.Ob=function(t,e){return e(new T("operation-not-supported-in-this-environment")),Ae()},t.Mb=function(){return Ne(new T("operation-not-supported-in-this-environment"))},t.$b=function(){return!1},t.Xb=function(){return!0},t.Tb=function(){return!0},t.Nb=function(t,e,n,r){if(this.c)return Ne(new T("redirect-operation-pending"));var i=this,o=a.document,s=null,u=null,c=null,h=null;return this.c=Ae().then((function(){return qo(e),Sc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new Fo(e,r,null,o,new T("no-auth-event"),null,i),u=kr("BuildInfo.packageName",a);if("string"!=typeof u)throw new T("invalid-cordova-configuration");var c=kr("BuildInfo.displayName",a),h={};if(Nr().toLowerCase().match(/iphone|ipad|ipod/))h.ibi=u;else{if(!Nr().toLowerCase().match(/android/))return Ne(new T("operation-not-supported-in-this-environment"));h.apn=u}c&&(h.appDisplayName=c),o=Ec(o),h.sessionId=o;var l=gu(t.v,t.i,t.l,e,n,null,r,t.m,h,t.u,i,t.s);return t.ma().then((function(){var e=t.h;return t.C.a.set(sc,s.w(),e)})).then((function(){var e=kr("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof e)throw new T("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=kr("cordova.plugins.browsertab.openUrl",a)))throw new T("invalid-cordova-configuration");n(l)}else{if("function"!=typeof(n=kr("cordova.InAppBrowser.open",a)))throw new T("invalid-cordova-configuration");e=Nr(),t.a=n(l,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new be((function(t,e){u=function(){var e=kr("cordova.plugins.browsertab.close",a);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){s||(s=Sn(2e3).then((function(){e(new T("redirect-cancelled-by-user"))})))},h=function(){jr()&&c()},o.addEventListener("resume",c,!1),Nr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",h,!1)})).o((function(t){return _c(i).then((function(){throw t}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),h&&o.removeEventListener("visibilitychange",h,!1),s&&s.cancel(),u&&i.Sa(u),i.c=null}))},t.Ea=function(t){this.b.push(t),Sc(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Fo("unknown",null,null,null,new T("no-auth-event")),t(e))}))},t.Sa=function(t){z(this.b,(function(e){return e==t}))};var Nc={name:"pendingRedirect",F:"session"};function kc(t){return rc(t.b,Nc,t.a)}function Dc(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=b(this.s,this),this.b=new $c,this.C=new Yc,this.g=new Ac(Bc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Cc(this.D,this.v,this.m,_,this.J)}function Cc(t,e,n,r,i){var o=Re.SDK_VERSION||null;return gr()?new wc(t,e,n,o,r,i):new du(t,e,n,o,r,i)}function xc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o((function(n){throw t.a==e&&t.reset(),n}))}function Oc(t){t.a.Xb()&&xc(t).o((function(e){var n=new Fo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));qc(e)&&t.s(n)})),t.a.Tb()||Gc(t.b)}function Rc(t,e){G(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Nc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?kc(t.g).then((function(){xc(t).o((function(e){var n=new Fo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));qc(e)&&t.s(n)}))})):Oc(t)})).o((function(){Oc(t)}))}function Pc(t,e){z(t.h,(function(t){return t==e}))}Dc.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=Cc(this.D,this.v,this.m,null,this.J),this.i={}},Dc.prototype.s=function(t){if(!t)throw new T("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Fb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return Gc(this.b),e};var Lc=new Ur(2e3,1e4),Mc=new Ur(3e4,6e4);function Vc(t,e,n,r,i,o,a){return t.a.Mb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,a)}function qc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Fc(t,e,n,r,i){var o;return function(t){return t.b.set(Nc,"pending",t.a)}(t.g).then((function(){return t.a.Nb(e,n,r,i).o((function(e){if(qc(e))throw new T("operation-not-supported-in-this-environment");return o=e,kc(t.g).then((function(){throw o}))})).then((function(){return t.a.$b()?new be((function(){})):kc(t.g).then((function(){return t.qa()})).then((function(){})).o((function(){}))}))}))}function Uc(t,e,n,r,i){return t.a.Ob(r,(function(t){e.na(n,null,t,i)}),Lc.get())}Dc.prototype.qa=function(){return this.b.qa()};var jc={};function Bc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Kc(t,e,n,r){var i=Bc(e,n,r);return jc[i]||(jc[i]=new Dc(t,e,n,r)),jc[i]}function $c(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Gc(t){t.g||(t.g=!0,Wc(t,!1,null,null))}function Hc(t){t.g&&!t.i&&Wc(t,!1,null,null)}function zc(t,e){if(t.b=function(){return Ae(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Wc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ne(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):zc(t,n):zc(t,{user:null}),t.f=[],t.c=[]}function Yc(){}function Qc(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(t){this.ib=t},enumerable:!1})}function Xc(t,e){this.a=e,Wr(this,"verificationId",t)}function Jc(t,e,n,r){return new Lo(t).fb(e,n).then((function(t){return new Xc(t,r)}))}function Zc(t){var e=Ki(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new T("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Yr(this,{token:t,expirationTime:Br(1e3*e.exp),authTime:Br(1e3*e.auth_time),issuedAtTime:Br(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function th(t,e,n){var r=e&&e[nh];if(!r)throw new T("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=ft(e),this.g=n,this.c=new io(null,r),this.b=[];var i=this;j(e[eh]||[],(function(t){(t=Zr(t))&&i.b.push(t)})),Wr(this,"auth",this.a),Wr(this,"session",this.c),Wr(this,"hints",this.b)}$c.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},$c.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Wc(this,!0,null,t.a),Ae()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.T(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then((function(e){Wc(t,s,e,null)})).o((function(e){Wc(t,s,null,e)}))}(this,t,e):Ne(new T("invalid-auth-event")):(Wc(this,!1,null,null),Ae())}else Ne(new T("invalid-auth-event"))},$c.prototype.qa=function(){var t=this;return new be((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new T("timeout");t.a&&t.a.cancel(),t.a=Sn(Mc.get()).then((function(){t.b||(t.g=!0,Wc(t,!0,null,e))}))}(t))}))},Yc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),Ae()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then((function(t){e.na(r,t,null,n)})).o((function(t){e.na(r,null,t,n)}))}(t,e):Ne(new T("invalid-auth-event"))}else Ne(new T("invalid-auth-event"))},Xc.prototype.confirm=function(t){return t=Mo(this.verificationId,t),this.a(t)};var eh="mfaInfo",nh="mfaPendingCredential";function rh(t,e,n,r){T.call(this,"multi-factor-auth-required",r,e),this.b=new th(t,e,n),Wr(this,"resolver",this.b)}function ih(t,e,n){if(t&&p(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new rh(e,t.serverResponse,n,t.message)}catch(t){}return null}function oh(){}function ah(t){Wr(this,"factorId",t.fa),this.a=t}function sh(t){if(ah.call(this,t),this.a.fa!=Lo.PROVIDER_ID)throw new T("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function uh(t,e){for(var n in We.call(this,t),e)this[n]=e[n]}function ch(t,e){this.a=t,this.b=[],this.c=b(this.yc,this),sn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&j(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ni]=t.uid),t.displayName&&(r[ti]=t.displayName),t.enrollmentTime&&(r[ei]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ri]=t.phoneNumber);try{e=new ii(r)}catch(t){}t=e}else t=null;t&&n.push(t)})),hh(this,n)}function hh(t,e){t.b=e,Wr(t,"enrolledFactors",e)}function lh(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function fh(t,e){t.stop(),t.b=Sn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then((function(){return function(){var t=a.document,e=null;return jr()||!t?Ae():new be((function(n){e=function(){jr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return t.h()})).then((function(){fh(t,!0)})).o((function(e){t.i(e)&&fh(t,!1)}))}function dh(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function ph(t,e){void 0===e&&(t.b?e=(e=t.b).a-e.g:e=0),t.c=Date.now()+1e3*e}function vh(t,e){t.b=Bi(e[Xa]||""),t.a=e.refreshToken,ph(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function mh(t,e){return function(t,e){return new be((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?as(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(iu(t)):t.access_token&&t.refresh_token?n(t):r(new T("internal-error")):r(new T("network-request-failed"))}),"POST",Yn(e).toString(),t.g,t.m.get()):r(new T("internal-error"))}))}(t.f,e).then((function(e){return t.b=Bi(e.access_token),t.a=e.refresh_token,ph(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function gh(t,e){this.a=t||null,this.b=e||null,Yr(this,{lastSignInTime:Br(e||null),creationTime:Br(t||null)})}function yh(t,e,n,r,i,o){Yr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function bh(t,e,n){this.J=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var r=Re.SDK_VERSION?Ar(Re.SDK_VERSION):null;this.a=new Ya(this.l,D(_),r),t.emulatorConfig&&rs(this.a,t.emulatorConfig),this.b=new dh(this.a),Nh(this,e[Xa]),vh(this.b,e),Wr(this,"refreshToken",this.b.a),Ch(this,n||{}),bn.call(this),this.R=!1,this.s&&Cr()&&(this.i=Kc(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=function(t){return new lh((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.b.c-Date.now()-3e5;return 0<e?e:0}))}(this),this.aa=b(this.hb,this);var i=this;this.ya=null,this.Oa=function(t){i.wa(t.h)},this.ja=null,this.Aa=function(t){rs(i.a,t.c)},this.X=null,this.$=[],this.Ba=function(t){Eh(i,t.f)},this.ba=null,this.O=new ch(this,n),Wr(this,"multiFactor",this.O)}function wh(t,e){t.ja&&hn(t.ja,"languageCodeChanged",t.Oa),(t.ja=e)&&sn(e,"languageCodeChanged",t.Oa)}function Ih(t,e){t.X&&hn(t.X,"emulatorConfigChanged",t.Aa),(t.X=e)&&sn(e,"emulatorConfigChanged",t.Aa)}function Eh(t,e){t.$=e,os(t.a,Re.SDK_VERSION?Ar(Re.SDK_VERSION,t.$):null)}function Th(t,e){t.ba&&hn(t.ba,"frameworkChanged",t.Ba),(t.ba=e)&&sn(e,"frameworkChanged",t.Ba)}function Sh(t){try{return Re.app(t.m).auth()}catch(e){throw new T("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function _h(t){t.D||t.u.b||(t.u.start(),hn(t,"tokenChanged",t.aa),sn(t,"tokenChanged",t.aa))}function Ah(t){hn(t,"tokenChanged",t.aa),t.u.stop()}function Nh(t,e){t.za=e,Wr(t,"_lat",e)}function kh(t){for(var e=[],n=0;n<t.S.length;n++)e.push(t.S[n](t));return De(e).then((function(){return t}))}function Dh(t){t.i&&!t.R&&(t.R=!0,Rc(t.i,t))}function Ch(t,e){Yr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new gh(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function xh(){}function Oh(t){return Ae().then((function(){if(t.D)throw new T("app-deleted")}))}function Rh(t){return K(t.providerData,(function(t){return t.providerId}))}function Ph(t,e){e&&(Lh(t,e.providerId),t.providerData.push(e))}function Lh(t,e){z(t.providerData,(function(t){return t.providerId==e}))}function Mh(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Wr(t,e,n)}function Vh(t,e){t!=e&&(Yr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Wr(t,"metadata",function(t){return new gh(t.a,t.b)}(e.metadata)):Wr(t,"metadata",new gh),j(e.providerData,(function(e){Ph(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),Wr(t,"refreshToken",t.b.a),hh(t.O,e.O.b))}function qh(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return nu(t.a,Rs,{idToken:e}).then(b(t.Kc,t))}(t,e).then((function(){return n||Mh(t,"isAnonymous",!1),e}))}))}function Fh(t,e){e[Xa]&&t.za!=e[Xa]&&(vh(t.b,e),t.dispatchEvent(new uh("tokenChanged")),Nh(t,e[Xa]),Mh(t,"refreshToken",t.b.a))}function Uh(t,e){return qh(t).then((function(){if(G(Rh(t),e))return kh(t).then((function(){throw new T("provider-already-linked")}))}))}function jh(t,e,n){return Qr({user:t,credential:Vo(e),additionalUserInfo:e=Wi(e),operationType:n})}function Bh(t,e){return Fh(t,e),t.reload().then((function(){return t}))}function Kh(t,e,n,r,i){if(!Cr())return Ne(new T("operation-not-supported-in-this-environment"));if(t.h&&!i)return Ne(t.h);var o=zi(n.providerId),a=Vr(t.uid+":::"),s=null;(!Rr()||yr())&&t.s&&n.isOAuthProvider&&(s=gu(t.s,t.l,t.m,e,n,null,a,Re.SDK_VERSION||null,null,null,t.tenantId));var u=dr(s,o&&o.ua,o&&o.ta);return r=r().then((function(){if(Gh(t),!i)return t.I().then((function(){}))})).then((function(){return Vc(t.i,u,e,n,a,!!s,t.tenantId)})).then((function(){return new be((function(n,r){t.na(e,null,new T("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=a,t.c=Uc(t.i,t,e,u,a)}))})).then((function(t){return u&&fr(u),t?Qr(t):null})).o((function(t){throw u&&fr(u),t})),Hh(t,r,i)}function $h(t,e,n,r,i){if(!Cr())return Ne(new T("operation-not-supported-in-this-environment"));if(t.h&&!i)return Ne(t.h);var o=null,a=Vr(t.uid+":::");return r=r().then((function(){if(Gh(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=a,kh(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(Yh,t.w(),e.a)),e})).then((function(){return Fc(t.i,e,n,a,t.tenantId)})).o((function(e){if(o=e,t.ha)return Qh(t.ha);throw o})).then((function(){if(o)throw o})),Hh(t,r,i)}function Gh(t){if(!t.i||!t.R){if(t.i&&!t.R)throw new T("internal-error");throw new T("auth-domain-config-required")}}function Hh(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),Ne(t.h)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new uh("userInvalidated")),t.h=e),e}))}(t,e,n);return t.J.push(r),r.oa((function(){H(t.J,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=ih(e.w(),Sh(t),b(t.jc,t))),n||e}))}function zh(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Xa]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new bh(e,n,t);return t.providerData&&j(t.providerData,(function(t){t&&Ph(i,Qr(t))})),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Wh(t){this.a=t,this.b=tc()}th.prototype.Rc=function(t){var e=this;return t.sb(this.a.a,this.c).then((function(t){var n=ft(e.f);return delete n[eh],delete n[nh],pt(n,t),e.g(n)}))},I(rh,T),oh.prototype.sb=function(t,e,n){return e.type==oo?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),pt(n,{phoneVerificationInfo:Po(t.a)}),nu(e,xs,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return pt(n={mfaPendingCredential:n},{phoneVerificationInfo:Po(t.a)}),nu(e,Os,n)}))}(this,t,e)},I(ah,oh),I(sh,ah),I(uh,We),(t=ch.prototype).yc=function(t){hh(this,function(t){var e=[];return j(t.mfaInfo||[],(function(t){(t=Zr(t))&&e.push(t)})),e}(t.hd))},t.Rb=function(){return this.a.I().then((function(t){return new io(t,null)}))},t.fc=function(t,e){var n=this,r=this.a.a;return this.Rb().then((function(n){return t.sb(r,n,e)})).then((function(t){return Fh(n.a,t),n.a.reload()}))},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return nu(r,eu,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=B(e.b,(function(t){return t.uid!=n}));return hh(e,r),Fh(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:K(this.b,(function(t){return t.w()}))}}},lh.prototype.start=function(){this.a=this.c,fh(this,!0)},lh.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},dh.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},dh.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ne(new T("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?mh(this,{grant_type:"refresh_token",refresh_token:this.a}):Ae(null):Ae({accessToken:this.b.toString(),refreshToken:this.a})},gh.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},I(bh,bn),bh.prototype.wa=function(t){this.ya=t,ns(this.a,t)},bh.prototype.la=function(){return this.ya},bh.prototype.Ga=function(){return Y(this.$)},bh.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},Wr(bh.prototype,"providerId","firebase"),(t=bh.prototype).reload=function(){var t=this;return Hh(this,Oh(this).then((function(){return qh(t).then((function(){return kh(t)})).then(xh)})))},t.oc=function(t){return this.I(t).then((function(t){return new Zc(t)}))},t.I=function(t){var e=this;return Hh(this,Oh(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new T("internal-error");return t.accessToken!=e.za&&(Nh(e,t.accessToken),e.dispatchEvent(new uh("tokenChanged"))),Mh(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new T("internal-error");Ch(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?K(t,(function(t){return new yh(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Ph(this,e[n]);Mh(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new uh("userReloaded",{hd:t}))},t.Lc=function(t){return Hr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(t)},t.tb=function(t){var e=this,n=null;return Hh(this,t.c(this.a,this.uid).then((function(t){return Fh(e,t),n=jh(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},t.Cc=function(t){return Hr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(t)},t.qb=function(t){var e=this,n=null;return Hh(this,Uh(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=jh(e,t,"link"),Bh(e,t)})).then((function(){return n})))},t.Dc=function(t,e){var n=this;return Hh(this,Uh(this,"phone").then((function(){return Jc(Sh(n),t,e,b(n.qb,n))})))},t.Mc=function(t,e){var n=this;return Hh(this,Ae().then((function(){return Jc(Sh(n),t,e,b(n.tb,n))})),!0)},t.Bb=function(t){var e=this;return Hh(this,this.I().then((function(n){return e.a.Bb(n,t)})).then((function(t){return Fh(e,t),e.reload()})))},t.ed=function(t){var e=this;return Hh(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Fh(e,t),e.reload()})))},t.Cb=function(t){var e=this;return Hh(this,this.I().then((function(n){return e.a.Cb(n,t)})).then((function(t){return Fh(e,t),e.reload()})))},t.Db=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Oh(this);var e=this;return Hh(this,this.I().then((function(n){return e.a.Db(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Fh(e,t),Mh(e,"displayName",t.displayName||null),Mh(e,"photoURL",t.photoUrl||null),j(e.providerData,(function(t){"password"===t.providerId&&(Wr(t,"displayName",e.displayName),Wr(t,"photoURL",e.photoURL))})),kh(e)})).then(xh))},t.cd=function(t){var e=this;return Hh(this,qh(this).then((function(n){return G(Rh(e),t)?function(t,e,n){return nu(t,ks,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return j(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),j(Rh(e),(function(t){n[t]||Lh(e,t)})),n[Lo.PROVIDER_ID]||Wr(e,"phoneNumber",null),kh(e)})):kh(e).then((function(){throw new T("no-such-provider")}))})))},t.delete=function(){var t=this;return Hh(this,this.I().then((function(e){return nu(t.a,Ns,{idToken:e})})).then((function(){t.dispatchEvent(new uh("userDeleted"))}))).then((function(){for(var e=0;e<t.J.length;e++)t.J[e].cancel("app-deleted");wh(t,null),Ih(t,null),Th(t,null),t.J=[],t.D=!0,Ah(t),Wr(t,"refreshToken",null),t.i&&Pc(t.i,t)}))},t.Fb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?b(this.Kb,this):"reauthViaPopup"==t&&e==(this.g||null)?b(this.Lb,this):"linkViaRedirect"==t&&(this.ga||null)==e?b(this.Kb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?b(this.Lb,this):null},t.Ec=function(t){var e=this;return Kh(this,"linkViaPopup",t,(function(){return Uh(e,t.providerId).then((function(){return kh(e)}))}),!1)},t.Nc=function(t){return Kh(this,"reauthViaPopup",t,(function(){return Ae()}),!0)},t.Fc=function(t){var e=this;return $h(this,"linkViaRedirect",t,(function(){return Uh(e,t.providerId)}),!1)},t.Oc=function(t){return $h(this,"reauthViaRedirect",t,(function(){return Ae()}),!0)},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Hh(this,this.I().then((function(n){return ws(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=jh(i,t,"link"),Bh(i,t)})).then((function(){return o})))},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Hh(this,Ae().then((function(){return uo(Is(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=jh(i,t,"reauthenticate"),Fh(i,t),i.h=null,i.reload()})).then((function(){return o})),!0)},t.ub=function(t){var e=this,n=null;return Hh(this,this.I().then((function(e){return n=e,void 0===t||lt(t)?{}:qi(new ki(t))})).then((function(t){return e.a.ub(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Eb=function(t,e){var n=this,r=null;return Hh(this,this.I().then((function(t){return r=t,void 0===e||lt(e)?{}:qi(new ki(e))})).then((function(e){return n.a.Eb(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.jc=function(t){var e=null,n=this;return Hh(this,t=uo(Ae(t),n.uid).then((function(t){return e=jh(n,t,"reauthenticate"),Fh(n,t),n.h=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&pt(t,this.metadata.w()),j(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),pt(t,this.O.w()),t};var Yh={name:"redirectUser",F:"session"};function Qh(t){return rc(t.b,Yh,t.a)}function Xh(t){this.a=t,this.b=tc(),this.c=null,this.f=function(t){var e=tl("local"),n=tl("session"),r=tl("none");return function(t,e,n){var r=nc(e,n),i=ec(t,e.F);return t.get(e,n).then((function(o){var s=null;try{s=Mr(a.localStorage.getItem(r))}catch(t){}if(s&&!o)return a.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Zh,t.a).then((function(t){return t?tl(t):e}))}))}))})).then((function(e){return t.c=e,Jh(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(tl("local"),this.a,b(this.g,this))}function Jh(t,e){var n,r=[];for(n in Ju)Ju[n]!==e&&r.push(rc(t.b,tl(Ju[n]),t.a));return r.push(rc(t.b,Zh,t.a)),function(t){return new be((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)ke(t[s],w(o,s),a);else e(i)}))}(r)}Xh.prototype.g=function(){var t=this,e=tl("local");il(this,(function(){return Ae().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return Jh(t,"local").then((function(){t.c=e}))}))}))};var Zh={name:"persistence",F:"session"};function tl(t){return{name:"authUser",F:t}}function el(t,e){return il(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function nl(t){return il(t,(function(){return rc(t.b,t.c,t.a)}))}function rl(t,e,n){return il(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),zh(t||{})}))}))}function il(t,e){return t.f=t.f.then(e,e),t.f}function ol(t){if(this.l=!1,Wr(this,"settings",new Qc),Wr(this,"app",t),!pl(this).options||!pl(this).options.apiKey)throw new T("invalid-api-key");t=Re.SDK_VERSION?Ar(Re.SDK_VERSION):null,this.a=new Ya(pl(this).options&&pl(this).options.apiKey,D(_),t),this.R=[],this.s=[],this.O=[],this.hb=Re.INTERNAL.createSubscribe(b(this.zc,this)),this.X=void 0,this.bc=Re.INTERNAL.createSubscribe(b(this.Ac,this)),fl(this,null),this.i=new Xh(pl(this).options.apiKey+":"+pl(this).name),this.D=new Wh(pl(this).options.apiKey+":"+pl(this).name),this.$=yl(this,function(t){var e=pl(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Yh,t.a).then((function(t){return t&&e&&(t.authDomain=e),zh(t||{})}))}(t.D,pl(t).options.authDomain).then((function(e){return(t.m=e)&&(e.ha=t.D),Qh(t.D)}));return yl(t,e)}(t).then((function(){return rl(t.i,e,t.P)})).then((function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then((function(){return el(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:nl(t.i)}))):null})).then((function(e){fl(t,e||null)}));return yl(t,n)}(this)),this.h=yl(this,function(t){return t.$.then((function(){return hl(t)})).o((function(){})).then((function(){if(!t.l)return t.ja()})).o((function(){})).then((function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(tl("local"),e.a,t.ja)}}))}(this)),this.ba=!1,this.ja=b(this.Zc,this),this.Ba=b(this.da,this),this.ya=b(this.mc,this),this.za=b(this.wc,this),this.Aa=b(this.xc,this),this.b=null,function(t){var e=pl(t).options.authDomain,n=pl(t).options.apiKey;e&&Cr()&&(t.Oa=t.$.then((function(){if(!t.l){if(t.b=Kc(e,n,pl(t).name,t.P),Rc(t.b,t),vl(t)&&Dh(vl(t)),t.m){Dh(t.m);var r=t.m;r.wa(t.la()),wh(r,t),Eh(r=t.m,t.J),Th(r,t),rs((r=t.m).a,t.P),Ih(r,t),t.m=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=b(this.delete,this),this.INTERNAL.logFramework=b(this.Gc,this),this.u=0,bn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.yb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.P){var t=Vn(this.P.url);t=Qr({protocol:t.c,host:t.a,port:t.g,options:Qr({disableWarnings:this.P.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.P=null}function al(t){We.call(this,"languageCodeChanged"),this.h=t}function sl(t){We.call(this,"emulatorConfigChanged"),this.c=t}function ul(t){We.call(this,"frameworkChanged"),this.f=t}function cl(t){return t.Oa||Ne(new T("auth-domain-config-required"))}function hl(t){if(!Cr())return Ne(new T("operation-not-supported-in-this-environment"));var e=cl(t).then((function(){return t.b.qa()})).then((function(t){return t?Qr(t):null}));return yl(t,e)}function ll(t,e){var n={};return n.apiKey=pl(t).options.apiKey,n.authDomain=pl(t).options.authDomain,n.appName=pl(t).name,t.P&&(n.emulatorConfig=t.P),t.$.then((function(){return function(t,e,n,r){var i=new bh(t,e);return n&&(i.ha=n),r&&Eh(i,r),i.reload().then((function(){return i}))}(n,e,t.D,t.Ga())})).then((function(e){return vl(t)&&e.uid==vl(t).uid?(Vh(vl(t),e),t.da(e)):(fl(t,e),Dh(e),t.da(e))})).then((function(){gl(t)}))}function fl(t,e){vl(t)&&(function(t,e){z(t.S,(function(t){return t==e}))}(vl(t),t.Ba),hn(vl(t),"tokenChanged",t.ya),hn(vl(t),"userDeleted",t.za),hn(vl(t),"userInvalidated",t.Aa),Ah(vl(t))),e&&(e.S.push(t.Ba),sn(e,"tokenChanged",t.ya),sn(e,"userDeleted",t.za),sn(e,"userInvalidated",t.Aa),0<t.u&&_h(e)),Wr(t,"currentUser",e),e&&(e.wa(t.la()),wh(e,t),Eh(e,t.J),Th(e,t),rs(e.a,t.P),Ih(e,t))}function dl(t,e){var n=null,r=null;return yl(t,e.then((function(e){return n=Vo(e),r=Wi(e),ll(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=ih(e.w(),t,b(t.kc,t))),n||e})).then((function(){return Qr({user:vl(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function pl(t){return t.app}function vl(t){return t.currentUser}function ml(t){return vl(t)&&vl(t)._lat||null}function gl(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](ml(t));if(t.X!==t.getUid()&&t.O.length)for(t.X=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](ml(t))}}function yl(t,e){return t.R.push(e),e.oa((function(){H(t.R,e)})),e}function bl(){}function wl(){this.a={},this.b=1e12}Xh.prototype.xb=function(t){var e=null,n=this;return function(t){var e=new T("invalid-persistence-type"),n=new T("unsupported-persistence-type");t:{for(r in Ju)if(Ju[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(wr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!xu()&&"none"!==t)throw n;break;default:if(!Dr()&&"none"!==t)throw n}}(t),il(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,Jh(n,t)})).then((function(){if(n.c=tl(t),e)return n.b.set(n.c,e,n.a)})):Ae()}))},I(ol,bn),I(al,We),I(sl,We),I(ul,We),(t=ol.prototype).xb=function(t){return yl(this,t=this.i.xb(t))},t.wa=function(t){this.aa===t||this.l||(this.aa=t,ns(this.a,this.aa),this.dispatchEvent(new al(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=a.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.P){if(!/^https?:\/\//.test(t))throw new T("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),a.document&&!t&&mr().then((function(){var t=a.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),a.document.body.appendChild(t)}))})(e=!!e&&!!e.disableWarnings),this.P={url:t,ec:e},this.settings.ib=!0,rs(this.a,this.P),this.dispatchEvent(new sl(this.P))}},t.Gc=function(t){this.J.push(t),os(this.a,Re.SDK_VERSION?Ar(Re.SDK_VERSION,this.J):null),this.dispatchEvent(new ul(this.J))},t.Ga=function(){return Y(this.J)},t.yb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:pl(this).options.apiKey,authDomain:pl(this).options.authDomain,appName:pl(this).name,currentUser:vl(this)&&vl(this).w()}},t.Fb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?b(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return dl(i,bs(i.a,o))}))},t.Xc=function(t){if(!Cr())return Ne(new T("operation-not-supported-in-this-environment"));var e=this,n=zi(t.providerId),r=Vr(),i=null;(!Rr()||yr())&&pl(this).options.authDomain&&t.isOAuthProvider&&(i=gu(pl(this).options.authDomain,pl(this).options.apiKey,pl(this).name,"signInViaPopup",t,null,r,Re.SDK_VERSION||null,null,null,this.T(),this.P));var o=dr(i,n&&n.ua,n&&n.ta);return yl(this,n=cl(this).then((function(n){return Vc(n,o,"signInViaPopup",t,r,!!i,e.T())})).then((function(){return new be((function(t,n){e.na("signInViaPopup",null,new T("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=r,e.c=Uc(e.b,e,"signInViaPopup",o,r)}))})).then((function(t){return o&&fr(o),t?Qr(t):null})).o((function(t){throw o&&fr(o),t})))},t.Yc=function(t){if(!Cr())return Ne(new T("operation-not-supported-in-this-environment"));var e=this;return yl(this,cl(this).then((function(){return function(t){return il(t,(function(){return t.b.set(Zh,t.c.F,t.a)}))}(e.i)})).then((function(){return Fc(e.b,"signInViaRedirect",t,void 0,e.T())})))},t.qa=function(){var t=this;return hl(this).then((function(e){return t.b&&Hc(t.b.b),e})).o((function(e){throw t.b&&Hc(t.b.b),e}))},t.dd=function(t){if(!t)return Ne(new T("null-user"));if(this.S!=t.tenantId)return Ne(new T("tenant-id-mismatch"));var e=this,n={};n.apiKey=pl(this).options.apiKey,n.authDomain=pl(this).options.authDomain,n.appName=pl(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[Xa]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new bh(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&Eh(e,r),Vh(e,t),e}(t,n,e.D,e.Ga());return yl(this,this.h.then((function(){if(pl(e).options.apiKey!=t.l)return r.reload()})).then((function(){return vl(e)&&t.uid==vl(e).uid?(Vh(vl(e),t),e.da(t)):(fl(e,r),Dh(r),e.da(r))})).then((function(){gl(e)})))},t.Ab=function(){var t=this;return yl(this,this.h.then((function(){return t.b&&Hc(t.b.b),vl(t)?(fl(t,null),nl(t.i).then((function(){gl(t)}))):Ae()})))},t.Zc=function(){var t=this;return rl(this.i,pl(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=vl(t)&&e){n=vl(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Vh(vl(t),e),vl(t).I();(vl(t)||e)&&(fl(t,e),e&&(Dh(e),e.ha=t.D),t.b&&Rc(t.b,t),gl(t))}}))},t.da=function(t){return el(this.i,t)},t.mc=function(){gl(this),this.da(vl(this))},t.wc=function(){this.Ab()},t.xc=function(){this.Ab()},t.kc=function(t){var e=this;return this.h.then((function(){return dl(e,Ae(t))}))},t.zc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(vl(e))}))},t.Ac=function(t){var e=this;!function(t,e){t.O.push(e),yl(t,t.h.then((function(){!t.l&&G(t.O,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(ml(t)))})))}(this,(function(){t.next(vl(e))}))},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof t?t(vl(r)):"function"==typeof t.next&&t.next(vl(r))})),this.hb(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"==typeof t?t(vl(r)):"function"==typeof t.next&&t.next(vl(r))})),this.bc(t,e,n)},t.nc=function(t){var e=this;return yl(this,this.h.then((function(){return vl(e)?vl(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Tc=function(t){var e=this;return this.h.then((function(){return dl(e,nu(e.a,Qs,{token:t}))})).then((function(t){var n=t.user;return Mh(n,"isAnonymous",!1),e.da(n),t}))},t.Uc=function(t,e){var n=this;return this.h.then((function(){return dl(n,nu(n.a,Xs,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.h.then((function(){return dl(n,nu(n.a,_s,{email:t,password:e}))}))},t.$a=function(t){var e=this;return this.h.then((function(){return dl(e,t.ka(e.a))}))},t.Sc=function(t){return Hr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(t)},t.zb=function(){var t=this;return this.h.then((function(){var e=vl(t);if(e&&e.isAnonymous){var n=Qr({providerId:null,isNewUser:!1});return Qr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return dl(t,t.a.zb()).then((function(e){var n=e.user;return Mh(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return vl(this)&&vl(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&vl(this)&&_h(vl(this))},t.Pc=function(t){var e=this;j(this.s,(function(n){n==t&&e.u--})),0>this.u&&(this.u=0),0==this.u&&vl(this)&&Ah(vl(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),yl(this,this.h.then((function(){e.l||G(e.s,t)&&t(ml(e))})))},t.removeAuthTokenListener=function(t){z(this.s,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.i&&(t=this.i).b.removeListener(tl("local"),t.a,this.ja),this.b&&(Pc(this.b,this),Hc(this.b.b)),Promise.resolve()},t.hc=function(t){return yl(this,function(t,e){return nu(t,As,{identifier:e,continueUri:xr()?ur():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Bc=function(t){return!!xo(t)},t.wb=function(t,e){var n=this;return yl(this,Ae().then((function(){var t=new ki(e);if(!t.c)throw new T("argument-error",xi+" must be true when sending sign in link to email");return qi(t)})).then((function(e){return n.a.wb(t,e)})).then((function(){})))},t.jd=function(t){return this.Ra(t).then((function(t){return t.data.email}))},t.nb=function(t,e){return yl(this,this.a.nb(t,e).then((function(){})))},t.Ra=function(t){return yl(this,this.a.Ra(t).then((function(t){return new oi(t)})))},t.jb=function(t){return yl(this,this.a.jb(t).then((function(){})))},t.vb=function(t,e){var n=this;return yl(this,Ae().then((function(){return void 0===e||lt(e)?{}:qi(new ki(e))})).then((function(e){return n.a.vb(t,e)})).then((function(){})))},t.Wc=function(t,e){return yl(this,Jc(this,t,e,b(this.$a,this)))},t.Vc=function(t,e){var n=this;return yl(this,Ae().then((function(){var r=e||ur(),i=Co(t,r);if(!(r=xo(r)))throw new T("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new T("tenant-id-mismatch");return n.$a(i)})))},bl.prototype.render=function(){},bl.prototype.reset=function(){},bl.prototype.getResponse=function(){},bl.prototype.execute=function(){};var Il=null;function El(t,e){return(e=Tl(e))&&t.a[e]||null}function Tl(t){return(t=void 0===t?1e12:t)?t.toString():null}function Sl(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=se(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():sn(this.f,"click",this.i)}function _l(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Al(){}function Nl(){}wl.prototype.render=function(t,e){return this.a[this.b.toString()]=new Sl(t,e),this.b++},wl.prototype.reset=function(t){var e=El(this,t);t=Tl(t),e&&t&&(e.delete(),delete this.a[t])},wl.prototype.getResponse=function(t){return(t=El(this,t))?t.getResponse():null},wl.prototype.execute=function(t){(t=El(this,t))&&t.execute()},Sl.prototype.getResponse=function(){return _l(this),this.b},Sl.prototype.execute=function(){_l(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(t){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(t){}t.h&&t.execute()}),6e4)}),500))},Sl.prototype.delete=function(){_l(this),this.g=!0,clearTimeout(this.a),this.a=null,hn(this.f,"click",this.i)},Wr(Al,"FACTOR_ID","phone"),Nl.prototype.g=function(){return Il||(Il=new wl),Ae(Il)},Nl.prototype.c=function(){};var kl=null;function Dl(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Cl=new mt(wt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),xl=new Ur(3e4,6e4);Dl.prototype.g=function(t){var e=this;return new be((function(n,r){var i=setTimeout((function(){r(new T("network-request-failed"))}),xl.get());!a.grecaptcha||t!==e.f&&!e.b?(a[e.a]=function(){if(a.grecaptcha){e.f=t;var o=a.grecaptcha.render;a.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(a.grecaptcha)}else clearTimeout(i),r(new T("internal-error"));delete a[e.a]},Ae(Ba(St(Cl,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new T("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(a.grecaptcha))}))},Dl.prototype.c=function(){this.b--};var Ol=null;function Rl(t,e,n,r,i,o,s){if(Wr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=e,this.g=null,s?(kl||(kl=new Nl),s=kl):(Ol||(Ol=new Dl),s=Ol),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Ml])throw new T("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Vl],!a.document)throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!se(e)||!this.i&&se(e).hasChildNodes())throw new T("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Ya(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Pl];this.a[Pl]=function(t){if(ql(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=kr(c,a);"function"==typeof e&&e(t)}};var h=this.a[Ll];this.a[Ll]=function(){if(ql(u,null),"function"==typeof h)h();else if("string"==typeof h){var t=kr(h,a);"function"==typeof t&&t()}}}var Pl="callback",Ll="expired-callback",Ml="sitekey",Vl="size";function ql(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function Fl(t,e){return t.h.push(e),e.oa((function(){H(t.h,e)})),e}function Ul(t){if(t.D)throw new T("internal-error","RecaptchaVerifier instance has been destroyed.")}function jl(t,e,n){var r=!1;try{this.b=n||Re.app()}catch(t){throw new T("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new T("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(t){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}o=Re.SDK_VERSION?Ar(Re.SDK_VERSION,o):null,Rl.call(this,n,t,e,(function(){try{var t=i.b.auth().la()}catch(e){t=null}return t}),o,D(_),r)}function Bl(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new T("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Kl.length)throw new T("internal-error","Argument validator received an unsupported number of arguments.");n=Kl[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new T("argument-error",t+" failed: "+r)}(t=Rl.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Fl(this,Ae().then((function(){if(xr()&&!br())return mr();throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.u())})).then((function(e){return t.g=e,nu(t.s,Fs,{})})).then((function(e){t.a[Ml]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){Ul(this);var t=this;return Fl(this,this.Ia().then((function(){if(null===t.c){var e=t.v;if(!t.i){var n=se(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ae&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',jt(a.name),'"'),a.type){o.push(' type="',jt(a.type),'"');var s={};pt(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=de(i,o),a&&("string"==typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):ue(o,a)),2<r.length&&fe(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){Ul(this);var t=this;return Fl(this,this.render().then((function(e){return new be((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){z(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){Ul(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Ul(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=se(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},I(jl,Rl);var Kl="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function $l(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function Gl(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function Hl(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:p}}function zl(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function Wl(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Yl(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ka||!n)}}}function Ql(t,e){return p(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Xl(t){return p(t)&&"string"==typeof t.uid}function Jl(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function Zl(t,e){for(var n in e){var r=e[n].name;t[r]=nf(r,t[n],e[n].j)}}function tf(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:w((function(t){return this[t]}),n),set:w((function(t,e,n,r){Bl(t,[n],[r],!0),this[e]=r}),r,n,e[n].kb),enumerable:!0})}}function ef(t,e,n,r){t[e]=nf(e,n,r)}function nf(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Bl(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Zl(ol.prototype,{jb:{name:"applyActionCode",j:[$l("code")]},Ra:{name:"checkActionCode",j:[$l("code")]},nb:{name:"confirmPasswordReset",j:[$l("code"),$l("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[$l("email"),$l("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[$l("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[$l("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Jl(Hl(),zl(),"nextOrObserver"),zl("opt_error",!0),zl("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Jl(Hl(),zl(),"nextOrObserver"),zl("opt_error",!0),zl("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[$l("email"),Jl(Hl("opt_actionCodeSettings",!0),Wl(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[$l("email"),Hl("actionCodeSettings")]},xb:{name:"setPersistence",j:[$l("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Yl()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[Yl()]},Tc:{name:"signInWithCustomToken",j:[$l("token")]},Uc:{name:"signInWithEmailAndPassword",j:[$l("email"),$l("password")]},Vc:{name:"signInWithEmailLink",j:[$l("email"),$l("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[$l("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Jl({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof bh)}},Wl(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[$l(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[$l("url"),Hl("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[$l("code")]}}),tf(ol.prototype,{lc:{name:"languageCode",kb:Jl($l(),Wl(),"languageCode")},ti:{name:"tenantId",kb:Jl($l(),Wl(),"tenantId")}}),ol.Persistence=Ju,ol.Persistence.LOCAL="local",ol.Persistence.SESSION="session",ol.Persistence.NONE="none",Zl(bh.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Gl("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Gl("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Yl()]},qb:{name:"linkWithCredential",j:[Yl()]},Dc:{name:"linkWithPhoneNumber",j:[$l("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Yl()]},tb:{name:"reauthenticateWithCredential",j:[Yl()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[$l("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[Jl(Hl("opt_actionCodeSettings",!0),Wl(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[$l(null,!0)]},cd:{name:"unlink",j:[$l("provider")]},Bb:{name:"updateEmail",j:[$l("email")]},Cb:{name:"updatePassword",j:[$l("password")]},ed:{name:"updatePhoneNumber",j:[Yl("phone")]},Db:{name:"updateProfile",j:[Hl("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[$l("email"),Jl(Hl("opt_actionCodeSettings",!0),Wl(null,!0),"opt_actionCodeSettings",!0)]}}),Zl(wl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Zl(bl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Zl(be.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),tf(Qc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Gl("appVerificationDisabledForTesting")}}),Zl(Xc.prototype,{confirm:{name:"confirm",j:[$l("verificationCode")]}}),ef(so,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[vo,ko,Ro,lo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Jl($l(),Hl(),"json")]),ef(Do,"credential",(function(t,e){return new No(t,e)}),[$l("email"),$l("password")]),Zl(No.prototype,{w:{name:"toJSON",j:[$l(null,!0)]}}),Zl(bo.prototype,{Ca:{name:"addScope",j:[$l("scope")]},Ka:{name:"setCustomParameters",j:[Hl("customOAuthParameters")]}}),ef(bo,"credential",wo,[Jl($l(),Hl(),"token")]),ef(Do,"credentialWithLink",Co,[$l("email"),$l("emailLink")]),Zl(Io.prototype,{Ca:{name:"addScope",j:[$l("scope")]},Ka:{name:"setCustomParameters",j:[Hl("customOAuthParameters")]}}),ef(Io,"credential",Eo,[Jl($l(),Hl(),"token")]),Zl(To.prototype,{Ca:{name:"addScope",j:[$l("scope")]},Ka:{name:"setCustomParameters",j:[Hl("customOAuthParameters")]}}),ef(To,"credential",So,[Jl($l(),Jl(Hl(),Wl()),"idToken"),Jl($l(),Wl(),"accessToken",!0)]),Zl(_o.prototype,{Ka:{name:"setCustomParameters",j:[Hl("customOAuthParameters")]}}),ef(_o,"credential",Ao,[Jl($l(),Hl(),"token"),$l("secret",!0)]),Zl(yo.prototype,{Ca:{name:"addScope",j:[$l("scope")]},credential:{name:"credential",j:[Jl($l(),Jl(Hl(),Wl()),"optionsOrIdToken"),Jl($l(),Wl(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Hl("customOAuthParameters")]}}),Zl(fo.prototype,{w:{name:"toJSON",j:[$l(null,!0)]}}),Zl(co.prototype,{w:{name:"toJSON",j:[$l(null,!0)]}}),ef(Lo,"credential",Mo,[$l("verificationId"),$l("verificationCode")]),Zl(Lo.prototype,{fb:{name:"verifyPhoneNumber",j:[Jl($l(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?Ql(t.session,oo)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Ql(t.session,ao)&&Xl(t.multiFactorHint):t.session&&t.multiFactorUid?Ql(t.session,ao)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),Zl(Oo.prototype,{w:{name:"toJSON",j:[$l(null,!0)]}}),Zl(T.prototype,{toJSON:{name:"toJSON",j:[$l(null,!0)]}}),Zl(Go.prototype,{toJSON:{name:"toJSON",j:[$l(null,!0)]}}),Zl($o.prototype,{toJSON:{name:"toJSON",j:[$l(null,!0)]}}),Zl(rh.prototype,{toJSON:{name:"toJSON",j:[$l(null,!0)]}}),Zl(th.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}}]}}),Zl(ch.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}},$l("displayName",!0)]},bd:{name:"unenroll",j:[Jl({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Xl},$l(),"multiFactorInfoIdentifier")]}}),Zl(jl.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),ef(bi,"parseLink",Ni,[$l("link")]),ef(Al,"assertion",(function(t){return new sh(t)}),[Yl("phone")]),function(){if(void 0===Re||!Re.INTERNAL||!Re.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:si,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ai,VERIFY_AND_CHANGE_EMAIL:ui,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:ol,AuthCredential:so,Error:T};ef(t,"EmailAuthProvider",Do,[]),ef(t,"FacebookAuthProvider",bo,[]),ef(t,"GithubAuthProvider",Io,[]),ef(t,"GoogleAuthProvider",To,[]),ef(t,"TwitterAuthProvider",_o,[]),ef(t,"OAuthProvider",yo,[$l("providerId")]),ef(t,"SAMLAuthProvider",go,[$l("providerId")]),ef(t,"PhoneAuthProvider",Lo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof ol)}}]),ef(t,"RecaptchaVerifier",jl,[Jl($l(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Hl("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof Re.app.App)}}]),ef(t,"ActionCodeURL",bi,[]),ef(t,"PhoneMultiFactorGenerator",Al,[]),Re.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new ol(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),Re.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:b((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:b(t.nc,t),addAuthTokenListener:b(t.cc,t),removeAuthTokenListener:b(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Re.registerVersion("@firebase/auth","0.16.5"),Re.INTERNAL.extendNamespace({User:bh})}()}.apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var Pe=function(t,e){return(Pe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Le(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Me,Ve="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},qe=qe||{},Fe=Ve||self;function Ue(){}function je(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Be(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Ke="closure_uid_"+(1e9*Math.random()>>>0),$e=0;function Ge(t,e,n){return t.call.apply(t.bind,arguments)}function He(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function ze(t,e,n){return(ze=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ge:He).apply(null,arguments)}function We(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Ye(){return Date.now()}function Qe(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Xe(){this.j=this.j,this.i=this.i}Xe.prototype.j=!1,Xe.prototype.ja=function(){var t;!this.j&&(this.j=!0,this.G(),0)&&(t=this,Object.prototype.hasOwnProperty.call(t,Ke)&&t[Ke]||(t[Ke]=++$e))},Xe.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Je=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Ze=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function tn(t){return Array.prototype.concat.apply([],arguments)}function en(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function nn(t){return/^[\s\xa0]*$/.test(t)}var rn,on=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function an(t,e){return-1!=t.indexOf(e)}function sn(t,e){return t<e?-1:t>e?1:0}t:{var un=Fe.navigator;if(un){var cn=un.userAgent;if(cn){rn=cn;break t}}rn=""}function hn(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function ln(t){var e={};for(var n in t)e[n]=t[n];return e}var fn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function dn(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<fn.length;o++)n=fn[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function pn(t){return pn[" "](t),t}pn[" "]=Ue;var vn,mn,gn=an(rn,"Opera"),yn=an(rn,"Trident")||an(rn,"MSIE"),bn=an(rn,"Edge"),wn=bn||yn,In=an(rn,"Gecko")&&!(an(rn.toLowerCase(),"webkit")&&!an(rn,"Edge"))&&!(an(rn,"Trident")||an(rn,"MSIE"))&&!an(rn,"Edge"),En=an(rn.toLowerCase(),"webkit")&&!an(rn,"Edge");function Tn(){var t=Fe.document;return t?t.documentMode:void 0}t:{var Sn="",_n=(mn=rn,In?/rv:([^\);]+)(\)|;)/.exec(mn):bn?/Edge\/([\d\.]+)/.exec(mn):yn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(mn):En?/WebKit\/(\S+)/.exec(mn):gn?/(?:Version)[ \/]?(\S+)/.exec(mn):void 0);if(_n&&(Sn=_n?_n[1]:""),yn){var An=Tn();if(null!=An&&An>parseFloat(Sn)){vn=String(An);break t}}vn=Sn}var Nn,kn={};function Dn(t){return function(t,e){var n=kn;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=on(String(vn)).split("."),r=on(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=sn(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||sn(0==a[2].length,0==s[2].length)||sn(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}if(Fe.document&&yn){var Cn=Tn();Nn=Cn||(parseInt(vn,10)||void 0)}else Nn=void 0;var xn=Nn,On=!yn||9<=Number(xn),Rn=yn&&!Dn("9"),Pn=function(){if(!Fe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Fe.addEventListener("test",Ue,e),Fe.removeEventListener("test",Ue,e)}catch(t){}return t}();function Ln(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Mn(t,e){if(Ln.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(In){t:{try{pn(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Vn[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Ln.prototype.b=function(){this.defaultPrevented=!0},Qe(Mn,Ln);var Vn={2:"touch",3:"pen",4:"mouse"};Mn.prototype.b=function(){Mn.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Rn)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var qn="closure_listenable_"+(1e6*Math.random()|0),Fn=0;function Un(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Fn,this.Y=this.Z=!1}function jn(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Bn(t){this.src=t,this.a={},this.b=0}function Kn(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Je(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(jn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function $n(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Bn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=$n(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new Un(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Gn="closure_lm_"+(1e6*Math.random()|0),Hn={};function zn(t,e,n,r,i){if(r&&r.once)return Yn(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)zn(t,e[o],n,r,i);return null}return n=rr(n),t&&t[qn]?t.va(e,n,Be(r)?!!r.capture:!!r,i):Wn(t,e,n,!1,r,i)}function Wn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=Be(i)?!!i.capture:!!i;if(a&&!On)return null;var s=er(t);if(s||(t[Gn]=s=new Bn(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=tr,e=On?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Pn||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Jn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Yn(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Yn(t,e[o],n,r,i);return null}return n=rr(n),t&&t[qn]?t.wa(e,n,Be(r)?!!r.capture:!!r,i):Wn(t,e,n,!0,r,i)}function Qn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Qn(t,e[o],n,r,i);else r=Be(r)?!!r.capture:!!r,n=rr(n),t&&t[qn]?(t=t.c,(e=String(e).toString())in t.a&&(-1<(n=$n(o=t.a[e],n,r,i))&&(jn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=er(t))&&(e=t.a[e.toString()],t=-1,e&&(t=$n(e,n,r,i)),(n=-1<t?e[t]:null)&&Xn(n))}function Xn(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[qn])Kn(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Jn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=er(e))?(Kn(n,t),0==n.b&&(n.src=null,e[Gn]=null)):jn(t)}}}function Jn(t){return t in Hn?Hn[t]:Hn[t]="on"+t}function Zn(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Xn(t),n.call(r,e)}function tr(t,e){if(t.Y)return!0;if(!On){if(!e)t:{e=["window","event"];for(var n=Fe,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Zn(t,e=new Mn(e,this))}return Zn(t,new Mn(e,this))}function er(t){return(t=t[Gn])instanceof Bn?t:null}var nr="__closure_events_fn_"+(1e9*Math.random()>>>0);function rr(t){return"function"==typeof t?t:(t[nr]||(t[nr]=function(e){return t.handleEvent(e)}),t[nr])}function ir(){Xe.call(this),this.c=new Bn(this),this.J=this,this.C=null}function or(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Ln(e,t);else if(e instanceof Ln)e.target=e.target||t;else{var i=e;dn(e=new Ln(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.a=n[o];i=ar(a,r,!0,e)&&i}if(i=ar(a=e.a=t,r,!0,e)&&i,i=ar(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=ar(a=e.a=n[o],r,!1,e)&&i}function ar(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&Kn(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Qe(ir,Xe),ir.prototype[qn]=!0,(Me=ir.prototype).addEventListener=function(t,e,n,r){zn(this,t,e,n,r)},Me.removeEventListener=function(t,e,n,r){Qn(this,t,e,n,r)},Me.G=function(){if(ir.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)jn(n[r]);delete e.a[t],e.b--}}this.C=null},Me.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Me.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var sr=Fe.JSON.stringify;function ur(){this.b=this.a=null}var cr,hr=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())((function(){return new fr}),(function(t){t.reset()}));function lr(){var t=mr,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function fr(){this.next=this.b=this.a=null}function dr(t){Fe.setTimeout((function(){throw t}),0)}function pr(t,e){cr||function(){var t=Fe.Promise.resolve(void 0);cr=function(){t.then(gr)}}(),vr||(cr(),vr=!0),mr.add(t,e)}ur.prototype.add=function(t,e){var n=hr.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},fr.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},fr.prototype.reset=function(){this.next=this.b=this.a=null};var vr=!1,mr=new ur;function gr(){for(var t;t=lr();){try{t.a.call(t.b)}catch(t){dr(t)}var e=hr;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}vr=!1}function yr(t,e){ir.call(this),this.b=t||1,this.a=e||Fe,this.f=ze(this.Za,this),this.g=Ye()}function br(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function wr(t,e,n){if("function"==typeof t)n&&(t=ze(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=ze(t.handleEvent,t)}return 2147483647<Number(e)?-1:Fe.setTimeout(t,e||0)}function Ir(t){t.a=wr((function(){t.a=null,t.c&&(t.c=!1,Ir(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Qe(yr,ir),(Me=yr.prototype).aa=!1,Me.M=null,Me.Za=function(){if(this.aa){var t=Ye()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),or(this,"tick"),this.aa&&(br(this),this.start()))}},Me.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Ye())},Me.G=function(){yr.X.G.call(this),br(this),delete this.a};var Er=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Pe(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Ir(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Fe.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Xe);function Tr(t){Xe.call(this),this.b=t,this.a={}}Qe(Tr,Xe);var Sr=[];function _r(t,e,n,r){Array.isArray(n)||(n&&(Sr[0]=n.toString()),n=Sr);for(var i=0;i<n.length;i++){var o=zn(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Ar(t){hn(t.a,(function(t,e){this.a.hasOwnProperty(e)&&Xn(t)}),t),t.a={}}function Nr(){this.a=!0}function kr(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return sr(n)}catch(t){return e}}(t,n)+(r?" "+r:"")}))}Tr.prototype.G=function(){Tr.X.G.call(this),Ar(this)},Tr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Nr.prototype.info=function(){};var Dr={},Cr=null;function xr(){return Cr=Cr||new ir}function Or(t){Ln.call(this,Dr.Fa,t)}function Rr(t){var e=xr();or(e,new Or(e,t))}function Pr(t,e){Ln.call(this,Dr.STAT_EVENT,t),this.stat=e}function Lr(t){var e=xr();or(e,new Pr(e,t))}function Mr(t){Ln.call(this,Dr.Ga,t)}function Vr(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Fe.setTimeout((function(){t()}),e)}Dr.Fa="serverreachability",Qe(Or,Ln),Dr.STAT_EVENT="statevent",Qe(Pr,Ln),Dr.Ga="timingevent",Qe(Mr,Ln);var qr={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Fr={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Ur(){}function jr(t){var e;return(e=t.a)||(e=t.a={}),e}function Br(){}Ur.prototype.a=null;var Kr,$r={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Gr(){Ln.call(this,"d")}function Hr(){Ln.call(this,"c")}function zr(){}function Wr(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Tr(this),this.P=Yr,t=wn?125:void 0,this.R=new yr(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Qe(Gr,Ln),Qe(Hr,Ln),Qe(zr,Ur),Kr=new zr;var Yr=45e3,Qr={},Xr={};function Jr(t,e,n){t.H=1,t.i=wi(pi(e)),t.j=n,t.I=!0,Zr(t,null)}function Zr(t,e){t.u=Ye(),ni(t),t.l=pi(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Ri(n.b,"t",r),t.D=0,t.a=ko(t.g,t.g.C?e:null),0<t.O&&(t.F=new Er(ze(t.Ca,t,t.a),t.O)),_r(t.J,t.a,"readystatechange",t.Xa),e=t.B?ln(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Rr(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var h=c[0];c=c[1];var l=h.split("_");a=2<=l.length&&"type"==l[1]?a+(h+"=")+c+"&":a+(h+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function ti(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=ei(t,n);if(i==Xr){4==e&&(t.h=4,Lr(14),r=!1),kr(t.c,t.f,null,"[Incomplete Response]");break}if(i==Qr){t.h=4,Lr(15),kr(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}kr(t.c,t.f,i,null),si(t,i)}4==e&&0==n.length&&(t.h=1,Lr(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),wo(e),e.F=!0,Lr(11))):(kr(t.c,t.f,n,"[Invalid Chunked Response]"),ai(t),oi(t))}function ei(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Xr:(n=Number(e.substring(n,r)),isNaN(n)?Qr:(r+=1)+n>e.length?Xr:(e=e.substr(r,n),t.D=r+n,e))}function ni(t){t.T=Ye()+t.P,ri(t,t.P)}function ri(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Vr(ze(t.Va,t),e)}function ii(t){t.o&&(Fe.clearTimeout(t.o),t.o=null)}function oi(t){0==t.g.v||t.A||To(t.g,t)}function ai(t){ii(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,br(t.R),Ar(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function si(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Ui(n.b,t)))if(n.I=t.N,!t.C&&Ui(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(t){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Eo(n),ho(n)}bo(n),Lr(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Vr(ze(n.Sa,n),6e3));if(1>=Fi(n.b)&&n.ea){try{n.ea()}catch(t){}n.ea=void 0}}else _o(n,11)}else if((t.C||n.a==t)&&Eo(n),!nn(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"==typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var h=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(h){var l=u.b;!l.a&&(an(h,"spdy")||an(h,"quic")||an(h,"h2"))&&(l.f=l.g,l.a=new Set,l.b&&(ji(l,l.b),l.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,bi(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Ye()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=No(u,u.C?u.ga:null,u.fa),d.C){Bi(u.b,d);var p=d,v=u.D;v&&p.setTimeout(v),p.o&&(ii(p),ni(p)),u.a=d}else yo(u);0<n.g.length&&po(n)}else"stop"!=i[0]&&"close"!=i[0]||_o(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?_o(n,7):co(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Rr(4)}catch(t){}}function ui(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(je(t)||"string"==typeof t)Ze(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(je(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(je(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function ci(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ci)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function hi(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];li(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)li(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function li(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Me=Wr.prototype).setTimeout=function(t){this.P=t},Me.Xa=function(t){t=t.target;var e=this.F;e&&3==oo(t)?e.f():this.Ca(t)},Me.Ca=function(t){try{if(t==this.a)t:{var e=oo(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!wn&&!this.a.$())){this.A||4!=e||7==n||Rr(8==n||0>=r?3:2),ii(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,a){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nn(a)){var u=a;break e}}u=null}if(!u){this.b=!1,this.h=3,Lr(12),ai(this),oi(this);break t}kr(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,si(this,u)}this.I?(ti(this,e,o),wn&&this.b&&3==e&&(_r(this.J,this.R,"tick",this.Wa),this.R.start())):(kr(this.c,this.f,o,null),si(this,o)),4==e&&ai(this),this.b&&!this.A&&(4==e?To(this.g,this):(this.b=!1,ni(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Lr(12)):(this.h=0,Lr(13)),ai(this),oi(this)}}}catch(t){}},Me.Wa=function(){if(this.a){var t=oo(this.a),e=this.a.$();this.D<e.length&&(ii(this),ti(this,t,e),this.b&&4!=t&&ni(this))}},Me.cancel=function(){this.A=!0,ai(this)},Me.Va=function(){this.o=null;var t=Ye();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(Rr(3),Lr(17)),ai(this),this.h=2,oi(this)):ri(this,this.T-t)},(Me=ci.prototype).K=function(){hi(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Me.L=function(){return hi(this),this.a.concat()},Me.get=function(t,e){return li(this.b,t)?this.b[t]:e},Me.set=function(t,e){li(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Me.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var fi=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function di(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof di){this.a=void 0!==e?e:t.a,vi(this,t.f),this.j=t.j,mi(this,t.c),gi(this,t.h),this.g=t.g,e=t.b;var n=new Di;n.c=e.c,e.a&&(n.a=new ci(e.a),n.b=e.b),yi(this,n),this.i=t.i}else t&&(n=String(t).match(fi))?(this.a=!!e,vi(this,n[1]||"",!0),this.j=Ii(n[2]||""),mi(this,n[3]||"",!0),gi(this,n[4]),this.g=Ii(n[5]||"",!0),yi(this,n[6]||"",!0),this.i=Ii(n[7]||"")):(this.a=!!e,this.b=new Di(null,this.a))}function pi(t){return new di(t)}function vi(t,e,n){t.f=n?Ii(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function mi(t,e,n){t.c=n?Ii(e,!0):e}function gi(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function yi(t,e,n){e instanceof Di?(t.b=e,function(t,e){e&&!t.f&&(Ci(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(xi(this,e),Ri(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Ei(e,Ni)),t.b=new Di(e,t.a))}function bi(t,e,n){t.b.set(e,n)}function wi(t){return bi(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Ye()).toString(36)),t}function Ii(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ei(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Ti),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ti(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}di.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Ei(e,Si,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Ei(e,Si,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ei(n,"/"==n.charAt(0)?Ai:_i,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Ei(n,ki)),t.join("")};var Si=/[#\/\?@]/g,_i=/[#\?:]/g,Ai=/[#\?]/g,Ni=/[#\?@]/g,ki=/#/g;function Di(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Ci(t){t.a||(t.a=new ci,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function xi(t,e){Ci(t),e=Pi(t,e),li(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,li((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&hi(t)))}function Oi(t,e){return Ci(t),e=Pi(t,e),li(t.a.b,e)}function Ri(t,e,n){xi(t,e),0<n.length&&(t.c=null,t.a.set(Pi(t,e),en(n)),t.b+=n.length)}function Pi(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Me=Di.prototype).add=function(t,e){Ci(this),this.c=null,t=Pi(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Me.forEach=function(t,e){Ci(this),this.a.forEach((function(n,r){Ze(n,(function(n){t.call(e,n,r,this)}),this)}),this)},Me.L=function(){Ci(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Me.K=function(t){Ci(this);var e=[];if("string"==typeof t)Oi(this,t)&&(e=tn(e,this.a.get(Pi(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=tn(e,t[n])}return e},Me.set=function(t,e){return Ci(this),this.c=null,Oi(this,t=Pi(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Me.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Me.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var Li=function(t,e){this.b=t,this.a=e};function Mi(t){this.g=t||Vi,Fe.PerformanceNavigationTiming?t=0<(t=Fe.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(Fe.ia&&Fe.ia.ya&&Fe.ia.ya()&&Fe.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Vi=10;function qi(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Fi(t){return t.b?1:t.a?t.a.size:0}function Ui(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function ji(t,e){t.a?t.a.add(e):t.b=e}function Bi(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Ki(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Le(t.a.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return en(t.c)}function $i(){}function Gi(){this.a=new $i}function Hi(t,e,n){var r=n||"";try{ui(t,(function(t,n){var i=t;Be(t)&&(i=sr(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function zi(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}Mi.prototype.cancel=function(){var t,e;if(this.c=Ki(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Le(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},$i.prototype.stringify=function(t){return Fe.JSON.stringify(t,void 0)},$i.prototype.parse=function(t){return Fe.JSON.parse(t,void 0)};var Wi=Fe.JSON.parse;function Yi(t){ir.call(this),this.headers=new ci,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Qi,this.D=this.F=!1}Qe(Yi,ir);var Qi="",Xi=/^https?$/i,Ji=["POST","PUT"];function Zi(t){return"content-type"==t.toLowerCase()}function to(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,eo(t),ro(t)}function eo(t){t.u||(t.u=!0,or(t,"complete"),or(t,"error"))}function no(t){if(t.b&&void 0!==qe&&(!t.s[1]||4!=oo(t)||2!=t.W()))if(t.l&&4==oo(t))wr(t.za,0,t);else if(or(t,"readystatechange"),4==oo(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(fi)[1]||null;if(!o&&Fe.self&&Fe.self.location){var a=Fe.self.location.protocol;o=a.substr(0,a.length-1)}i=!Xi.test(o?o.toLowerCase():"")}e=i}if(e)or(t,"complete"),or(t,"success");else{t.h=6;try{var s=2<oo(t)?t.a.statusText:""}catch(n){s=""}t.f=s+" ["+t.W()+"]",eo(t)}}finally{ro(t)}}}function ro(t,e){if(t.a){io(t);var n=t.a,r=t.s[0]?Ue:null;t.a=null,t.s=null,e||or(t,"ready");try{n.onreadystatechange=r}catch(t){}}}function io(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Fe.clearTimeout(t.m),t.m=null)}function oo(t){return t.a?t.a.readyState:0}function ao(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return hn(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):bi(t,e,n))}function so(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function uo(t){this.pa=0,this.g=[],this.c=new Nr,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=so("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=so("baseRetryDelayMs",5e3,t),this.Ra=so("retryDelaySeedMs",1e4,t),this.Ma=so("forwardChannelMaxRetries",2,t),this.ma=so("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Mi(t&&t.concurrentRequestLimit),this.ka=new Gi,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function co(t){if(lo(t),3==t.v){var e=t.R++,n=pi(t.B);bi(n,"SID",t.J),bi(n,"RID",e),bi(n,"TYPE","terminate"),mo(t,n),(e=new Wr(t,t.c,e,void 0)).H=2,e.i=wi(pi(n)),n=!1,Fe.navigator&&Fe.navigator.sendBeacon&&(n=Fe.navigator.sendBeacon(e.i.toString(),"")),!n&&Fe.Image&&((new Image).src=e.i,n=!0),n||(e.a=ko(e.g,null),e.a.ba(e.i)),e.u=Ye(),ni(e)}Ao(t)}function ho(t){t.a&&(wo(t),t.a.cancel(),t.a=null)}function lo(t){ho(t),t.j&&(Fe.clearTimeout(t.j),t.j=null),Eo(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Fe.clearTimeout(t.h),t.h=null)}function fo(t,e){t.g.push(new Li(t.Oa++,e)),3==t.v&&po(t)}function po(t){qi(t.b)||t.h||(t.h=!0,pr(t.Ba,t),t.u=0)}function vo(t,e){var n;n=e?e.f:t.R++;var r=pi(t.B);bi(r,"SID",t.J),bi(r,"RID",n),bi(r,"AID",t.P),mo(t,r),t.i&&t.l&&ao(r,t.i,t.l),n=new Wr(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=go(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),ji(t.b,n),Jr(n,r,e)}function mo(t,e){t.f&&ui({},(function(t,n){bi(e,n,t)}))}function go(t,e,n){n=Math.min(t.g.length,n);var r=t.f?ze(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,h=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{Hi(h,a,"req"+c+"_")}catch(t){r&&r(h)}}if(s){r=a.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function yo(t){t.a||t.j||(t.T=1,pr(t.Aa,t),t.o=0)}function bo(t){return!(t.a||t.j||3<=t.o)&&(t.T++,t.j=Vr(ze(t.Aa,t),So(t,t.o)),t.o++,!0)}function wo(t){null!=t.s&&(Fe.clearTimeout(t.s),t.s=null)}function Io(t){t.a=new Wr(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=pi(t.la);bi(e,"RID","rpc"),bi(e,"SID",t.J),bi(e,"CI",t.H?"0":"1"),bi(e,"AID",t.P),mo(t,e),bi(e,"TYPE","xmlhttp"),t.i&&t.l&&ao(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=wi(pi(e)),n.j=null,n.I=!0,Zr(n,t)}function Eo(t){null!=t.m&&(Fe.clearTimeout(t.m),t.m=null)}function To(t,e){var n=null;if(t.a==e){Eo(t),wo(t),t.a=null;var r=2}else{if(!Ui(t.b,e))return;n=e.s,Bi(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Ye()-e.u;var i=t.u;or(r=xr(),new Mr(r,n,e,i)),po(t)}else yo(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Fi(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Vr(ze(t.Ba,t,e),So(t,t.u)),t.u++,0)))}(t,e)||2==r&&bo(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:_o(t,5);break;case 4:_o(t,10);break;case 3:_o(t,6);break;default:_o(t,2)}}function So(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function _o(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=ze(t.Ya,t);n||(n=new di("//www.google.com/images/cleardot.gif"),Fe.location&&"http"==Fe.location.protocol||vi(n,"https"),wi(n)),function(t,e){var n=new Nr;if(Fe.Image){var r=new Image;r.onload=We(zi,n,r,"TestLoadImage: loaded",!0,e),r.onerror=We(zi,n,r,"TestLoadImage: error",!1,e),r.onabort=We(zi,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=We(zi,n,r,"TestLoadImage: timeout",!1,e),Fe.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Lr(2);t.v=0,t.f&&t.f.ra(e),Ao(t),lo(t)}function Ao(t){t.v=0,t.I=-1,t.f&&(0==Ki(t.b).length&&0==t.g.length||(t.b.c.length=0,en(t.g),t.g.length=0),t.f.qa())}function No(t,e,n){var r=function(t){return t instanceof di?pi(t):new di(t,void 0)}(n);if(""!=r.c)e&&mi(r,e+"."+r.c),gi(r,r.h);else{var i=Fe.location;r=function(t,e,n,r){var i=new di(null,void 0);return t&&vi(i,t),e&&mi(i,e),n&&gi(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&hn(t.V,(function(t,e){bi(r,e,t)})),e=t.A,n=t.na,e&&n&&bi(r,e,n),bi(r,"VER",t.ha),mo(t,r),r}function ko(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Yi(t.Na)).F=t.C,e}function Do(){}function Co(){if(yn&&!(10<=Number(xn)))throw Error("Environmental error: no available transport.")}function xo(t,e){ir.call(this),this.a=new uo(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!nn(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!nn(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&(e in(t=this.b)&&delete t[e])),this.f=new Po(this)}function Oo(t){Gr.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Ro(){Hr.call(this),this.status=1}function Po(t){this.a=t}(Me=Yi.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?jr(this.H):jr(Kr),this.a.onreadystatechange=ze(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(t){return void to(this,t)}t=n||"";var i=new ci(this.headers);r&&ui(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Zi,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Fe.FormData&&t instanceof Fe.FormData,!(0<=Je(Ji,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{io(this),0<this.o&&((this.D=function(t){return yn&&Dn(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=ze(this.xa,this)):this.m=wr(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){to(this,t)}},Me.xa=function(){void 0!==qe&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,or(this,"timeout"),this.abort(8))},Me.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,or(this,"complete"),or(this,"abort"),ro(this))},Me.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),ro(this,!0)),Yi.X.G.call(this)},Me.za=function(){this.j||(this.A||this.l||this.g?no(this):this.Ua())},Me.Ua=function(){no(this)},Me.W=function(){try{return 2<oo(this)?this.a.status:-1}catch(t){return-1}},Me.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},Me.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Wi(e)}},Me.ua=function(){return this.h},Me.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Me=uo.prototype).ha=8,Me.v=1,Me.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Wr(this,this.c,t,void 0),r=this.l;if(this.O&&(r?dn(r=ln(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=go(this,n,e),bi(i=pi(this.B),"RID",t),bi(i,"CVER",22),this.A&&bi(i,"X-HTTP-Session-Id",this.A),mo(this,i),this.i&&r&&ao(i,this.i,r),ji(this.b,n),this.Ia&&bi(i,"TYPE","init"),this.da?(bi(i,"$req",e),bi(i,"SID","null"),n.U=!0,Jr(n,i,null)):Jr(n,i,e),this.v=2}}else 3==this.v&&(t?vo(this,t):0==this.g.length||qi(this.b)||vo(this))},Me.Aa=function(){if(this.j=null,Io(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Vr(ze(this.Ta,this),t)}},Me.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Lr(10),ho(this),Io(this))},Me.Sa=function(){null!=this.m&&(this.m=null,ho(this),bo(this),Lr(19))},Me.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Lr(2)):(this.c.info("Failed to ping google.com"),Lr(1))},(Me=Do.prototype).ta=function(){},Me.sa=function(){},Me.ra=function(){},Me.qa=function(){},Me.Ja=function(){},Co.prototype.a=function(t,e){return new xo(t,e)},Qe(xo,ir),xo.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Lr(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=No(t,null,t.fa),po(t)},xo.prototype.close=function(){co(this.a)},xo.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,fo(this.a,e)}else this.l?((e={}).__data__=sr(t),fo(this.a,e)):fo(this.a,t)},xo.prototype.G=function(){this.a.f=null,delete this.f,co(this.a),delete this.a,xo.X.G.call(this)},Qe(Oo,Gr),Qe(Ro,Hr),Qe(Po,Do),Po.prototype.ta=function(){or(this.a,"a")},Po.prototype.sa=function(t){or(this.a,new Oo(t))},Po.prototype.ra=function(t){or(this.a,new Ro(t))},Po.prototype.qa=function(){or(this.a,"b")},Co.prototype.createWebChannel=Co.prototype.a,xo.prototype.send=xo.prototype.h,xo.prototype.open=xo.prototype.g,xo.prototype.close=xo.prototype.close,qr.NO_ERROR=0,qr.TIMEOUT=8,qr.HTTP_ERROR=6,Fr.COMPLETE="complete",Br.EventType=$r,$r.OPEN="a",$r.CLOSE="b",$r.ERROR="c",$r.MESSAGE="d",ir.prototype.listen=ir.prototype.va,Yi.prototype.listenOnce=Yi.prototype.wa,Yi.prototype.getLastError=Yi.prototype.Qa,Yi.prototype.getLastErrorCode=Yi.prototype.ua,Yi.prototype.getStatus=Yi.prototype.W,Yi.prototype.getResponseJson=Yi.prototype.Pa,Yi.prototype.getResponseText=Yi.prototype.$,Yi.prototype.send=Yi.prototype.ba;var Lo=qr,Mo=Fr,Vo=Dr,qo=10,Fo=11,Uo=Br,jo=Yi,Bo=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Bo.o=-1;
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Ko={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},$o=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return qt(e,t),e}(Error),Go=new ye("@firebase/firestore");function Ho(){return Go.logLevel}function zo(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Go.logLevel<=le.DEBUG){var r=e.map(Qo);Go.debug.apply(Go,$t(["Firestore (8.5.0): "+t],r))}}function Wo(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Go.logLevel<=le.ERROR){var r=e.map(Qo);Go.error.apply(Go,$t(["Firestore (8.5.0): "+t],r))}}function Yo(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Go.logLevel<=le.WARN){var r=e.map(Qo);Go.warn.apply(Go,$t(["Firestore (8.5.0): "+t],r))}}function Qo(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Xo(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.5.0) INTERNAL ASSERTION FAILED: "+t;throw Wo(e),new Error(e)}function Jo(t,e){t||Xo()}function Zo(t,e){return t}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function ta(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ea=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=ta(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function na(t,e){return t<e?-1:t>e?1:0}function ra(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function ia(t){return t+"\0"}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var oa=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new $o(Ko.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new $o(Ko.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new $o(Ko.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new $o(Ko.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?na(this.nanoseconds,t.nanoseconds):na(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),aa=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new oa(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function sa(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ua(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ca(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ha=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Xo(),void 0===n?n=t.length-e:n>t.length-e&&Xo(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),la=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return qt(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new $o(Ko.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.emptyPath=function(){return new e([])},e}(ha),fa=/^[_a-zA-Z][_a-zA-Z0-9]*$/,da=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return qt(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return fa.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new $o(Ko.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new $o(Ko.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new $o(Ko.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new $o(Ko.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(ha),pa=function(){function t(t){this.fields=t,t.sort(da.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return ra(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),va=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return na(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();va.EMPTY_BYTE_STRING=new va("");var ma=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ga(t){if(Jo(!!t),"string"==typeof t){var e=0,n=ma.exec(t);if(Jo(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ya(t.seconds),nanos:ya(t.nanos)}}function ya(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ba(t){return"string"==typeof t?va.fromBase64String(t):va.fromUint8Array(t)}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function wa(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ia(t){var e=t.mapValue.fields.__previous_value__;return wa(e)?Ia(e):e}function Ea(t){var e=ga(t.mapValue.fields.__local_write_time__.timestampValue);return new oa(e.seconds,e.nanos)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ta(t){return null==t}function Sa(t){return 0===t&&1/t==-1/0}function _a(t){return"number"==typeof t&&Number.isInteger(t)&&!Sa(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Aa=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(la.fromString(e))},t.fromName=function(e){return new t(la.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===la.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return la.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new la(e.slice()))},t}();
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Na(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?wa(t)?4:10:Xo()}function ka(t,e){var n=Na(t);if(n!==Na(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ea(t).isEqual(Ea(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=ga(t.timestampValue),r=ga(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return ba(t.bytesValue).isEqual(ba(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return ya(t.geoPointValue.latitude)===ya(e.geoPointValue.latitude)&&ya(t.geoPointValue.longitude)===ya(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return ya(t.integerValue)===ya(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=ya(t.doubleValue),r=ya(e.doubleValue);return n===r?Sa(n)===Sa(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return ra(t.arrayValue.values||[],e.arrayValue.values||[],ka);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(sa(n)!==sa(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ka(n[i],r[i])))return!1;return!0}(t,e);default:return Xo()}}function Da(t,e){return void 0!==(t.values||[]).find((function(t){return ka(t,e)}))}function Ca(t,e){var n=Na(t),r=Na(e);if(n!==r)return na(n,r);switch(n){case 0:return 0;case 1:return na(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=ya(t.integerValue||t.doubleValue),r=ya(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return xa(t.timestampValue,e.timestampValue);case 4:return xa(Ea(t),Ea(e));case 5:return na(t.stringValue,e.stringValue);case 6:return function(t,e){var n=ba(t),r=ba(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=na(n[i],r[i]);if(0!==o)return o}return na(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=na(ya(t.latitude),ya(e.latitude));return 0!==n?n:na(ya(t.longitude),ya(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Ca(n[i],r[i]);if(o)return o}return na(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=na(r[a],o[a]);if(0!==s)return s;var u=Ca(n[r[a]],i[o[a]]);if(0!==u)return u}return na(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Xo()}}function xa(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return na(t,e);var n=ga(t),r=ga(e),i=na(n.seconds,r.seconds);return 0!==i?i:na(n.nanos,r.nanos)}function Oa(t){return Ra(t)}function Ra(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=ga(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ba(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Aa.fromName(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Ra(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Ra(t.fields[o])}return e+"}"}(t.mapValue):Xo();var e,n}function Pa(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function La(t){return!!t&&"integerValue"in t}function Ma(t){return!!t&&"arrayValue"in t}function Va(t){return!!t&&"nullValue"in t}function qa(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fa(t){return!!t&&"mapValue"in t}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ua=function(){function t(t){this.overlayMap=new Map,this.partialValue=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){return t.extractNestedValue(this.buildProto(),e)},t.prototype.toProto=function(){return this.field(da.emptyPath())},t.prototype.set=function(t,e){this.setOverlay(t,e)},t.prototype.setAll=function(t){var e=this;t.forEach((function(t,n){t?e.set(n,t):e.delete(n)}))},t.prototype.delete=function(t){this.setOverlay(t,null)},t.prototype.isEqual=function(t){return ka(this.buildProto(),t.buildProto())},t.prototype.setOverlay=function(t,e){for(var n=this.overlayMap,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Na(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.lastSegment(),e)},t.prototype.applyOverlay=function(e,n){var r=this,i=!1,o=t.extractNestedValue(this.partialValue,e),a=Fa(o)?Object.assign({},o.mapValue.fields):{};return n.forEach((function(t,n){if(t instanceof Map){var o=r.applyOverlay(e.child(n),t);null!=o&&(a[n]=o,i=!0)}else null!==t?(a[n]=t,i=!0):a.hasOwnProperty(n)&&(delete a[n],i=!0)})),i?{mapValue:{fields:a}}:null},t.prototype.buildProto=function(){var t=this.applyOverlay(da.emptyPath(),this.overlayMap);return null!=t&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},t.extractNestedValue=function(t,e){if(e.isEmpty())return t;for(var n=t,r=0;r<e.length-1;++r){if(!n.mapValue.fields)return null;if(!Fa(n=n.mapValue.fields[e.get(r)]))return null}return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.clone=function(){return new t(this.buildProto())},t}();function ja(t){var e=[];return ua(t.fields||{},(function(t,n){var r=new da([t]);if(Fa(n)){var i=ja(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];e.push(r.child(s))}}else e.push(r)})),new pa(e)
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}var Ba=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,aa.min(),Ua.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Ua.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Ua.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Ua.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Ua.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Ka=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function $a(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new Ka(t,e,n,r,i,o,a)}function Ga(t){var e=Zo(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Oa(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.canonicalString()+t.dir}(t)})).join(","),Ta(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=is(e.startAt)),e.endAt&&(n+="|ub:",n+=is(e.endAt)),e.h=n}return e.h}function Ha(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!as(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!ka(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!us(t.startAt,e.startAt)&&us(t.endAt,e.endAt)}function za(t){return Aa.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Wa=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return qt(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Ya(t,n,r):"array-contains"===n?new Za(t,r):"in"===n?new ts(t,r):"not-in"===n?new es(t,r):"array-contains-any"===n?new ns(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Qa(t,n):new Xa(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(Ca(e,this.value)):null!==e&&Na(this.value)===Na(e)&&this.m(Ca(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Xo()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Ya=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Aa.fromName(r.referenceValue),i}return qt(e,t),e.prototype.matches=function(t){var e=Aa.comparator(t.key,this.key);return this.m(e)},e}(Wa),Qa=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Ja("in",n),r}return qt(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Wa),Xa=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Ja("not-in",n),r}return qt(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Wa);function Ja(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return Aa.fromName(t.referenceValue)}))}var Za=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return qt(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Ma(e)&&Da(e.arrayValue,this.value)},e}(Wa),ts=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return qt(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&Da(this.value.arrayValue,e)},e}(Wa),es=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return qt(e,t),e.prototype.matches=function(t){if(Da(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!Da(this.value.arrayValue,e)},e}(Wa),ns=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return qt(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Ma(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Da(e.value.arrayValue,t)}))},e}(Wa),rs=function(t,e){this.position=t,this.before=e};function is(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Oa(t)})).join(",")}var os=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function as(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function ss(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.isKeyField()?Aa.comparator(Aa.fromName(a.referenceValue),n.key):Ca(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function us(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!ka(t.position[n],e.position[n]))return!1;return!0}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var cs=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function hs(t,e,n,r,i,o,a,s){return new cs(t,e,n,r,i,o,a,s)}function ls(t){return new cs(t)}function fs(t){return!Ta(t.limit)&&"F"===t.limitType}function ds(t){return!Ta(t.limit)&&"L"===t.limitType}function ps(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function vs(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function ms(t){return null!==t.collectionGroup}function gs(t){var e=Zo(t);if(null===e.p){e.p=[];var n=vs(e),r=ps(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new os(n)),e.p.push(new os(da.keyField(),"asc"));else{for(var i=!1,o=0,a=e.explicitOrderBy;o<a.length;o++){var s=a[o];e.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new os(da.keyField(),u))}}}return e.p}function ys(t){var e=Zo(t);if(!e.T)if("F"===e.limitType)e.T=$a(e.path,e.collectionGroup,gs(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=gs(e);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new os(o.field,a))}var s=e.endAt?new rs(e.endAt.position,!e.endAt.before):null,u=e.startAt?new rs(e.startAt.position,!e.startAt.before):null;e.T=$a(e.path,e.collectionGroup,n,e.filters,e.limit,s,u)}return e.T}function bs(t,e,n){return new cs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ws(t,e){return Ha(ys(t),ys(e))&&t.limitType===e.limitType}function Is(t){return Ga(ys(t))+"|lt:"+t.limitType}function Es(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Oa(e.value);var e})).join(", ")+"]"),Ta(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+is(t.startAt)),t.endAt&&(e+=", endAt: "+is(t.endAt)),"Target("+e+")"}(ys(t))+"; limitType="+t.limitType+")"}function Ts(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Aa.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!ss(t.startAt,gs(t),e)||t.endAt&&ss(t.endAt,gs(t),e))}(t,e)}function Ss(t){return function(e,n){for(var r=!1,i=0,o=gs(t);i<o.length;i++){var a=o[i],s=_s(a,e,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function _s(t,e,n){var r=t.field.isKeyField()?Aa.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?Ca(r,i):Xo()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Xo()}}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function As(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sa(e)?"-0":e}}function Ns(t){return{integerValue:""+t}}function ks(t,e){return _a(e)?Ns(e):As(t,e)}
/**
     * @license
     * Copyright 2018 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ds=function(){this._=void 0};function Cs(t,e,n){return t instanceof Rs?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Ps?Ls(t,e):t instanceof Ms?Vs(t,e):function(t,e){var n=Os(t,e),r=Fs(n)+Fs(t.A);return La(n)&&La(t.A)?Ns(r):As(t.R,r)}(t,e)}function xs(t,e,n){return t instanceof Ps?Ls(t,e):t instanceof Ms?Vs(t,e):n}function Os(t,e){return t instanceof qs?La(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Rs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return qt(e,t),e}(Ds),Ps=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return qt(e,t),e}(Ds);function Ls(t,e){for(var n=Us(e),r=function(t){n.some((function(e){return ka(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ms=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return qt(e,t),e}(Ds);function Vs(t,e){for(var n=Us(e),r=function(t){n=n.filter((function(e){return!ka(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var qs=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return qt(e,t),e}(Ds);function Fs(t){return ya(t.integerValue||t.doubleValue)}function Us(t){return Ma(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var js=function(t,e){this.field=t,this.transform=e},Bs=function(t,e){this.version=t,this.transformResults=e},Ks=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function $s(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Gs=function(){};function Hs(t,e,n){t instanceof Xs?function(t,e,n){var r=t.value.clone(),i=tu(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Js?function(t,e,n){if($s(t.precondition,e)){var r=tu(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Zs(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function zs(t,e,n){t instanceof Xs?function(t,e,n){if($s(t.precondition,e)){var r=t.value.clone(),i=eu(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Qs(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Js?function(t,e,n){if($s(t.precondition,e)){var r=eu(t.fieldTransforms,n,e),i=e.data;i.setAll(Zs(t)),i.setAll(r),e.convertToFoundDocument(Qs(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){$s(t.precondition,e)&&e.convertToNoDocument(aa.min())}(t,e)}function Ws(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],a=e.data.field(o.field),s=Os(o.transform,a||null);null!=s&&(null==n&&(n=Ua.empty()),n.set(o.field,s))}return n||null}function Ys(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&ra(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Ps&&e instanceof Ps||t instanceof Ms&&e instanceof Ms?ra(t.elements,e.elements,ka):t instanceof qs&&e instanceof qs?ka(t.A,e.A):t instanceof Rs&&e instanceof Rs}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Qs(t){return t.isFoundDocument()?t.version:aa.min()}var Xs=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return qt(e,t),e}(Gs),Js=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=t.call(this)||this).key=e,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return qt(e,t),e}(Gs);function Zs(t){var e=new Map;return t.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}})),e}function tu(t,e,n){var r=new Map;Jo(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,xs(a,s,n[i]))}return r}function eu(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,Cs(s,u,e))}return r}var nu,ru,iu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return qt(e,t),e}(Gs),ou=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return qt(e,t),e}(Gs),au=function(t){this.count=t};function su(t){switch(t){case Ko.OK:return Xo();case Ko.CANCELLED:case Ko.UNKNOWN:case Ko.DEADLINE_EXCEEDED:case Ko.RESOURCE_EXHAUSTED:case Ko.INTERNAL:case Ko.UNAVAILABLE:case Ko.UNAUTHENTICATED:return!1;case Ko.INVALID_ARGUMENT:case Ko.NOT_FOUND:case Ko.ALREADY_EXISTS:case Ko.PERMISSION_DENIED:case Ko.FAILED_PRECONDITION:case Ko.ABORTED:case Ko.OUT_OF_RANGE:case Ko.UNIMPLEMENTED:case Ko.DATA_LOSS:return!0;default:return Xo()}}function uu(t){if(void 0===t)return Wo("GRPC error has no .code"),Ko.UNKNOWN;switch(t){case nu.OK:return Ko.OK;case nu.CANCELLED:return Ko.CANCELLED;case nu.UNKNOWN:return Ko.UNKNOWN;case nu.DEADLINE_EXCEEDED:return Ko.DEADLINE_EXCEEDED;case nu.RESOURCE_EXHAUSTED:return Ko.RESOURCE_EXHAUSTED;case nu.INTERNAL:return Ko.INTERNAL;case nu.UNAVAILABLE:return Ko.UNAVAILABLE;case nu.UNAUTHENTICATED:return Ko.UNAUTHENTICATED;case nu.INVALID_ARGUMENT:return Ko.INVALID_ARGUMENT;case nu.NOT_FOUND:return Ko.NOT_FOUND;case nu.ALREADY_EXISTS:return Ko.ALREADY_EXISTS;case nu.PERMISSION_DENIED:return Ko.PERMISSION_DENIED;case nu.FAILED_PRECONDITION:return Ko.FAILED_PRECONDITION;case nu.ABORTED:return Ko.ABORTED;case nu.OUT_OF_RANGE:return Ko.OUT_OF_RANGE;case nu.UNIMPLEMENTED:return Ko.UNIMPLEMENTED;case nu.DATA_LOSS:return Ko.DATA_LOSS;default:return Xo()}}(ru=nu||(nu={}))[ru.OK=0]="OK",ru[ru.CANCELLED=1]="CANCELLED",ru[ru.UNKNOWN=2]="UNKNOWN",ru[ru.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ru[ru.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ru[ru.NOT_FOUND=5]="NOT_FOUND",ru[ru.ALREADY_EXISTS=6]="ALREADY_EXISTS",ru[ru.PERMISSION_DENIED=7]="PERMISSION_DENIED",ru[ru.UNAUTHENTICATED=16]="UNAUTHENTICATED",ru[ru.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ru[ru.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ru[ru.ABORTED=10]="ABORTED",ru[ru.OUT_OF_RANGE=11]="OUT_OF_RANGE",ru[ru.UNIMPLEMENTED=12]="UNIMPLEMENTED",ru[ru.INTERNAL=13]="INTERNAL",ru[ru.UNAVAILABLE=14]="UNAVAILABLE",ru[ru.DATA_LOSS=15]="DATA_LOSS";
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var cu=function(){function t(t,e){this.comparator=t,this.root=e||lu.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,lu.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,lu.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new hu(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new hu(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new hu(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new hu(this.root,t,this.comparator,!0)},t}(),hu=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),lu=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Xo();if(this.right.isRed())throw Xo();var t=this.left.check();if(t!==this.right.check())throw Xo();return t+(this.isRed()?0:1)},t}();lu.EMPTY=null,lu.RED=!0,lu.BLACK=!1,lu.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Xo()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Xo()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Xo()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Xo()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Xo()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new lu(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var fu=function(){function t(t){this.comparator=t,this.data=new cu(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new du(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new du(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),du=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),pu=new cu(Aa.comparator);function vu(){return pu}var mu=new cu(Aa.comparator);function gu(){return mu}var yu=new cu(Aa.comparator);var bu=new fu(Aa.comparator);function wu(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=bu,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Iu=new fu(na);function Eu(){return Iu}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Tu=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,Su.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(aa.min(),r,Eu(),vu(),wu())},t}(),Su=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(va.EMPTY_BYTE_STRING,n,wu(),wu(),wu())},t}(),_u=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},Au=function(t,e){this.targetId=t,this.V=e},Nu=function(t,e,n,r){void 0===n&&(n=va.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},ku=function(){function t(){this.S=0,this.D=xu(),this.C=va.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=wu(),e=wu(),n=wu();return this.D.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Xo()}})),new Su(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=xu()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),Du=function(){function t(t){this.W=t,this.G=new Map,this.H=vu(),this.J=Cu(),this.Y=new fu(na)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.$(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.$(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.$(t.resumeToken));break;default:Xo()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach((function(t,r){n.st(r)&&e(r)}))},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(za(i))if(0===n){var o=new Aa(i.path);this.tt(e,o,Ba.newNoDocument(o,aa.min()))}else Jo(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach((function(r,i){var o=e.ot(i);if(o){if(r.current&&za(o.target)){var a=new Aa(o.target.path);null!==e.H.get(a)||e.at(i,a)||e.tt(i,a,Ba.newNoDocument(a,t))}r.O&&(n.set(i,r.M()),r.L())}}));var r=wu();this.J.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new Tu(t,n,this.Y,this.H,r);return this.H=vu(),this.J=Cu(),this.Y=new fu(na),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new ku,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new fu(na),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||zo("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new ku),this.W.getRemoteKeysForTarget(t).forEach((function(n){e.tt(t,n,null)}))},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function Cu(){return new cu(Aa.comparator)}function xu(){return new cu(Aa.comparator)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ou={asc:"ASCENDING",desc:"DESCENDING"},Ru={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Pu=function(t,e){this.databaseId=t,this.I=e};function Lu(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Mu(t,e){return t.I?e.toBase64():e.toUint8Array()}function Vu(t,e){return Lu(t,e.toTimestamp())}function qu(t){return Jo(!!t),aa.fromTimestamp(function(t){var e=ga(t);return new oa(e.seconds,e.nanos)}(t))}function Fu(t,e){return function(t){return new la(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Uu(t){var e=la.fromString(t);return Jo(cc(e)),e}function ju(t,e){return Fu(t.databaseId,e.path)}function Bu(t,e){var n=Uu(e);if(n.get(1)!==t.databaseId.projectId)throw new $o(Ko.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new $o(Ko.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Aa(Hu(n))}function Ku(t,e){return Fu(t.databaseId,e)}function $u(t){var e=Uu(t);return 4===e.length?la.emptyPath():Hu(e)}function Gu(t){return new la(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Hu(t){return Jo(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function zu(t,e,n){return{name:ju(t,e),fields:n.toProto().mapValue.fields}}function Wu(t,e){var n;if(e instanceof Xs)n={update:zu(t,e.key,e.value)};else if(e instanceof iu)n={delete:ju(t,e.key)};else if(e instanceof Js)n={update:zu(t,e.key,e.data),updateMask:uc(e.fieldMask)};else{if(!(e instanceof ou))return Xo();n={verify:ju(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Rs)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ps)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ms)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof qs)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Xo()}(0,t)}))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Vu(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Xo()}(t,e.precondition)),n}function Yu(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Ks.updateTime(qu(t.updateTime)):void 0!==t.exists?Ks.exists(t.exists):Ks.none()}(e.currentDocument):Ks.none(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)Jo("REQUEST_TIME"===e.setToServerValue),n=new Rs;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new Ps(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new Ms(i)}else"increment"in e?n=new qs(t,e.increment):Xo();var o=da.fromServerFormat(e.fieldPath);return new js(o,n)}(t,e)})):[];if(e.update){e.update.name;var i=Bu(t,e.update.name),o=new Ua({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){var e=t.fieldPaths||[];return new pa(e.map((function(t){return da.fromServerFormat(t)})))}(e.updateMask);return new Js(i,o,a,n,r)}return new Xs(i,o,n,r)}if(e.delete){var s=Bu(t,e.delete);return new iu(s,n)}if(e.verify){var u=Bu(t,e.verify);return new ou(u,n)}return Xo()}function Qu(t,e){return{documents:[Ku(t,e.path)]}}function Xu(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Ku(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ku(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(qa(t.value))return{unaryFilter:{field:ic(t.field),op:"IS_NAN"}};if(Va(t.value))return{unaryFilter:{field:ic(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(qa(t.value))return{unaryFilter:{field:ic(t.field),op:"IS_NOT_NAN"}};if(Va(t.value))return{unaryFilter:{field:ic(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ic(t.field),op:rc(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:ic(t.field),direction:nc(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.I||Ta(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=tc(e.startAt)),e.endAt&&(n.structuredQuery.endAt=tc(e.endAt)),n}function Ju(t){var e=$u(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Jo(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=Zu(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(t){return function(t){return new os(oc(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return Ta(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=ec(n.startAt));var h=null;return n.endAt&&(h=ec(n.endAt)),hs(e,i,s,a,u,"F",c,h)}function Zu(t){return t?void 0!==t.unaryFilter?[sc(t)]:void 0!==t.fieldFilter?[ac(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return Zu(t)})).reduce((function(t,e){return t.concat(e)})):Xo():[]}function tc(t){return{before:t.before,values:t.position}}function ec(t){var e=!!t.before,n=t.values||[];return new rs(n,e)}function nc(t){return Ou[t]}function rc(t){return Ru[t]}function ic(t){return{fieldPath:t.canonicalString()}}function oc(t){return da.fromServerFormat(t.fieldPath)}function ac(t){return Wa.create(oc(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Xo()}}(t.fieldFilter.op),t.fieldFilter.value)}function sc(t){switch(t.unaryFilter.op){case"IS_NAN":var e=oc(t.unaryFilter.field);return Wa.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=oc(t.unaryFilter.field);return Wa.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=oc(t.unaryFilter.field);return Wa.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=oc(t.unaryFilter.field);return Wa.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Xo()}}function uc(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function cc(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function hc(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=fc(e)),e=lc(t.get(n),e);return fc(e)}function lc(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function fc(t){return t+""}function dc(t){var e=t.length;if(Jo(e>=2),2===e)return Jo(""===t.charAt(0)&&""===t.charAt(1)),la.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("",o);switch((a<0||a>n)&&Xo(),t.charAt(a+1)){case"":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"":i+=t.substring(o,a),i+="\0";break;case"":i+=t.substring(o,a+1);break;default:Xo()}o=a+2}return new la(r)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var pc=function(t,e){this.seconds=t,this.nanoseconds=e},vc=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};vc.store="owner",vc.key="owner";var mc=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};mc.store="mutationQueues",mc.keyPath="userId";var gc=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};gc.store="mutations",gc.keyPath="batchId",gc.userMutationsIndex="userMutationsIndex",gc.userMutationsKeyPath=["userId","batchId"];var yc=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,hc(e)]},t.key=function(t,e,n){return[t,hc(e),n]},t}();yc.store="documentMutations",yc.PLACEHOLDER=new yc;var bc=function(t,e){this.path=t,this.readTime=e},wc=function(t,e){this.path=t,this.version=e},Ic=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Ic.store="remoteDocuments",Ic.readTimeIndex="readTimeIndex",Ic.readTimeIndexPath="readTime",Ic.collectionReadTimeIndex="collectionReadTimeIndex",Ic.collectionReadTimeIndexPath=["parentPath","readTime"];var Ec=function(t){this.byteSize=t};Ec.store="remoteDocumentGlobal",Ec.key="remoteDocumentGlobalKey";var Tc=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Tc.store="targets",Tc.keyPath="targetId",Tc.queryTargetsIndexName="queryTargetsIndex",Tc.queryTargetsKeyPath=["canonicalId","targetId"];var Sc=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Sc.store="targetDocuments",Sc.keyPath=["targetId","path"],Sc.documentTargetsIndex="documentTargetsIndex",Sc.documentTargetsKeyPath=["path","targetId"];var _c=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};_c.key="targetGlobalKey",_c.store="targetGlobal";var Ac=function(t,e){this.collectionId=t,this.parent=e};Ac.store="collectionParents",Ac.keyPath=["collectionId","parent"];var Nc=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Nc.store="clientMetadata",Nc.keyPath="clientId";var kc=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};kc.store="bundles",kc.keyPath="bundleId";var Dc=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Dc.store="namedQueries",Dc.keyPath="name";var Cc=$t($t([],$t($t([],$t($t([],$t($t([],[mc.store,gc.store,yc.store,Ic.store,Tc.store,vc.store,_c.store,Sc.store]),[Nc.store])),[Ec.store])),[Ac.store])),[kc.store,Dc.store]),xc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Oc=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),Rc=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Pc=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Xo(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),Lc=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Rc,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new qc(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Kc(e.target.error);n.ft.reject(new qc(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new qc(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(zo("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Uc(e)},t}(),Mc=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Wt())&&Wo("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return zo("SimpleDb","Removing database:",t),jc(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Wt(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Ut(this,void 0,void 0,(function(){var e,n=this;return jt(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(zo("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new qc(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new $o(Ko.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new qc(t,n))},i.onupgradeneeded=function(t){zo("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.wt.Rt(e,i.transaction,t.oldVersion,n.version).next((function(){zo("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}}))}))},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Ut(this,void 0,void 0,(function(){var i,o,a,s,u;return jt(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,a=function(){var e,a,u,c,h;return jt(this,(function(l){switch(l.label){case 0:++o,l.label=1;case 1:return l.trys.push([1,4,,5]),[4,s.At(t)];case 2:return s.db=l.sent(),e=Lc.open(s.db,t,i?"readonly":"readwrite",n),a=r(e).catch((function(t){return e.abort(t),Pc.reject(t)})).toPromise(),u={},a.catch((function(){})),[4,e.dt];case 3:return[2,(u.value=(l.sent(),a),u)];case 4:return c=l.sent(),h="FirebaseError"!==c.name&&o<3,zo("SimpleDb","Transaction failed with error:",c.message,"Retrying:",h),s.close(),h?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Vc=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return jc(this.Pt.delete())},t}(),qc=function(t){function e(e,n){var r=this;return(r=t.call(this,Ko.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return qt(e,t),e}($o);function Fc(t){return"IndexedDbTransactionError"===t.name}var Uc=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(zo("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(zo("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),jc(n)},t.prototype.add=function(t){return zo("SimpleDb","ADD",this.store.name,t,t),jc(this.store.add(t))},t.prototype.get=function(t){var e=this;return jc(this.store.get(t)).next((function(n){return void 0===n&&(n=null),zo("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return zo("SimpleDb","DELETE",this.store.name,t),jc(this.store.delete(t))},t.prototype.count=function(){return zo("SimpleDb","COUNT",this.store.name),jc(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.Ft=function(t,e){zo("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(t,e,n){return n.delete()}))},t.prototype.Ot=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.$t=function(t){var e=this.cursor({});return new Pc((function(n,r){e.onerror=function(t){var e=Kc(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.xt=function(t,e){var n=[];return new Pc((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Vc(i),a=e(i.primaryKey,i.value,o);if(a instanceof Pc){var s=a.catch((function(t){return o.done(),Pc.reject(t)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return Pc.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function jc(t){return new Pc((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=Kc(t.target.error);n(e)}}))}var Bc=!1;function Kc(t){var e=Mc._t(Wt());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new $o("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Bc||(Bc=!0,setTimeout((function(){throw r}),0)),r}}return t}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var $c=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return qt(e,t),e}(Oc);function Gc(t,e){var n=Zo(t);return Mc.It(n.Mt,e)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Hc=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Hs(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&zs(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&zs(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach((function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(aa.min())}))},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),wu())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&ra(this.mutations,t.mutations,(function(t,e){return Ys(t,e)}))&&ra(this.baseMutations,t.baseMutations,(function(t,e){return Ys(t,e)}))},t}(),zc=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Jo(e.mutations.length===r.length);for(var i=yu,o=e.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),Wc=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=aa.min()),void 0===o&&(o=aa.min()),void 0===a&&(a=va.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Yc=function(t){this.Lt=t};function Qc(t,e){if(e.document)return function(t,e,n){var r=Bu(t,e.name),i=qu(e.updateTime),o=new Ua({mapValue:{fields:e.fields}}),a=Ba.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Aa.fromSegments(e.noDocument.path),r=eh(e.noDocument.readTime),i=Ba.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=Aa.fromSegments(e.unknownDocument.path);return r=eh(e.unknownDocument.version),Ba.newUnknownDocument(o,r)}return Xo()}function Xc(t,e,n){var r=Jc(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:ju(t,e.key),fields:e.data.toProto().mapValue.fields,updateTime:Lu(t,e.version.toTimestamp())}}(t.Lt,e),a=e.hasCommittedMutations;return new Ic(null,null,o,a,r,i)}if(e.isNoDocument()){var s=e.key.path.toArray(),u=th(e.version);return a=e.hasCommittedMutations,new Ic(null,new bc(s,u),null,a,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),h=th(e.version);return new Ic(new wc(c,h),null,null,!0,r,i)}return Xo()}function Jc(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Zc(t){var e=new oa(t[0],t[1]);return aa.fromTimestamp(e)}function th(t){var e=t.toTimestamp();return new pc(e.seconds,e.nanoseconds)}function eh(t){var e=new oa(t.seconds,t.nanoseconds);return aa.fromTimestamp(e)}function nh(t,e){for(var n=(e.baseMutations||[]).map((function(e){return Yu(t.Lt,e)})),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform){var o=e.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var a=e.mutations.map((function(e){return Yu(t.Lt,e)})),s=oa.fromMillis(e.localWriteTimeMs);return new Hc(e.batchId,s,n,a)}function rh(t){var e,n,r=eh(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?eh(t.lastLimboFreeSnapshotVersion):aa.min();return void 0!==t.query.documents?(Jo(1===(n=t.query).documents.length),e=ys(ls($u(n.documents[0])))):e=function(t){return ys(Ju(t))}(t.query),new Wc(e,t.targetId,0,t.lastListenSequenceNumber,r,i,va.fromBase64String(t.resumeToken))}function ih(t,e){var n,r=th(e.snapshotVersion),i=th(e.lastLimboFreeSnapshotVersion);n=za(e.target)?Qu(t.Lt,e.target):Xu(t.Lt,e.target);var o=e.resumeToken.toBase64();return new Tc(e.targetId,Ga(e.target),r,o,e.sequenceNumber,i,n)}function oh(t){var e=Ju({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?bs(e,e.limit,"L"):e}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ah=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return sh(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:eh(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return sh(t).put({bundleId:(n=e).id,createTime:th(qu(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return uh(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:oh(e.bundledQuery),readTime:eh(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return uh(t).put(function(t){return{name:t.name,readTime:th(qu(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function sh(t){return Gc(t,kc.store)}function uh(t){return Gc(t,Dc.store)}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ch=function(){function t(){this.Bt=new hh}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Pc.resolve()},t.prototype.getCollectionParents=function(t,e){return Pc.resolve(this.Bt.getEntries(e))},t}(),hh=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new fu(la.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new fu(la.comparator)).toArray()},t}(),lh=function(){function t(){this.qt=new hh}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((function(){n.qt.add(e)}));var o={collectionId:r,parent:hc(i)};return fh(t).put(o)}return Pc.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[ia(e),""],!1,!0);return fh(t).Nt(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(dc(o.parent))}return n}))},t}();function fh(t){return Gc(t,Ac.store)}
/**
     * @license
     * Copyright 2018 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var dh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ph=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function vh(t,e,n){var r=t.store(gc.store),i=t.store(yc.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.Ot({range:a},(function(t,e,n){return s++,n.delete()}));o.push(u.next((function(){Jo(1===s)})));for(var c=[],h=0,l=n.mutations;h<l.length;h++){var f=l[h],d=yc.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Pc.waitFor(o).next((function(){return c}))}function mh(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Xo();e=t.noDocument}return JSON.stringify(e).length}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */ph.DEFAULT_COLLECTION_PERCENTILE=10,ph.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ph.DEFAULT=new ph(41943040,ph.DEFAULT_COLLECTION_PERCENTILE,ph.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ph.DISABLED=new ph(-1,0,0);var gh=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return Jo(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return bh(t).Ot({index:gc.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=wh(t),a=bh(t);return a.add({}).next((function(s){Jo("number"==typeof s);for(var u=new Hc(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return Wu(t.Lt,e)})),i=n.mutations.map((function(e){return Wu(t.Lt,e)}));return new gc(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),h=[],l=new fu((function(t,e){return na(t.canonicalString(),e.canonicalString())})),f=0,d=r;f<d.length;f++){var p=d[f],v=yc.key(i.userId,p.key.path,s);l=l.add(p.key.path.popLast()),h.push(a.put(c)),h.push(o.put(v,yc.PLACEHOLDER))}return l.forEach((function(e){h.push(i.Ut.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){i.Qt[s]=u.keys()})),Pc.waitFor(h).next((function(){return u}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return bh(t).get(e).next((function(t){return t?(Jo(t.userId===n.userId),nh(n.R,t)):null}))},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?Pc.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return bh(t).Ot({index:gc.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Jo(e.batchId>=r),o=nh(n.R,e)),i.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return bh(t).Ot({index:gc.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return bh(t).Nt(gc.userMutationsIndex,n).next((function(t){return t.map((function(t){return nh(e.R,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=yc.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return wh(t).Ot({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],h=dc(u);if(s===n.userId&&e.path.isEqual(h))return bh(t).get(c).next((function(t){if(!t)throw Xo();Jo(t.userId===n.userId),o.push(nh(n.R,t))}));a.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new fu(na),i=[];return e.forEach((function(e){var o=yc.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=wh(t).Ot({range:a},(function(t,i,o){var a=t[0],s=t[1],u=t[2],c=dc(s);a===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),Pc.waitFor(i).next((function(){return n.Wt(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=yc.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new fu(na);return wh(t).Ot({range:a},(function(t,e,o){var a=t[0],u=t[1],c=t[2],h=dc(u);a===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Wt(t,s)}))},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(bh(t).get(e).next((function(t){if(null===t)throw Xo();Jo(t.userId===n.userId),r.push(nh(n.R,t))})))})),Pc.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return vh(t.Mt,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.Gt(e.batchId)})),Pc.forEach(r,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return Pc.resolve();var r=IDBKeyRange.lowerBound(yc.prefixForUser(e.userId)),i=[];return wh(t).Ot({range:r},(function(t,n,r){if(t[0]===e.userId){var o=dc(t[1]);i.push(o)}else r.done()})).next((function(){Jo(0===i.length)}))}))},t.prototype.containsKey=function(t,e){return yh(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return Ih(t).get(this.userId).next((function(t){return t||new mc(e.userId,-1,"")}))},t}();function yh(t,e,n){var r=yc.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return wh(t).Ot({range:o,kt:!0},(function(t,n,r){var o=t[0],s=t[1];t[2],o===e&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function bh(t){return Gc(t,gc.store)}function wh(t){return Gc(t,yc.store)}function Ih(t){return Gc(t,mc.store)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Eh=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),Th=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next((function(n){var r=new Eh(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next((function(t){return aa.fromTimestamp(new oa(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next((function(){return n.Xt(t).next((function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)}))}))},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return Sh(t).delete(e.targetId)})).next((function(){return n.Xt(t)})).next((function(e){return Jo(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return Sh(t).Ot((function(a,s){var u=rh(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))})).next((function(){return Pc.waitFor(o)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){return Sh(t).Ot((function(t,n){var r=rh(n);e(r)}))},t.prototype.Xt=function(t){return _h(t).get(_c.key).next((function(t){return Jo(null!==t),t}))},t.prototype.Zt=function(t,e){return _h(t).put(_c.key,e)},t.prototype.te=function(t,e){return Sh(t).put(ih(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=Ga(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Sh(t).Ot({range:r,index:Tc.queryTargetsIndexName},(function(t,n,r){var o=rh(n);Ha(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=Ah(t);return e.forEach((function(e){var a=hc(e.path);i.push(o.put(new Sc(n,a))),i.push(r.referenceDelegate.addReference(t,n,e))})),Pc.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Ah(t);return Pc.forEach(e,(function(e){var o=hc(e.path);return Pc.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Ah(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Ah(t),i=wu();return r.Ot({range:n,kt:!0},(function(t,e,n){var r=dc(t[1]),o=new Aa(r);i=i.add(o)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=hc(e.path),r=IDBKeyRange.bound([n],[ia(n)],!1,!0),i=0;return Ah(t).Ot({index:Sc.documentTargetsIndex,kt:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.lt=function(t,e){return Sh(t).get(e).next((function(t){return t?rh(t):null}))},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Sh(t){return Gc(t,Tc.store)}function _h(t){return Gc(t,_c.store)}function Ah(t){return Gc(t,Sc.store)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Nh(t){return Ut(this,void 0,void 0,(function(){return jt(this,(function(e){if(t.code!==Ko.FAILED_PRECONDITION||t.message!==xc)throw t;return zo("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function kh(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=na(n,i);return 0===a?na(r,o):a}var Dh=function(){function t(t){this.ne=t,this.buffer=new fu(kh),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();kh(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Ch=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;zo("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return Ut(e,void 0,void 0,(function(){var e;return jt(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Fc(e=n.sent())?(zo("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Nh(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),xh=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Pc.resolve(Bo.o);var r=new Dh(e);return this.ae.forEachTarget(t,(function(t){return r.re(t.sequenceNumber)})).next((function(){return n.ae.le(t,(function(t){return r.re(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(zo("LruGarbageCollector","Garbage collection skipped; disabled"),Pc.resolve(dh)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(zo("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),dh):n.fe(t,e)}))},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,a,s,u,c=this,h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>c.params.maximumSequenceNumbersToCollect?(zo("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(t,n,e)})).next((function(e){return i=e,s=Date.now(),c.removeOrphanedDocuments(t,n)})).next((function(t){return u=Date.now(),Ho()<=le.DEBUG&&zo("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-h)+"ms"),Pc.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},t}(),Oh=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new xh(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.de=function(t){var e=0;return this.le(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return Rh(t,n)},t.prototype.removeReference=function(t,e,n){return Rh(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Rh(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return Ih(t).$t((function(r){return yh(t,r,e).next((function(t){return t&&(n=!0),Pc.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,(function(a,s){if(s<=e){var u=n._e(t,a).next((function(e){if(!e)return o++,r.getEntry(t,a).next((function(){return r.removeEntry(a),Ah(t).delete([0,hc(a.path)])}))}));i.push(u)}})).next((function(){return Pc.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Rh(t,e)},t.prototype.we=function(t,e){var n,r=Ah(t),i=Bo.o;return r.Ot({index:Sc.documentTargetsIndex},(function(t,r){var o=t[0],a=(t[1],r.path),s=r.sequenceNumber;0===o?(i!==Bo.o&&e(new Aa(dc(n)),i),i=s,n=a):i=Bo.o})).next((function(){i!==Bo.o&&e(new Aa(dc(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Rh(t,e){return Ah(t).put(function(t,e){return new Sc(0,hc(t.path),e)}(e,t.currentSequenceNumber))}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ph=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){ua(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];t(a,s)}}))},t.prototype.isEmpty=function(){return ca(this.inner)},t}(),Lh=function(){function t(){this.changes=new Ph((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:aa.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Ba.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Pc.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),Mh=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Fh(t).put(Uh(e),n)},t.prototype.removeEntry=function(t,e){var n=Fh(t),r=Uh(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.me(t,r)}))},t.prototype.getEntry=function(t,e){var n=this;return Fh(t).get(Uh(e)).next((function(t){return n.ye(e,t)}))},t.prototype.ge=function(t,e){var n=this;return Fh(t).get(Uh(e)).next((function(t){return{document:n.ye(e,t),size:mh(t)}}))},t.prototype.getEntries=function(t,e){var n=this,r=vu();return this.pe(t,e,(function(t,e){var i=n.ye(t,e);r=r.insert(t,i)})).next((function(){return r}))},t.prototype.Ee=function(t,e){var n=this,r=vu(),i=new cu(Aa.comparator);return this.pe(t,e,(function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,mh(e))})).next((function(){return{documents:r,Te:i}}))},t.prototype.pe=function(t,e,n){if(e.isEmpty())return Pc.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Fh(t).Ot({range:r},(function(t,e,r){for(var a=Aa.fromSegments(t);o&&Aa.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=vu(),o=e.path.length+1,a={};if(n.isEqual(aa.min())){var s=e.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.toArray(),c=Jc(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=Ic.collectionReadTimeIndex}return Fh(t).Ot(a,(function(t,n,a){if(t.length===o){var s=Qc(r.R,n);e.path.isPrefixOf(s.key.path)?Ts(e,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},t.prototype.newChangeBuffer=function(t){return new Vh(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return qh(t).get(Ec.key).next((function(t){return Jo(!!t),t}))},t.prototype.me=function(t,e){return qh(t).put(Ec.key,e)},t.prototype.ye=function(t,e){if(e){var n=Qc(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(aa.min()))return n}return Ba.newInvalidDocument(t)},t}(),Vh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new Ph((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return qt(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new fu((function(t,e){return na(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,a){var s=e.Ae.get(o);if(a.document.isValidDocument()){var u=Xc(e.Ie.R,a.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=mh(u);r+=c-s,n.push(e.Ie.addEntry(t,o,u))}else if(r-=s,e.trackRemovals){var h=Xc(e.Ie.R,Ba.newNoDocument(o,aa.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,h))}else n.push(e.Ie.removeEntry(t,o))})),i.forEach((function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))})),n.push(this.Ie.updateMetadata(t,r)),Pc.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next((function(t){return n.Ae.set(e,t.size),t.document}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next((function(t){var e=t.documents;return t.Te.forEach((function(t,e){n.Ae.set(t,e)})),e}))},e}(Lh);
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function qh(t){return Gc(t,Ec.store)}function Fh(t){return Gc(t,Ic.store)}function Uh(t){return t.path.toArray()}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var jh=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Jo(n<r&&n>=0&&r<=11);var o=new Lc("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(vc.store)}(t),function(t){t.createObjectStore(mc.store,{keyPath:mc.keyPath}),t.createObjectStore(gc.store,{keyPath:gc.keyPath,autoIncrement:!0}).createIndex(gc.userMutationsIndex,gc.userMutationsKeyPath,{unique:!0}),t.createObjectStore(yc.store)}(t),Bh(t),function(t){t.createObjectStore(Ic.store)}(t));var a=Pc.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Sc.store),t.deleteObjectStore(Tc.store),t.deleteObjectStore(_c.store)}(t),Bh(t)),a=a.next((function(){return function(t){var e=t.store(_c.store),n=new _c(0,0,aa.min().toTimestamp(),0);return e.put(_c.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(t,e){return e.store(gc.store).Nt().next((function(n){t.deleteObjectStore(gc.store),t.createObjectStore(gc.store,{keyPath:gc.keyPath,autoIncrement:!0}).createIndex(gc.userMutationsIndex,gc.userMutationsKeyPath,{unique:!0});var r=e.store(gc.store),i=n.map((function(t){return r.put(t)}));return Pc.waitFor(i)}))}(t,o)}))),a=a.next((function(){!function(t){t.createObjectStore(Nc.store,{keyPath:Nc.keyPath})}(t)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(t){t.createObjectStore(Ec.store)}(t),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(t,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Ic.store);e.createIndex(Ic.readTimeIndex,Ic.readTimeIndexPath,{unique:!1}),e.createIndex(Ic.collectionReadTimeIndex,Ic.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(t){t.createObjectStore(kc.store,{keyPath:kc.keyPath})}(t),function(t){t.createObjectStore(Dc.store,{keyPath:Dc.keyPath})}(t)}))),a},t.prototype.be=function(t){var e=0;return t.store(Ic.store).Ot((function(t,n){e+=mh(n)})).next((function(){var n=new Ec(e);return t.store(Ec.store).put(Ec.key,n)}))},t.prototype.Re=function(t){var e=this,n=t.store(mc.store),r=t.store(gc.store);return n.Nt().next((function(n){return Pc.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(gc.userMutationsIndex,i).next((function(r){return Pc.forEach(r,(function(r){Jo(r.userId===n.userId);var i=nh(e.R,r);return vh(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ve=function(t){var e=t.store(Sc.store),n=t.store(Ic.store);return t.store(_c.store).get(_c.key).next((function(t){var r=[];return n.Ot((function(n,i){var o=new la(n),a=function(t){return[0,hc(t)]}(o);r.push(e.get(a).next((function(n){return n?Pc.resolve():function(n){return e.put(new Sc(0,hc(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return Pc.waitFor(r)}))}))},t.prototype.Pe=function(t,e){t.createObjectStore(Ac.store,{keyPath:Ac.keyPath});var n=e.store(Ac.store),r=new hh,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:hc(i)})}};return e.store(Ic.store).Ot({kt:!0},(function(t,e){var n=new la(t);return i(n.popLast())})).next((function(){return e.store(yc.store).Ot({kt:!0},(function(t,e){t[0];var n=t[1],r=(t[2],dc(n));return i(r.popLast())}))}))},t.prototype.Ve=function(t){var e=this,n=t.store(Tc.store);return n.Ot((function(t,r){var i=rh(r),o=ih(e.R,i);return n.put(o)}))},t}();function Bh(t){t.createObjectStore(Sc.store,{keyPath:Sc.keyPath}).createIndex(Sc.documentTargetsIndex,Sc.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Tc.store,{keyPath:Tc.keyPath}).createIndex(Tc.queryTargetsIndexName,Tc.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(_c.store)}var Kh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",$h=function(){function t(e,n,r,i,o,a,s,u,c,h){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=h,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new $o(Ko.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Oh(this,i),this.Le=n+"main",this.R=new Yc(u),this.Be=new Mc(this.Le,11,new jh(this.R)),this.qe=new Th(this.referenceDelegate,this.R),this.Ut=new lh,this.Ue=function(t,e){return new Mh(t,e)}(this.R,this.Ut),this.Qe=new ah,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===h&&Wo("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new $o(Ko.FAILED_PRECONDITION,Kh);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.qe.getHighestSequenceNumber(e)}))})).then((function(e){t.Ne=new Bo(e,t.De)})).then((function(){t.xe=!0})).catch((function(e){return t.Be&&t.Be.close(),Promise.reject(e)}))},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Ut(e,void 0,void 0,(function(){return jt(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt((function(n){return Ut(e,void 0,void 0,(function(){return jt(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget((function(){return Ut(e,void 0,void 0,(function(){return jt(this,(function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Hh(e).put(new Nc(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Je(e).next((function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable((function(){return t.Me(!1)})))}))})).next((function(){return t.Ye(e)})).next((function(n){return t.isPrimary&&!n?t.Xe(e).next((function(){return!1})):!!n&&t.Ze(e).next((function(){return!0}))}))})).catch((function(e){if(Fc(e))return zo("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return zo("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Se.enqueueRetryable((function(){return t.Me(e)})),t.isPrimary=e}))},t.prototype.Je=function(t){var e=this;return Gh(t).get(vc.key).next((function(t){return Pc.resolve(e.tn(t))}))},t.prototype.en=function(t){return Hh(t).delete(this.clientId)},t.prototype.nn=function(){return Ut(this,void 0,void 0,(function(){var t,e,n,r,i=this;return jt(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=Gc(t,Nc.store);return e.Nt().next((function(t){var n=i.rn(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return Pc.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=o.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)r=n[e],this.Ke.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},t.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.je().then((function(){return t.nn()})).then((function(){return t.ze()}))}))},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?Pc.resolve(!0):Gh(t).get(vc.key).next((function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new $o(Ko.FAILED_PRECONDITION,Kh);return!1}}return!(!e.networkEnabled||!e.inForeground)||Hh(t).Nt().next((function(t){return void 0===e.rn(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&zo("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return Ut(this,void 0,void 0,(function(){var t=this;return jt(this,(function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[vc.store,Nc.store],(function(e){var n=new $c(e,Bo.o);return t.Xe(n).next((function(){return t.en(n)}))}))];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}}))}))},t.prototype.rn=function(t,e){var n=this;return t.filter((function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)}))},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Hh(e).Nt().next((function(e){return t.rn(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return gh.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;zo("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.Be.runTransaction(t,o,Cc,(function(o){return i=new $c(o,r.Ne?r.Ne.next():Bo.o),"readwrite-primary"===e?r.Je(i).next((function(t){return!!t||r.Ye(i)})).next((function(e){if(!e)throw Wo("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new $o(Ko.FAILED_PRECONDITION,xc);return n(i)})).next((function(t){return r.Ze(i).next((function(){return t}))})):r.dn(i).next((function(){return n(i)}))})).then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.dn=function(t){var e=this;return Gh(t).get(vc.key).next((function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new $o(Ko.FAILED_PRECONDITION,Kh)}))},t.prototype.Ze=function(t){var e=new vc(this.clientId,this.allowTabSynchronization,Date.now());return Gh(t).put(vc.key,e)},t.yt=function(){return Mc.yt()},t.prototype.Xe=function(t){var e=this,n=Gh(t);return n.get(vc.key).next((function(t){return e.tn(t)?(zo("IndexedDbPersistence","Releasing primary lease."),n.delete(vc.key)):Pc.resolve()}))},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Wo("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("unload",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return zo("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Wo("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Wo("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Gh(t){return Gc(t,vc.store)}function Hh(t){return Gc(t,Nc.store)}function zh(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}var Wh=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.yn(t,e,r)}))},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next((function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t}))},t.prototype.gn=function(t,e){t.forEach((function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)}))},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next((function(e){return n.En(t,e).next((function(){return e}))}))},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(t){return n.gn(e,t)}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return Aa.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):ms(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new Aa(e)).next((function(t){var e=gu();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=gu();return this.Ut.getCollectionParents(t,i).next((function(a){return Pc.forEach(a,(function(a){var s=function(t,e){return new cs(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return r.An(t,s,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return i=e,o.Rn(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,h=r.get(c);null==h&&(h=Ba.newInvalidDocument(c),r=r.insert(c,h)),zs(u,h,o.localWriteTime),h.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(t,n){Ts(e,n)||(r=r.remove(t))})),r}))},t.prototype.Rn=function(t,e,n){for(var r=wu(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Js&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next((function(t){return t.forEach((function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))})),c}))},t}(),Yh=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=wu(),i=wu(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Qh=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(aa.min())?this.Dn(t,e):this.Sn.pn(t,r).next((function(o){var a=i.Cn(e,o);return(fs(e)||ds(e))&&i.Nn(e.limitType,a,r,n)?i.Dn(t,e):(Ho()<=le.DEBUG&&zo("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Es(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next((function(t){return a.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.Cn=function(t,e){var n=new fu(Ss(t));return e.forEach((function(e,r){Ts(t,r)&&(n=n.add(r))})),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Ho()<=le.DEBUG&&zo("QueryEngine","Using full collection scan to execute query:",Es(e)),this.Sn.getDocumentsMatchingQuery(t,e,aa.min())},t}(),Xh=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new cu(na),this.kn=new Ph((function(t){return Ga(t)}),Ha),this.On=aa.min(),this._n=t.getMutationQueue(n),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Wh(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.Fn)}))},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Jh(t,e,n,r){return new Xh(t,e,n,r)}function Zh(t,e){return Ut(this,void 0,void 0,(function(){var n,r,i,o;return jt(this,(function(a){switch(a.label){case 0:return n=Zo(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n._n.getAllMutationBatches(t).next((function(a){return o=a,r=n.persistence.getMutationQueue(e),i=new Wh(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)})).next((function(e){for(var n=[],r=[],a=wu(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var h=0,l=c.mutations;h<l.length;h++){var f=l[h];a=a.add(f.key)}}for(var d=0,p=e;d<p.length;d++){var v=p[d];r.push(v.batchId);for(var m=0,g=v.mutations;m<g.length;m++){var y=g[m];a=a.add(y.key)}}return i.pn(t,a).next((function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function tl(t,e){var n=Zo(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=Pc.resolve();return o.forEach((function(t){a=a.next((function(){return r.getEntry(e,t)})).next((function(e){var o=n.docVersions.get(t);Jo(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))}))})),a.next((function(){return t._n.removeMutationBatch(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}function el(t){var e=Zo(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.qe.getLastRemoteSnapshotVersion(t)}))}function nl(t,e){var n=Zo(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var a=[];e.targetChanges.forEach((function(e,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)})));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return Jo(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,e)&&a.push(n.qe.updateTargetData(t,c))}}}));var s=vu();if(e.documentUpdates.forEach((function(r,i){e.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),a.push(function(t,e,n,r,i){var o=wu();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=vu();return n.forEach((function(n,a){var s=t.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(aa.min())?(e.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(e.addEntry(a,u),o=o.insert(n,a)):zo("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}(t,o,e.documentUpdates,r,void 0).next((function(t){s=t}))),!r.isEqual(aa.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next((function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)}));a.push(u)}return Pc.waitFor(a).next((function(){return o.apply(t)})).next((function(){return n.Mn.En(t,s)})).next((function(){return s}))})).then((function(t){return n.Fn=i,t}))}function rl(t,e){var n=Zo(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)}))}function il(t,e){var n=Zo(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.qe.getTargetData(t,e).next((function(i){return i?(r=i,Pc.resolve(r)):n.qe.allocateTargetId(t).next((function(i){return r=new Wc(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t}))}function ol(t,e,n){return Ut(this,void 0,void 0,(function(){var r,i,o,a;return jt(this,(function(s){switch(s.label){case 0:r=Zo(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.referenceDelegate.removeTarget(t,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!Fc(a=s.sent()))throw a;return zo("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}}))}))}function al(t,e,n){var r=Zo(t),i=aa.min(),o=wu();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=Zo(t),i=r.kn.get(n);return void 0!==i?Pc.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,ys(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:aa.min(),n?o:wu())})).next((function(t){return{documents:t,Bn:o}}))}))}function sl(t,e){var n=Zo(t),r=Zo(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.lt(t,e).next((function(t){return t?t.target:null}))}))}function ul(t){var e=Zo(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=Zo(t),i=vu(),o=Jc(n),a=Fh(e),s=IDBKeyRange.lowerBound(o,!0);return a.Ot({index:Ic.readTimeIndex,range:s},(function(t,e){var n=Qc(r.R,e);i=i.insert(n.key,n),o=e.readTime})).next((function(){return{wn:i,readTime:Zc(o)}}))}(e.$n,t,e.On)})).then((function(t){var n=t.wn,r=t.readTime;return e.On=r,n}))}function cl(t){return Ut(this,void 0,void 0,(function(){var e;return jt(this,(function(n){return[2,(e=Zo(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=Fh(t),n=aa.min();return e.Ot({index:Ic.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Zc(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.On=t}))]}))}))}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var hl=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Pc.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:qu(n.createTime)}),Pc.resolve()},t.prototype.getNamedQuery=function(t,e){return Pc.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:oh(t.bundledQuery),readTime:qu(t.readTime)}}(e)),Pc.resolve()},t}(),ll=function(){function t(){this.Wn=new fu(fl.Gn),this.zn=new fu(fl.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new fl(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.Yn(new fl(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.Zn=function(t){var e=this,n=new Aa(new la([])),r=new fl(n,t),i=new fl(n,t+1),o=[];return this.zn.forEachInRange([r,i],(function(t){e.Yn(t),o.push(t.key)})),o},t.prototype.ts=function(){var t=this;this.Wn.forEach((function(e){return t.Yn(e)}))},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new Aa(new la([])),n=new fl(e,t),r=new fl(e,t+1),i=wu();return this.zn.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new fl(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),fl=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return Aa.comparator(t.key,e.key)||na(t.ns,e.ns)},t.Hn=function(t,e){return na(t.ns,e.ns)||Aa.comparator(t.key,e.key)},t}(),dl=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new fu(fl.Gn)}return t.prototype.checkEmpty=function(t){return Pc.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new Hc(i,e,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new fl(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return Pc.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Pc.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=e+1,r=this.cs(n),i=r<0?0:r;return Pc.resolve(this._n.length>i?this._n[i]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Pc.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return Pc.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new fl(e,0),i=new fl(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(t){var e=n.os(t.ns);o.push(e)})),Pc.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new fu(na);return e.forEach((function(t){var e=new fl(t,0),i=new fl(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],(function(t){r=r.add(t.ns)}))})),Pc.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;Aa.isDocumentKey(i)||(i=i.child(""));var o=new fl(new Aa(i),0),a=new fu(na);return this.rs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.ns)),!0)}),o),Pc.resolve(this.us(a))},t.prototype.us=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.os(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Jo(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return Pc.forEach(e.mutations,(function(i){var o=new fl(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((function(){n.rs=r}))},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new fl(e,0),r=this.rs.firstAfterOrEqual(n);return Pc.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return this._n.length,Pc.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),pl=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new cu(Aa.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Pc.resolve(n?n.document.clone():Ba.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=vu();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Ba.newInvalidDocument(t))})),Pc.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=vu(),i=new Aa(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.document,h=u.readTime;if(!e.path.isPrefixOf(s.path))break;h.compareTo(n)<=0||Ts(e,c)&&(r=r.insert(c.key,c.clone()))}return Pc.resolve(r)},t.prototype.fs=function(t,e){return Pc.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new vl(this)},t.prototype.getSize=function(t){return Pc.resolve(this.size)},t}(),vl=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return qt(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)})),Pc.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(Lh),ml=function(){function t(t){this.persistence=t,this.ds=new Ph((function(t){return Ga(t)}),Ha),this.lastRemoteSnapshotVersion=aa.min(),this.highestTargetId=0,this.ws=0,this._s=new ll,this.targetCount=0,this.ys=Eh.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach((function(t,n){return e(n)})),Pc.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Pc.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Pc.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Pc.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),Pc.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new Eh(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Pc.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),Pc.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Pc.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(t,s.targetId)),i++)})),Pc.waitFor(o).next((function(){return i}))},t.prototype.getTargetCount=function(t){return Pc.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return Pc.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),Pc.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.markPotentiallyOrphaned(t,e))})),Pc.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Pc.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return Pc.resolve(n)},t.prototype.containsKey=function(t,e){return Pc.resolve(this._s.containsKey(e))},t}(),gl=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Bo(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new ml(this),this.Ut=new ch,this.Ue=function(t,e){return new pl(t,(function(t){return n.referenceDelegate.ps(t)}))}(this.Ut),this.R=new Yc(e),this.Qe=new hl(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new dl(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;zo("MemoryPersistence","Starting transaction:",t);var i=new yl(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(t){return r.referenceDelegate.Ts(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.Is=function(t,e){return Pc.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),yl=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return qt(e,t),e}(Oc),bl=function(){function t(t){this.persistence=t,this.As=new ll,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Xo()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),Pc.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),Pc.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Pc.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach((function(t){return n.vs.add(t.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.vs.add(t.toString())}))})).next((function(){return r.removeTargetData(t,e)}))},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Pc.forEach(this.vs,(function(r){var i=Aa.fromPath(r);return e.Ps(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e.Rs=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next((function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())}))},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return Pc.or([function(){return Pc.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),wl=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Il(t,e){return"firestore_clients_"+t+"_"+e}function El(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Tl(t,e){return"firestore_targets_"+t+"_"+e}wl.UNAUTHENTICATED=new wl(null),wl.GOOGLE_CREDENTIALS=new wl("google-credentials-uid"),wl.FIRST_PARTY=new wl("first-party-uid");var Sl=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new $o(o.error.code,o.error.message)),a?new t(e,n,o.state,i):(Wo("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),_l=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new $o(i.error.code,i.error.message)),o?new t(e,i.state,r):(Wo("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Al=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Eu(),a=0;i&&a<r.activeTargetIds.length;++a)i=_a(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(Wo("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Nl=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Wo("SharedClientState","Failed to parse online state: "+e),null)},t}(),kl=function(){function t(){this.activeTargetIds=Eu()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Dl=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new cu(na),this.started=!1,this.Os=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=Il(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new kl),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Ut(this,void 0,void 0,(function(){var t,e,n,r,i,o,a,s,u,c,h,l=this;return jt(this,(function(f){switch(f.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=f.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(Il(this.persistenceKey,r)))&&(o=Al.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.Os;u<c.length;u++)h=c[u],this.Fs(h);return this.Os=[],this.window.addEventListener("unload",(function(){return l.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Tl(this.persistenceKey,t));if(n){var r=_l.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Tl(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.Hs(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return zo("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){zo("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){zo("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(zo("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void Wo("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return Ut(e,void 0,void 0,(function(){var t,e,r,i,o,a;return jt(this,(function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(t){var e=Bo.o;if(null!=t)try{var n=JSON.parse(t);Jo("number"==typeof n),e=n}catch(t){Wo("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Bo.o&&this.sequenceNumberHandler(a);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new Sl(this.currentUser,t,e,n),i=El(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=El(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){var e={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(e))},t.prototype.Ys=function(t,e,n){var r=Tl(this.persistenceKey,t),i=new _l(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return Al.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Sl.Vs(new wl(i),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return _l.Vs(r,e)},t.prototype.js=function(t){return Nl.Vs(t)},t.prototype.ii=function(t){return Ut(this,void 0,void 0,(function(){return jt(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(zo("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),a=[],s=[];return o.forEach((function(t){i.has(t)||a.push(t)})),i.forEach((function(t){o.has(t)||s.push(t)})),this.syncEngine.hi(a,s).then((function(){n.ks=r}))},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=Eu();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),Cl=function(){function t(){this.li=new kl,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new kl,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),xl=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),Ol=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){zo("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){zo("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Rl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Pl=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Ll=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return qt(e,t),e.prototype.ki=function(t,e,n,r){return new Promise((function(i,o){var a=new jo;a.listenOnce(Mo.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case Lo.NO_ERROR:var e=a.getResponseJson();zo("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Lo.TIMEOUT:zo("Connection",'RPC "'+t+'" timed out'),o(new $o(Ko.DEADLINE_EXCEEDED,"Request time out"));break;case Lo.HTTP_ERROR:var n=a.getStatus();if(zo("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Ko).indexOf(e)>=0?e:Ko.UNKNOWN}(r.status);o(new $o(s,r.message))}else o(new $o(Ko.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new $o(Ko.UNAVAILABLE,"Connection failed."));break;default:Xo()}}finally{zo("Connection",'RPC "'+t+'" completed.')}}));var s=JSON.stringify(r);a.send(e,"POST",s,n,15)}))},e.prototype.$i=function(t,e){var n,r=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=new Co,o=xr(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(a.initMessageHeaders,e),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())||"object"==typeof navigator&&"ReactNative"===navigator.product||Wt().indexOf("Electron/")>=0||function(){var t=Wt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()||Wt().indexOf("MSAppHost/")>=0||"object"==typeof(n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0)&&void 0!==n.id||(a.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");zo("Connection","Creating WebChannel: "+s,a);var u=i.createWebChannel(s,a),c=!1,h=!1,l=new Pl({Ei:function(t){h?zo("Connection","Not sending because WebChannel is closed:",t):(c||(zo("Connection","Opening WebChannel transport."),u.open(),c=!0),zo("Connection","WebChannel sending:",t),u.send(t))},Ti:function(){return u.close()}}),f=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return f(u,Uo.EventType.OPEN,(function(){h||zo("Connection","WebChannel transport opened.")})),f(u,Uo.EventType.CLOSE,(function(){h||(h=!0,zo("Connection","WebChannel transport closed"),l.Vi())})),f(u,Uo.EventType.ERROR,(function(t){h||(h=!0,Yo("Connection","WebChannel transport errored:",t),l.Vi(new $o(Ko.UNAVAILABLE,"The operation could not be completed")))})),f(u,Uo.EventType.MESSAGE,(function(t){var e;if(!h){var n=t.data[0];Jo(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){zo("Connection","WebChannel received error:",i);var o=i.status,a=function(t){var e=nu[t];if(void 0!==e)return uu(e)}(o),s=i.message;void 0===a&&(a=Ko.INTERNAL,s="Unknown error status: "+o+" with message "+i.message),h=!0,l.Vi(new $o(a,s)),u.close()}else zo("Connection","WebChannel received:",n),l.Si(n)}})),f(o,Vo.STAT_EVENT,(function(t){t.stat===qo?zo("Connection","Detected buffering proxy"):t.stat===Fo&&zo("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Pi()}),0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.Di=e+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);zo("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then((function(t){return zo("RestConnection","Received: ",t),t}),(function(e){throw Yo("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Oi=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.5.0",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){var n=Rl[t];return this.Di+"/v1/"+e+":"+n},t}());
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ml(){return"undefined"!=typeof window?window:null}function Vl(){return"undefined"!=typeof document?document:null}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function ql(t){return new Pu(t,!0)}var Fl=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&zo("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return e.Qi=Date.now(),t()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Ul=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Fl(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Ut(this,void 0,void 0,(function(){return jt(this,(function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return t.rr()})))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Ut(this,void 0,void 0,(function(){return jt(this,(function(t){return this.er()?[2,this.close(0)]:[2]}))}))},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Ut(this,void 0,void 0,(function(){return jt(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Ko.RESOURCE_EXHAUSTED?(Wo(e.toString()),Wo("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===Ko.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(e){t.Yi===n&&t.lr(e)}),(function(n){e((function(){var e=new $o(Ko.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)}))}))},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii((function(){n((function(){return e.state=2,e.listener.Ii()}))})),this.stream.Ri((function(t){n((function(){return e.dr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji((function(){return Ut(t,void 0,void 0,(function(){return jt(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.dr=function(t){return zo("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget((function(){return e.Yi===t?n():(zo("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),jl=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return qt(e,t),e.prototype.wr=function(t){return this.Hi.$i("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Xo()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(Jo(void 0===e||"string"==typeof e),va.fromBase64String(e||"")):(Jo(void 0===e||e instanceof Uint8Array),va.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(s=e.targetChange.cause)&&function(t){var e=void 0===t.code?Ko.UNKNOWN:uu(t.code);return new $o(e,t.message||"")}(s);n=new Nu(r,i,o,a||null)}else if("documentChange"in e){e.documentChange,(r=e.documentChange).document,r.document.name,r.document.updateTime,i=Bu(t,r.document.name),o=qu(r.document.updateTime);var s=new Ua({mapValue:{fields:r.document.fields}}),u=(a=Ba.newFoundDocument(i,o,s),r.targetIds||[]),c=r.removedTargetIds||[];n=new _u(u,c,a.key,a)}else if("documentDelete"in e)e.documentDelete,(r=e.documentDelete).document,i=Bu(t,r.document),o=r.readTime?qu(r.readTime):aa.min(),s=Ba.newNoDocument(i,o),a=r.removedTargetIds||[],n=new _u([],a,s.key,s);else if("documentRemove"in e)e.documentRemove,(r=e.documentRemove).document,i=Bu(t,r.document),o=r.removedTargetIds||[],n=new _u([],o,i,null);else{if(!("filter"in e))return Xo();e.filter;var h=e.filter;h.targetId,r=h.count||0,i=new au(r),o=h.targetId,n=new Au(o,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return aa.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?aa.min():e.readTime?qu(e.readTime):aa.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=Gu(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=za(r)?{documents:Qu(t,r)}:{query:Xu(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Mu(t,e.resumeToken):e.snapshotVersion.compareTo(aa.min())>0&&(n.readTime=Lu(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Xo()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=Gu(this.R),e.removeTarget=t,this.cr(e)},e}(Ul),Bl=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return qt(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.$i("Write",t)},e.prototype.onMessage=function(t){if(Jo(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(Jo(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?qu(t.updateTime):qu(e);return n.isEqual(aa.min())&&(n=qu(e)),new Bs(n,t.transformResults||[])}(t,e)}))):[]}(t.writeResults,t.commitTime),n=qu(t.commitTime);return this.listener.Tr(n,e)}return Jo(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Gu(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Wu(e.R,t)}))};this.cr(n)},e}(Ul),Kl=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return qt(e,t),e.prototype.br=function(){if(this.Rr)throw new $o(Ko.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===Ko.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new $o(Ko.UNKNOWN,t.toString())}))},e.prototype.Oi=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Oi(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===Ko.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new $o(Ko.UNKNOWN,t.toString())}))},e.prototype.terminate=function(){this.Rr=!0},e}((function(){})),$l=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()})))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Wo(e),this.Vr=!1):zo("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Gl=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(t){n.enqueueAndForget((function(){return Ut(o,void 0,void 0,(function(){return jt(this,(function(t){switch(t.label){case 0:return tf(this)?(zo("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Ut(this,void 0,void 0,(function(){var e;return jt(this,(function(n){switch(n.label){case 0:return(e=Zo(t)).$r.add(4),[4,zl(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.$r.delete(4),[4,Hl(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Br=new $l(n,r)};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Hl(t){return Ut(this,void 0,void 0,(function(){var e,n;return jt(this,(function(r){switch(r.label){case 0:if(!tf(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function zl(t){return Ut(this,void 0,void 0,(function(){var e,n;return jt(this,(function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Wl(t,e){var n=Zo(t);n.Or.has(e.targetId)||(n.Or.set(e.targetId,e),Zl(n)?Jl(n):mf(n).er()&&Ql(n,e))}function Yl(t,e){var n=Zo(t),r=mf(n);n.Or.delete(e),r.er()&&Xl(n,e),0===n.Or.size&&(r.er()?r.ir():tf(n)&&n.Br.set("Unknown"))}function Ql(t,e){t.qr.U(e.targetId),mf(t).mr(e)}function Xl(t,e){t.qr.U(e),mf(t).yr(e)}function Jl(t){t.qr=new Du({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.Or.get(e)||null}}),mf(t).start(),t.Br.Sr()}function Zl(t){return tf(t)&&!mf(t).tr()&&t.Or.size>0}function tf(t){return 0===Zo(t).$r.size}function ef(t){t.qr=void 0}function nf(t){return Ut(this,void 0,void 0,(function(){return jt(this,(function(e){return t.Or.forEach((function(e,n){Ql(t,e)})),[2]}))}))}function rf(t,e){return Ut(this,void 0,void 0,(function(){return jt(this,(function(n){return ef(t),Zl(t)?(t.Br.Nr(e),Jl(t)):t.Br.set("Unknown"),[2]}))}))}function of(t,e,n){return Ut(this,void 0,void 0,(function(){var r,i,o;return jt(this,(function(a){switch(a.label){case 0:if(t.Br.set("Online"),!(e instanceof Nu&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return Ut(this,void 0,void 0,(function(){var n,r,i,o;return jt(this,(function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],t.Or.has(o)?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),t.Or.delete(o),t.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),zo("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,af(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof _u?t.qr.X(e):e instanceof Au?t.qr.rt(e):t.qr.et(e),n.isEqual(aa.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,el(t.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Or.get(r);i&&t.Or.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.Or.get(e);if(n){t.Or.set(e,n.withResumeToken(va.EMPTY_BYTE_STRING,n.snapshotVersion)),Xl(t,e);var r=new Wc(n.target,e,1,n.sequenceNumber);Ql(t,r)}})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return zo("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,af(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function af(t,e,n){return Ut(this,void 0,void 0,(function(){var r=this;return jt(this,(function(i){switch(i.label){case 0:if(!Fc(e))throw e;return t.$r.add(1),[4,zl(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return el(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return Ut(r,void 0,void 0,(function(){return jt(this,(function(e){switch(e.label){case 0:return zo("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.$r.delete(1),[4,Hl(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function sf(t,e){return e().catch((function(n){return af(t,n,e)}))}function uf(t){return Ut(this,void 0,void 0,(function(){var e,n,r,i,o;return jt(this,(function(a){switch(a.label){case 0:e=Zo(t),n=gf(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,a.label=1;case 1:if(!function(t){return tf(t)&&t.kr.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,rl(e.localStore,r)];case 3:return null===(i=a.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=gf(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,af(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return cf(e)&&hf(e),[2]}}))}))}function cf(t){return tf(t)&&!gf(t).tr()&&t.kr.length>0}function hf(t){gf(t).start()}function lf(t){return Ut(this,void 0,void 0,(function(){return jt(this,(function(e){return gf(t).Ar(),[2]}))}))}function ff(t){return Ut(this,void 0,void 0,(function(){var e,n,r,i;return jt(this,(function(o){for(e=gf(t),n=0,r=t.kr;n<r.length;n++)i=r[n],e.Er(i.mutations);return[2]}))}))}function df(t,e,n){return Ut(this,void 0,void 0,(function(){var r,i;return jt(this,(function(o){switch(o.label){case 0:return r=t.kr.shift(),i=zc.from(r,e,n),[4,sf(t,(function(){return t.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,uf(t)];case 2:return o.sent(),[2]}}))}))}function pf(t,e){return Ut(this,void 0,void 0,(function(){return jt(this,(function(n){switch(n.label){case 0:return e&&gf(t).pr?[4,function(t,e){return Ut(this,void 0,void 0,(function(){var n,r;return jt(this,(function(i){switch(i.label){case 0:return su(r=e.code)&&r!==Ko.ABORTED?(n=t.kr.shift(),gf(t).sr(),[4,sf(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,uf(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return cf(t)&&hf(t),[2]}}))}))}function vf(t,e){return Ut(this,void 0,void 0,(function(){var n;return jt(this,(function(r){switch(r.label){case 0:return n=Zo(t),e?(n.$r.delete(2),[4,Hl(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.$r.add(2),[4,zl(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function mf(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=Zo(t);return r.br(),new jl(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:nf.bind(null,t),Ri:rf.bind(null,t),_r:of.bind(null,t)}),t.Mr.push((function(n){return Ut(e,void 0,void 0,(function(){return jt(this,(function(e){switch(e.label){case 0:return n?(t.Ur.sr(),Zl(t)?Jl(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),ef(t),e.label=3;case 3:return[2]}}))}))}))),t.Ur}function gf(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=Zo(t);return r.br(),new Bl(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:lf.bind(null,t),Ri:pf.bind(null,t),Ir:ff.bind(null,t),Tr:df.bind(null,t)}),t.Mr.push((function(n){return Ut(e,void 0,void 0,(function(){return jt(this,(function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,uf(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(zo("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}}))}))}))),t.Qr
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}var yf=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Rc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new $o(Ko.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function bf(t,e){if(Wo("AsyncQueue",e+": "+t),Fc(t))return new $o(Ko.UNAVAILABLE,e+": "+t);throw t}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var wf=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||Aa.comparator(e.key,n.key)}:function(t,e){return Aa.comparator(t.key,e.key)},this.keyedMap=gu(),this.sortedSet=new cu(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),If=function(){function t(){this.Kr=new cu(Aa.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):Xo():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),Ef=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,wf.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ws(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Tf=function(){this.Wr=void 0,this.listeners=[]},Sf=function(){this.queries=new Ph((function(t){return Is(t)}),ws),this.onlineState="Unknown",this.Gr=new Set};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function _f(t,e){return Ut(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return jt(this,(function(c){switch(c.label){case 0:if(n=Zo(t),r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new Tf),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return s=c.sent(),u=bf(s,"Initialization of query '"+Es(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&Df(n),[2]}}))}))}function Af(t,e){return Ut(this,void 0,void 0,(function(){var n,r,i,o,a;return jt(this,(function(s){return n=Zo(t),r=e.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function Nf(t,e){for(var n=Zo(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,h=u.listeners;c<h.length;c++)h[c].Hr(a)&&(r=!0);u.Wr=a}}r&&Df(n)}function kf(t,e,n){var r=Zo(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function Df(t){t.Gr.forEach((function(t){t.next()}))}var Cf=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Ef(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.so&&n||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var e=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=Ef.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),xf=function(t){this.key=t},Of=function(t){this.key=t},Rf=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=wu(),this.mutatedKeys=wu(),this.lo=Ss(t),this.fo=new wf(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new If,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=fs(this.query)&&i.size===this.query.limit?i.last():null,c=ds(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((function(t,e){var h=i.get(t),l=Ts(n.query,e)?e:null,f=!!h&&n.mutatedKeys.has(h.key),d=!!l&&(l.hasLocalMutations||n.mutatedKeys.has(l.key)&&l.hasCommittedMutations),p=!1;h&&l?h.data.isEqual(l.data)?f!==d&&(r.track({type:3,doc:l}),p=!0):n.yo(h,l)||(r.track({type:2,doc:l}),p=!0,(u&&n.lo(l,u)>0||c&&n.lo(l,c)<0)&&(s=!0)):!h&&l?(r.track({type:0,doc:l}),p=!0):h&&!l&&(r.track({type:1,doc:h}),p=!0,(u||c)&&(s=!0)),p&&(l?(a=a.add(l),o=d?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))})),fs(this.query)||ds(this.query))for(;a.size>this.query.limit;){var h=fs(this.query)?a.last():a.first();a=a.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xo()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)})),this.po(n);var a=e?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new Ef(this.query,t.fo,i,o,t.mutatedKeys,0===s,u,!1),To:a}:{To:a}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new If,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e.uo=e.uo.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e.uo=e.uo.delete(t)})),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=wu(),this.fo.forEach((function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))}));var n=[];return e.forEach((function(e){t.ho.has(e)||n.push(new Of(e))})),this.ho.forEach((function(t){e.has(t)||n.push(new xf(t))})),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=wu();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return Ef.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Pf=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Lf=function(t){this.key=t,this.bo=!1},Mf=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Ph((function(t){return Is(t)}),ws),this.Vo=new Map,this.So=new Set,this.Do=new cu(Aa.comparator),this.Co=new Map,this.No=new ll,this.xo={},this.Fo=new Map,this.ko=Eh.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Vf(t,e){return Ut(this,void 0,void 0,(function(){var n,r,i,o,a,s;return jt(this,(function(u){switch(u.label){case 0:return n=fd(t),(o=n.Po.get(e))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,il(n.localStore,ys(e))];case 2:return a=u.sent(),s=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,qf(n,e,r,"current"===s)];case 3:i=u.sent(),n.isPrimaryClient&&Wl(n.remoteStore,a),u.label=4;case 4:return[2,i]}}))}))}function qf(t,e,n,r){return Ut(this,void 0,void 0,(function(){var i,o,a,s,u,c;return jt(this,(function(h){switch(h.label){case 0:return t.$o=function(e,n,r){return function(t,e,n,r){return Ut(this,void 0,void 0,(function(){var i,o,a;return jt(this,(function(s){switch(s.label){case 0:return(i=e.view._o(n)).Nn?[4,al(t.localStore,e.query,!1).then((function(t){var n=t.documents;return e.view._o(n,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),a=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(Xf(t,e.targetId,a.To),a.snapshot)]}}))}))}(t,e,n,r)},[4,al(t.localStore,e,!0)];case 1:return i=h.sent(),o=new Rf(e,i.Bn),a=o._o(i.documents),s=Su.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(a,t.isPrimaryClient,s),Xf(t,n,u.To),c=new Pf(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}}))}))}function Ff(t,e){return Ut(this,void 0,void 0,(function(){var n,r,i;return jt(this,(function(o){switch(o.label){case 0:return n=Zo(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(t){return!ws(t,e)}))),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,ol(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),Yl(n.remoteStore,r.targetId),Yf(n,r.targetId)})).catch(Nh)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Yf(n,r.targetId),[4,ol(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Uf(t,e,n){return Ut(this,void 0,void 0,(function(){var r,i,o,a;return jt(this,(function(s){switch(s.label){case 0:r=dd(t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(t,e){var n,r=Zo(t),i=oa.now(),o=e.reduce((function(t,e){return t.add(e.key)}),wu());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Mn.pn(t,o).next((function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var c=u[s],h=Ws(c,n.get(c.key));null!=h&&a.push(new Js(c.key,h,ja(h.toProto().mapValue),Ks.exists(!0)))}return r._n.addMutationBatch(t,i,a,e)}))})).then((function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}}))}(r.localStore,e)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new cu(na)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,td(r,i.changes)];case 3:return s.sent(),[4,uf(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=bf(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function jf(t,e){return Ut(this,void 0,void 0,(function(){var n,r;return jt(this,(function(i){switch(i.label){case 0:n=Zo(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,nl(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach((function(t,e){var r=n.Co.get(e);r&&(Jo(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Jo(r.bo):t.removedDocuments.size>0&&(Jo(r.bo),r.bo=!1))})),[4,td(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Nh(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Bf(t,e,n){var r=Zo(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=Zo(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)})),r&&Df(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Kf(t,e,n){return Ut(this,void 0,void 0,(function(){var r,i,o,a,s,u;return jt(this,(function(c){switch(c.label){case 0:return(r=Zo(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(a=(a=new cu(Aa.comparator)).insert(o,Ba.newNoDocument(o,aa.min())),s=wu().add(o),u=new Tu(aa.min(),new Map,new fu(na),a,s),[4,jf(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),Zf(r),[3,4];case 2:return[4,ol(r.localStore,e,!1).then((function(){return Yf(r,e,n)})).catch(Nh)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function $f(t,e){return Ut(this,void 0,void 0,(function(){var n,r,i;return jt(this,(function(o){switch(o.label){case 0:n=Zo(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,tl(n.localStore,e)];case 2:return i=o.sent(),Wf(n,r,null),zf(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,td(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Nh(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Gf(t,e,n){return Ut(this,void 0,void 0,(function(){var r,i;return jt(this,(function(o){switch(o.label){case 0:r=Zo(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Zo(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n._n.lookupMutationBatch(t,e).next((function(e){return Jo(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}(r.localStore,e)];case 2:return i=o.sent(),Wf(r,e,n),zf(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,td(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Nh(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Hf(t,e){return Ut(this,void 0,void 0,(function(){var n,r,i,o,a;return jt(this,(function(s){switch(s.label){case 0:tf((n=Zo(t)).remoteStore)||zo("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(t){var e=Zo(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e._n.getHighestUnacknowledgedBatchId(t)}))}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=s.sent(),a=bf(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}}))}))}function zf(t,e){(t.Fo.get(e)||[]).forEach((function(t){t.resolve()})),t.Fo.delete(e)}function Wf(t,e,n){var r=Zo(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Yf(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach((function(e){t.No.containsKey(e)||Qf(t,e)}))}function Qf(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Yl(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Zf(t))}function Xf(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof xf?(t.No.addReference(o.key,e),Jf(t,o)):o instanceof Of?(zo("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||Qf(t,o.key)):Xo()}}function Jf(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(zo("SyncEngine","New document in limbo: "+n),t.So.add(r),Zf(t))}function Zf(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new Aa(la.fromString(e)),r=t.ko.next();t.Co.set(r,new Lf(n)),t.Do=t.Do.insert(n,r),Wl(t.remoteStore,new Wc(ys(ls(n.path)),r,2,Bo.o))}}function td(t,e,n){return Ut(this,void 0,void 0,(function(){var r,i,o,a;return jt(this,(function(s){switch(s.label){case 0:return r=Zo(t),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(t,s){a.push(r.$o(s,e,n).then((function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Yh.Pn(s.targetId,t);o.push(e)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(t,e){return Ut(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,h;return jt(this,(function(l){switch(l.label){case 0:n=Zo(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Pc.forEach(e,(function(e){return Pc.forEach(e.bn,(function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)})).next((function(){return Pc.forEach(e.vn,(function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!Fc(r=l.sent()))throw r;return zo("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=o[i],s=a.targetId,a.fromCache||(u=n.Fn.get(s),c=u.snapshotVersion,h=u.withLastLimboFreeSnapshotVersion(c),n.Fn=n.Fn.insert(s,h));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function ed(t,e){return Ut(this,void 0,void 0,(function(){var n,r;return jt(this,(function(i){switch(i.label){case 0:return(n=Zo(t)).currentUser.isEqual(e)?[3,3]:(zo("SyncEngine","User change. New user:",e.toKey()),[4,Zh(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach((function(t){t.forEach((function(t){t.reject(new $o(Ko.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,td(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function nd(t,e){var n=Zo(t),r=n.Co.get(e);if(r&&r.bo)return wu().add(r.key);var i=wu(),o=n.Vo.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function rd(t,e){return Ut(this,void 0,void 0,(function(){var n,r,i;return jt(this,(function(o){switch(o.label){case 0:return[4,al((n=Zo(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&Xf(n,e.targetId,i.To),i)]}}))}))}function id(t){return Ut(this,void 0,void 0,(function(){var e;return jt(this,(function(n){return[2,ul((e=Zo(t)).localStore).then((function(t){return td(e,t)}))]}))}))}function od(t,e,n,r){return Ut(this,void 0,void 0,(function(){var i,o;return jt(this,(function(a){switch(a.label){case 0:return[4,function(t,e){var n=Zo(t),r=Zo(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.jt(t,e).next((function(e){return e?n.Mn.pn(t,e):Pc.resolve(null)}))}))}((i=Zo(t)).localStore,e)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,uf(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Wf(i,e,r||null),zf(i,e),function(t,e){Zo(Zo(t)._n).Gt(e)}(i.localStore,e)):Xo(),a.label=4;case 4:return[4,td(i,o)];case 5:return a.sent(),[3,7];case 6:zo("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}}))}))}function ad(t,e){return Ut(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return jt(this,(function(h){switch(h.label){case 0:return fd(n=Zo(t)),dd(n),!0!==e||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,sd(n,r.toArray())]);case 1:return i=h.sent(),n.Oo=!0,[4,vf(n.remoteStore,!0)];case 2:for(h.sent(),o=0,a=i;o<a.length;o++)s=a[o],Wl(n.remoteStore,s);return[3,7];case 3:return!1!==e||!1===n.Oo?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?u.push(e):c=c.then((function(){return Yf(n,e),ol(n.localStore,e,!0)})),Yl(n.remoteStore,e)})),[4,c]);case 4:return h.sent(),[4,sd(n,u)];case 5:return h.sent(),function(t){var e=Zo(t);e.Co.forEach((function(t,n){Yl(e.remoteStore,n)})),e.No.ts(),e.Co=new Map,e.Do=new cu(Aa.comparator)}(n),n.Oo=!1,[4,vf(n.remoteStore,!1)];case 6:h.sent(),h.label=7;case 7:return[2]}}))}))}function sd(t,e,n){return Ut(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,h,l,f,d,p,v;return jt(this,(function(m){switch(m.label){case 0:n=Zo(t),r=[],i=[],o=0,a=e,m.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.Vo.get(s))&&0!==c.length?[4,il(n.localStore,ys(c[0]))]:[3,7]):[3,13];case 2:u=m.sent(),h=0,l=c,m.label=3;case 3:return h<l.length?(f=l[h],d=n.Po.get(f),[4,rd(n,d)]):[3,6];case 4:(p=m.sent()).snapshot&&i.push(p.snapshot),m.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,sl(n.localStore,s)];case 8:return v=m.sent(),[4,il(n.localStore,v)];case 9:return u=m.sent(),[4,qf(n,ud(v),s,!1)];case 10:m.sent(),m.label=11;case 11:r.push(u),m.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function ud(t){return hs(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function cd(t){var e=Zo(t);return Zo(Zo(e.localStore).persistence).fn()}function hd(t,e,n,r){return Ut(this,void 0,void 0,(function(){var i,o,a;return jt(this,(function(s){switch(s.label){case 0:return(i=Zo(t)).Oo?(zo("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,ul(i.localStore)];case 3:return o=s.sent(),a=Tu.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,td(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,ol(i.localStore,e,!0)];case 6:return s.sent(),Yf(i,e,r),[3,8];case 7:Xo(),s.label=8;case 8:return[2]}}))}))}function ld(t,e,n){return Ut(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,h,l,f;return jt(this,(function(d){switch(d.label){case 0:if(!(r=fd(t)).Oo)return[3,10];i=0,o=e,d.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(zo("SyncEngine","Adding an already active target "+a),[3,5]):[4,sl(r.localStore,a)]):[3,6];case 2:return s=d.sent(),[4,il(r.localStore,s)];case 3:return u=d.sent(),[4,qf(r,ud(s),u.targetId,!1)];case 4:d.sent(),Wl(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(t){return jt(this,(function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,ol(r.localStore,t,!1).then((function(){Yl(r.remoteStore,t),Yf(r,t)})).catch(Nh)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},h=0,l=n,d.label=7;case 7:return h<l.length?(f=l[h],[5,c(f)]):[3,10];case 8:d.sent(),d.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}function fd(t){var e=Zo(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=jf.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nd.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Kf.bind(null,e),e.vo._r=Nf.bind(null,e.eventManager),e.vo.Mo=kf.bind(null,e.eventManager),e}function dd(t){var e=Zo(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$f.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Gf.bind(null,e),e}var pd=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Ut(this,void 0,void 0,(function(){return jt(this,(function(e){switch(e.label){case 0:return this.R=ql(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}}))}))},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return Jh(this.persistence,new Qh,t.initialUser,this.R)},t.prototype.qo=function(t){return new gl(bl.bs,this.R)},t.prototype.Bo=function(t){return new Cl},t.prototype.terminate=function(){return Ut(this,void 0,void 0,(function(){return jt(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),vd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return qt(e,t),e.prototype.initialize=function(e){return Ut(this,void 0,void 0,(function(){return jt(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,cl(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,dd(this.Ko.syncEngine)];case 4:return n.sent(),[4,uf(this.Ko.remoteStore)];case 5:return n.sent(),[2]}}))}))},e.prototype.Qo=function(t){return Jh(this.persistence,new Qh,t.initialUser,this.R)},e.prototype.Uo=function(t){var e=this.persistence.referenceDelegate.garbageCollector;return new Ch(e,t.asyncQueue)},e.prototype.qo=function(t){var e=zh(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?ph.withCacheSize(this.cacheSizeBytes):ph.DEFAULT;return new $h(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Ml(),Vl(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new Cl},e}(pd),md=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return qt(e,t),e.prototype.initialize=function(e){return Ut(this,void 0,void 0,(function(){var n,r=this;return jt(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof Dl?(this.sharedClientState.syncEngine={ui:od.bind(null,n),ai:hd.bind(null,n),hi:ld.bind(null,n),fn:cd.bind(null,n),ci:id.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(t){return Ut(r,void 0,void 0,(function(){return jt(this,(function(e){switch(e.label){case 0:return[4,ad(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Bo=function(t){var e=Ml();if(!Dl.yt(e))throw new $o(Ko.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=zh(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Dl(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(vd),gd=function(){function t(){}return t.prototype.initialize=function(t,e){return Ut(this,void 0,void 0,(function(){var n=this;return jt(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Bf(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=ed.bind(null,this.syncEngine),[4,vf(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new Sf},t.prototype.createDatastore=function(t){var e,n=ql(t.databaseInfo.databaseId),r=(e=t.databaseInfo,new Ll(e));return function(t,e,n){return new Kl(t,e,n)}(t.credentials,r,n)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,a=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Bf(a.syncEngine,t,0)},o=Ol.yt()?new Ol:new xl,new Gl(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,a){var s=new Mf(t,e,n,r,i,o);return a&&(s.Oo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Ut(this,void 0,void 0,(function(){var e;return jt(this,(function(n){switch(n.label){case 0:return e=Zo(t),zo("RemoteStore","RemoteStore shutting down."),e.$r.add(5),[4,zl(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}(),yd=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),bd=function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Ut(this,void 0,void 0,(function(){var e,n=this;return jt(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new $o(Ko.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Ut(this,void 0,void 0,(function(){var n,r,i,o,a,s;return jt(this,(function(u){switch(u.label){case 0:return n=Zo(t),r=Gu(n.R)+"/documents",i={documents:e.map((function(t){return ju(n.R,t)}))},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){Jo(!!e.found),e.found.name,e.found.updateTime;var n=Bu(t,e.found.name),r=qu(e.found.updateTime),i=new Ua({mapValue:{fields:e.found.fields}});return Ba.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Jo(!!e.missing),Jo(!!e.readTime);var n=Bu(t,e.missing),r=qu(e.readTime);return Ba.newNoDocument(n,r)}(t,e):Xo()}(n.R,t);a.set(e.key.toString(),e)})),s=[],[2,(e.forEach((function(t){var e=a.get(t.toString());Jo(!!e),s.push(e)})),s)]}}))}))}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach((function(t){return n.recordVersion(t)})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new iu(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Ut(this,void 0,void 0,(function(){var t,e=this;return jt(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=Aa.fromPath(n);e.mutations.push(new ou(r,e.precondition(r)))})),[4,function(t,e){return Ut(this,void 0,void 0,(function(){var n,r,i;return jt(this,(function(o){switch(o.label){case 0:return n=Zo(t),r=Gu(n.R)+"/documents",i={writes:e.map((function(t){return Wu(n.R,t)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Xo();e=aa.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new $o(Ko.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Ks.updateTime(e):Ks.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(aa.min()))throw new $o(Ko.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ks.updateTime(e)}return Ks.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}(),wd=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Fl(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji((function(){return Ut(t,void 0,void 0,(function(){var t,e,n=this;return jt(this,(function(r){return t=new bd(this.datastore),(e=this.sc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.ic(t)}))}))})).catch((function(t){n.ic(t)})),[2]}))}))}))},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!Ta(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return e.nc(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!su(e)}return!1},t}(),Id=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=wl.UNAUTHENTICATED,this.clientId=ea.u(),this.credentialListener=function(){},this.receivedInitialUser=new Rc,this.credentials.setChangeListener((function(t){zo("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()}))}return t.prototype.getConfiguration=function(){return Ut(this,void 0,void 0,(function(){return jt(this,(function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}}))}))},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then((function(){return e.credentialListener(e.user)}))},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new $o(Ko.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Rc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return Ut(t,void 0,void 0,(function(){var t,n;return jt(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=bf(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function Ed(t,e){return Ut(this,void 0,void 0,(function(){var n,r,i=this;return jt(this,(function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),zo("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener((function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable((function(){return Ut(i,void 0,void 0,(function(){return jt(this,(function(t){switch(t.label){case 0:return[4,Zh(e.localStore,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function Td(t,e){return Ut(this,void 0,void 0,(function(){var n,r;return jt(this,(function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Sd(t)];case 1:return n=i.sent(),zo("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener((function(n){return t.asyncQueue.enqueueRetryable((function(){return function(t,e){return Ut(this,void 0,void 0,(function(){var n,r;return jt(this,(function(i){switch(i.label){case 0:return(n=Zo(t)).asyncQueue.verifyOperationInProgress(),zo("RemoteStore","RemoteStore received new credentials"),r=tf(n),n.$r.add(3),[4,zl(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.$r.delete(3),[4,Hl(n)];case 3:return i.sent(),[2]}}))}))}(e.remoteStore,n)}))})),t.onlineComponents=e,[2]}}))}))}function Sd(t){return Ut(this,void 0,void 0,(function(){return jt(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(zo("FirestoreClient","Using default OfflineComponentProvider"),[4,Ed(t,new pd)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function _d(t){return Ut(this,void 0,void 0,(function(){return jt(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(zo("FirestoreClient","Using default OnlineComponentProvider"),[4,Td(t,new gd)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function Ad(t){return Sd(t).then((function(t){return t.persistence}))}function Nd(t){return Sd(t).then((function(t){return t.localStore}))}function kd(t){return _d(t).then((function(t){return t.remoteStore}))}function Dd(t){return _d(t).then((function(t){return t.syncEngine}))}function Cd(t){return Ut(this,void 0,void 0,(function(){var e,n;return jt(this,(function(r){switch(r.label){case 0:return[4,_d(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Vf.bind(null,e.syncEngine),n.onUnlisten=Ff.bind(null,e.syncEngine),n)]}}))}))}function xd(t,e,n){var r=this;void 0===n&&(n={});var i=new Rc;return t.asyncQueue.enqueueAndForget((function(){return Ut(r,void 0,void 0,(function(){var r;return jt(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new yd({next:function(o){e.enqueueAndForget((function(){return Af(t,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new $o(Ko.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new $o(Ko.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new Cf(ls(n.path),o,{includeMetadataChanges:!0,so:!0});return _f(t,a)},[4,Cd(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}function Od(t,e,n){var r=this;void 0===n&&(n={});var i=new Rc;return t.asyncQueue.enqueueAndForget((function(){return Ut(r,void 0,void 0,(function(){var r;return jt(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new yd({next:function(n){e.enqueueAndForget((function(){return Af(t,a)})),n.fromCache&&"server"===r.source?i.reject(new $o(Ko.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new Cf(n,o,{includeMetadataChanges:!0,so:!0});return _f(t,a)},[4,Cd(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}var Rd=function(t,e,n,r,i,o,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a},Pd=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Ld=new Map,Md=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Vd=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(wl.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),qd=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(this.token.user)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Fd=function(){function t(t){var e=this;this.oc=null,this.currentUser=wl.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){e.cc++,e.currentUser=e.uc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.cc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),t.get().then((function(t){e.auth=t,e.oc&&e.auth.addAuthTokenListener(e.oc)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.cc!==e?(zo("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Jo("string"==typeof n.accessToken),new Md(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},t.prototype.uc=function(){var t=this.auth&&this.auth.getUid();return Jo(null===t||"string"==typeof t),new wl(t)},t}(),Ud=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n,this.type="FirstParty",this.user=wl.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.hc},e=this.ac.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.lc&&(t["X-Goog-Iam-Authorization-Token"]=this.lc),t},enumerable:!1,configurable:!0}),t}(),jd=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n}return t.prototype.getToken=function(){return Promise.resolve(new Ud(this.ac,this.hc,this.lc))},t.prototype.setChangeListener=function(t){t(wl.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Bd(t,e,n){if(!n)throw new $o(Ko.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Kd(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new $o(Ko.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function $d(t,e,n,r){if(!0===e&&!0===r)throw new $o(Ko.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Gd(t){if(!Aa.isDocumentKey(t))throw new $o(Ko.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Hd(t){if(Aa.isDocumentKey(t))throw new $o(Ko.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function zd(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Xo()}function Wd(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $o(Ko.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=zd(t);throw new $o(Ko.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Yd(t,e){if(e<=0)throw new $o(Ko.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Qd=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new $o(Ko.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new $o(Ko.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,$d("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Xd=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qd({}),this._settingsFrozen=!1,t instanceof Pd?(this._databaseId=t,this._credentials=new Vd):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new $o(Ko.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pd(t.options.projectId)}(t),this._credentials=new Fd(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new $o(Ko.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new $o(Ko.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qd(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Vd;switch(t.type){case"gapi":var e=t.client;return Jo(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new jd(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new $o(Ko.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return this,(t=Ld.get(this))&&(zo("ComponentProvider","Removing Datastore"),Ld.delete(this),t.terminate()),Promise.resolve();var t},t}(),Jd=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new tp(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Zd=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),tp=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,ls(r))||this)._path=r,i.type="collection",i}return qt(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Jd(this.firestore,null,new Aa(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Zd);
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function ep(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=ie(t),Bd("collection","path",e),t instanceof Xd)return Hd(n=la.fromString.apply(la,$t([e],r))),new tp(t,null,n);if(!(t instanceof Jd||t instanceof tp))throw new $o(Ko.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Hd(n=la.fromString.apply(la,$t([t.path],r)).child(la.fromString(e))),new tp(t.firestore,null,n)}function np(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=ie(t),1===arguments.length&&(e=ea.u()),Bd("doc","path",e),t instanceof Xd)return Gd(n=la.fromString.apply(la,$t([e],r))),new Jd(t,null,new Aa(n));if(!(t instanceof Jd||t instanceof tp))throw new $o(Ko.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Gd(n=t._path.child(la.fromString.apply(la,$t([e],r)))),new Jd(t.firestore,t instanceof tp?t.converter:null,new Aa(n))}function rp(t,e){return t=ie(t),e=ie(e),(t instanceof Jd||t instanceof tp)&&(e instanceof Jd||e instanceof tp)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function ip(t,e){return t=ie(t),e=ie(e),t instanceof Zd&&e instanceof Zd&&t.firestore===e.firestore&&ws(t._query,e._query)&&t.converter===e.converter
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}var op=function(){function t(){var t=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new Fl(this,"async_queue_retry"),this.Ec=function(){var e=Vl();e&&zo("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Vl();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Tc(),this.Ic(t)},t.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var t=Vl();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ec)}},t.prototype.enqueue=function(t){return this.Tc(),this.wc?new Promise((function(t){})):this.Ic(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.dc.push(t),e.Ac()}))},t.prototype.Ac=function(){return Ut(this,void 0,void 0,(function(){var t,e=this;return jt(this,(function(n){switch(n.label){case 0:if(0===this.dc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return n.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!Fc(t=n.sent()))throw t;return zo("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.dc.length>0&&this.Zi.ji((function(){return e.Ac()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Ic=function(t){var e=this,n=this.fc.then((function(){return e.yc=!0,t().catch((function(t){throw e.mc=t,e.yc=!1,Wo("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.yc=!1,t}))}));return this.fc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Tc(),this.gc.indexOf(t)>-1&&(e=0);var i=yf.createAndSchedule(this,t,e,n,(function(t){return r.Rc(t)}));return this._c.push(i),i},t.prototype.Tc=function(){this.mc&&Xo()},t.prototype.verifyOperationInProgress=function(){},t.prototype.bc=function(){return Ut(this,void 0,void 0,(function(){var t;return jt(this,(function(e){switch(e.label){case 0:return[4,t=this.fc];case 1:e.sent(),e.label=2;case 2:if(t!==this.fc)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.vc=function(t){for(var e=0,n=this._c;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Pc=function(t){var e=this;return this.bc().then((function(){e._c.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e._c;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.bc()}))},t.prototype.Vc=function(t){this.gc.push(t)},t.prototype.Rc=function(t){var e=this._c.indexOf(t);this._c.splice(e,1)},t}();function ap(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var sp=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new op,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return qt(e,t),e.prototype._terminate=function(){return this._firestoreClient||cp(this),this._firestoreClient.terminate()},e}(Xd);
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function up(t){return t._firestoreClient||cp(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function cp(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new Rd(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new Id(t._credentials,t._queue,r)}function hp(t,e,n){var r=this,i=new Rc;return t.asyncQueue.enqueue((function(){return Ut(r,void 0,void 0,(function(){var r;return jt(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Ed(t,n)];case 1:return o.sent(),[4,Td(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Ko.FAILED_PRECONDITION||t.code===Ko.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function lp(t){if(t._initialized||t._terminated)throw new $o(Ko.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var fp=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new $o(Ko.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new da(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),dp=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(va.fromBase64String(e))}catch(e){throw new $o(Ko.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(va.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),pp=function(t){this._methodName=t},vp=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new $o(Ko.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new $o(Ko.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return na(this._lat,t._lat)||na(this._long,t._long)},t}(),mp=/^__.*__$/,gp=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Js(t,this.data,this.fieldMask,e,this.fieldTransforms):new Xs(t,this.data,e,this.fieldTransforms)},t}(),yp=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Js(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function bp(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xo()}}var wp=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),t.prototype.Cc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Nc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Fc(t),r},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Sc(),r},t.prototype.Oc=function(t){return this.Cc({path:void 0,xc:!0})},t.prototype.$c=function(t){return Up(t,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.Sc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Fc(this.path.get(t))},t.prototype.Fc=function(t){if(0===t.length)throw this.$c("Document fields must not be empty");if(bp(this.Dc)&&mp.test(t))throw this.$c('Document fields cannot begin and end with "__"')},t}(),Ip=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||ql(t)}return t.prototype.Bc=function(t,e,n,r){return void 0===r&&(r=!1),new wp({Dc:t,methodName:e,Lc:n,path:da.emptyPath(),xc:!1,Mc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function Ep(t){var e=t._freezeSettings(),n=ql(t._databaseId);return new Ip(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Tp(t,e,n,r,i,o){void 0===o&&(o={});var a=t.Bc(o.merge||o.mergeFields?2:0,e,n,i);Mp("Data must be an object, but it was:",a,r);var s,u,c=Pp(r,a);if(o.merge)s=new pa(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var h=[],l=0,f=o.mergeFields;l<f.length;l++){var d=Vp(e,f[l],n);if(!a.contains(d))throw new $o(Ko.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");jp(h,d)||h.push(d)}s=new pa(h),u=a.fieldTransforms.filter((function(t){return s.covers(t.field)}))}else s=null,u=a.fieldTransforms;return new gp(new Ua(c),s,u)}var Sp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return qt(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Dc)throw 1===t.Dc?t.$c(this._methodName+"() can only appear at the top level of your update data"):t.$c(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(pp);function _p(t,e,n){return new wp({Dc:3,Lc:e.settings.Lc,methodName:t._methodName,xc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Ap=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return qt(e,t),e.prototype._toFieldTransform=function(t){return new js(t.path,new Rs)},e.prototype.isEqual=function(t){return t instanceof e},e}(pp),Np=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return qt(e,t),e.prototype._toFieldTransform=function(t){var e=_p(this,t,!0),n=this.qc.map((function(t){return Rp(t,e)})),r=new Ps(n);return new js(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(pp),kp=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return qt(e,t),e.prototype._toFieldTransform=function(t){var e=_p(this,t,!0),n=this.qc.map((function(t){return Rp(t,e)})),r=new Ms(n);return new js(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(pp),Dp=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return qt(e,t),e.prototype._toFieldTransform=function(t){var e=new qs(t.R,ks(t.R,this.Uc));return new js(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(pp);function Cp(t,e,n,r){var i=t.Bc(1,e,n);Mp("Data must be an object, but it was:",i,r);var o=[],a=Ua.empty();ua(r,(function(t,r){var s=Fp(e,t,n);r=ie(r);var u=i.kc(s);if(r instanceof Sp)o.push(s);else{var c=Rp(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new pa(o);return new yp(a,s,i.fieldTransforms)}function xp(t,e,n,r,i,o){var a=t.Bc(1,e,n),s=[Vp(e,r,n)],u=[i];if(o.length%2!=0)throw new $o(Ko.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(Vp(e,o[c])),u.push(o[c+1]);for(var h=[],l=Ua.empty(),f=s.length-1;f>=0;--f)if(!jp(h,s[f])){var d=s[f],p=u[f];p=ie(p);var v=a.kc(d);if(p instanceof Sp)h.push(d);else{var m=Rp(p,v);null!=m&&(h.push(d),l.set(d,m))}}var g=new pa(h);return new yp(l,g,a.fieldTransforms)}function Op(t,e,n,r){return void 0===r&&(r=!1),Rp(n,t.Bc(r?4:3,e))}function Rp(t,e){if(Lp(t=ie(t)))return Mp("Unsupported field value:",e,t),Pp(t,e);if(t instanceof pp)return function(t,e){if(!bp(e.Dc))throw e.$c(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.$c(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xc&&4!==e.Dc)throw e.$c("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=Rp(o[i],e.Oc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=ie(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ks(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=oa.fromDate(t);return{timestampValue:Lu(e.R,n)}}if(t instanceof oa)return n=new oa(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Lu(e.R,n)};if(t instanceof vp)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof dp)return{bytesValue:Mu(e.R,t._byteString)};if(t instanceof Jd){n=e.databaseId;var r=t.firestore._databaseId;if(!r.isEqual(n))throw e.$c("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Fu(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.$c("Unsupported field value: "+zd(t))}(t,e)}function Pp(t,e){var n={};return ca(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ua(t,(function(t,r){var i=Rp(r,e.Nc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Lp(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof oa||t instanceof vp||t instanceof dp||t instanceof Jd||t instanceof pp)}function Mp(t,e,n){if(!Lp(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=zd(n);throw"an object"===r?e.$c(t+" a custom object"):e.$c(t+" "+r)}}function Vp(t,e,n){if((e=ie(e))instanceof fp)return e._internalPath;if("string"==typeof e)return Fp(t,e);throw Up("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var qp=new RegExp("[~\\*/\\[\\]]");function Fp(t,e,n){if(e.search(qp)>=0)throw Up("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(fp.bind.apply(fp,$t([void 0],e.split(".")))))._internalPath}catch(r){throw Up("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Up(t,e,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new $o(Ko.INVALID_ARGUMENT,(s+=". ")+t+u)}function jp(t,e){return t.some((function(t){return t.isEqual(e)}))}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Bp=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Jd(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Kp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field($p("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Kp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return qt(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Bp);function $p(t,e){return"string"==typeof e?Fp(t,e):e instanceof fp?e._internalPath:e._delegate._internalPath}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Gp=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Hp=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this,e,n,r,i,a)||this)._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return qt(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new zp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field($p("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Bp),zp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return qt(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Hp),Wp=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Gp(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(r){t.call(e,new zp(n._firestore,n._userDataWriter,r.key,r,new Gp(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new $o(Ko.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){var r=new zp(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Gp(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);return e.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new zp(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Gp(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Yp(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Yp(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xo()}}function Qp(t,e){return t instanceof Hp&&e instanceof Hp?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Wp&&e instanceof Wp&&t._firestore===e._firestore&&ip(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Xp(t){if(ds(t)&&0===t.explicitOrderBy.length)throw new $o(Ko.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Jp=function(){};function Zp(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var tv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qc=e,i.Kc=n,i.jc=r,i.type="where",i}return qt(e,t),e.prototype._apply=function(t){var e=Ep(t.firestore),n=function(t,e,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new $o(Ko.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){sv(a,o);for(var u=[],c=0,h=a;c<h.length;c++){var l=h[c];u.push(av(r,t,l))}s={arrayValue:{values:u}}}else s=av(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||sv(a,o),s=Op(n,"where",a,"in"===o||"not-in"===o);var f=Wa.create(i,o,s);return function(t,e){if(e.g()){var n=vs(t);if(null!==n&&!n.isEqual(e.field))throw new $o(Ko.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=ps(t);null!==r&&uv(t,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new $o(Ko.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new $o(Ko.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}(t._query,0,e,t.firestore._databaseId,this.Qc,this.Kc,this.jc);return new Zd(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new cs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Jp),ev=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qc=e,r.Wc=n,r.type="orderBy",r}return qt(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new $o(Ko.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new $o(Ko.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new os(e,n);return function(t,e){if(null===ps(t)){var n=vs(t);null!==n&&uv(t,n,e.field)}}(t,r),r}(t._query,this.Qc,this.Wc);return new Zd(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new cs(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Jp),nv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Gc=n,i.zc=r,i}return qt(e,t),e.prototype._apply=function(t){return new Zd(t.firestore,t.converter,bs(t._query,this.Gc,this.zc))},e}(Jp),rv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return qt(e,t),e.prototype._apply=function(t){var e=ov(t,this.type,this.Hc,this.Jc);return new Zd(t.firestore,t.converter,function(t,e){return new cs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Jp),iv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return qt(e,t),e.prototype._apply=function(t){var e=ov(t,this.type,this.Hc,this.Jc);return new Zd(t.firestore,t.converter,function(t,e){return new cs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Jp);function ov(t,e,n,r){if(n[0]=ie(n[0]),n[0]instanceof Bp)return function(t,e,n,r,i){if(!r)throw new $o(Ko.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=gs(t);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(Pa(e,r.key));else{var c=r.data.field(u.field);if(wa(c))throw new $o(Ko.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var h=u.field.canonicalString();throw new $o(Ko.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+h+"' (used as the orderBy) does not exist.")}o.push(c)}}return new rs(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=Ep(t.firestore);return function(t,e,n,r,i,o){var a=t.explicitOrderBy;if(i.length>a.length)throw new $o(Ko.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new $o(Ko.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!ms(t)&&-1!==c.indexOf("/"))throw new $o(Ko.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var h=t.path.child(la.fromString(c));if(!Aa.isDocumentKey(h))throw new $o(Ko.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+h+"' is not because it contains an odd number of segments.");var l=new Aa(h);s.push(Pa(e,l))}else{var f=Op(n,r,c);s.push(f)}}return new rs(s,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function av(t,e,n){if("string"==typeof(n=ie(n))){if(""===n)throw new $o(Ko.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ms(e)&&-1!==n.indexOf("/"))throw new $o(Ko.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(la.fromString(n));if(!Aa.isDocumentKey(r))throw new $o(Ko.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Pa(t,new Aa(r))}if(n instanceof Jd)return Pa(t,n._key);throw new $o(Ko.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+zd(n)+".")}function sv(t,e){if(!Array.isArray(t)||0===t.length)throw new $o(Ko.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new $o(Ko.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function uv(t,e,n){if(!n.isEqual(e))throw new $o(Ko.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var cv=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Na(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ya(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ba(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Xo()}},t.prototype.convertObject=function(t,e){var n=this,r={};return ua(t.fields||{},(function(t,i){r[t]=n.convertValue(i,e)})),r},t.prototype.convertGeoPoint=function(t){return new vp(ya(t.latitude),ya(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=Ia(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Ea(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=ga(t);return new oa(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=la.fromString(t);Jo(cc(n));var r=new Pd(n.get(1),n.get(3)),i=new Aa(n.popFirst(5));return r.isEqual(e)||Wo("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function hv(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var lv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return qt(e,t),e.prototype.convertBytes=function(t){return new dp(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Jd(this.firestore,null,e)},e}(cv),fv=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Ep(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=dv(t,this._firestore),i=hv(r.converter,e,n),o=Tp(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Ks.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=dv(t,this._firestore);return o="string"==typeof(e=ie(e))||e instanceof fp?xp(this._dataReader,"WriteBatch.update",a._key,e,n,r):Cp(this._dataReader,"WriteBatch.update",a._key,e),this._mutations.push(o.toMutation(a._key,Ks.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=dv(t,this._firestore);return this._mutations=this._mutations.concat(new iu(e._key,Ks.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new $o(Ko.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function dv(t,e){if((t=ie(t)).firestore!==e)throw new $o(Ko.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var pv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return qt(e,t),e.prototype.convertBytes=function(t){return new dp(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Jd(this.firestore,null,e)},e}(cv);function vv(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Wd(t,Jd);var o=Wd(t.firestore,sp),a=Ep(o);return gv(o,[("string"==typeof(e=ie(e))||e instanceof fp?xp(a,"updateDoc",t._key,e,n,r):Cp(a,"updateDoc",t._key,e)).toMutation(t._key,Ks.exists(!0))])}function mv(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=ie(t);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||ap(i[s])||(a=i[s],s++);var u,c,h,l={includeMetadataChanges:a.includeMetadataChanges};if(ap(i[s])){var f=i[s];i[s]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[s+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof Jd)c=Wd(t.firestore,sp),h=ls(t._key.path),u={next:function(e){i[s]&&i[s](yv(c,t,e))},error:i[s+1],complete:i[s+2]};else{var d=Wd(t,Zd);c=Wd(d.firestore,sp),h=d._query;var p=new pv(c);u={next:function(t){i[s]&&i[s](new Wp(c,p,d,t))},error:i[s+1],complete:i[s+2]},Xp(t._query)}return function(t,e,n,r){var i=this,o=new yd(r),a=new Cf(e,o,n);return t.asyncQueue.enqueueAndForget((function(){return Ut(i,void 0,void 0,(function(){var e;return jt(this,(function(n){switch(n.label){case 0:return e=_f,[4,Cd(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Wo(),t.asyncQueue.enqueueAndForget((function(){return Ut(i,void 0,void 0,(function(){var e;return jt(this,(function(n){switch(n.label){case 0:return e=Af,[4,Cd(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))}))}}(up(c),h,l,u)}function gv(t,e){return function(t,e){var n=this,r=new Rc;return t.asyncQueue.enqueueAndForget((function(){return Ut(n,void 0,void 0,(function(){var n;return jt(this,(function(i){switch(i.label){case 0:return n=Uf,[4,Dd(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(up(t),e)}function yv(t,e,n){var r=n.docs.get(e._key),i=new pv(t);return new Hp(t,i,e._key,r,new Gp(n.hasPendingWrites,n.fromCache),e.converter)}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var bv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return qt(e,t),e.prototype.get=function(e){var n=this,r=dv(e,this._firestore),i=new pv(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new Hp(n._firestore,i,r._key,t._document,new Gp(!1,!1),r.converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=Ep(t)}return t.prototype.get=function(t){var e=this,n=dv(t,this._firestore),r=new lv(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return Xo();var i=t[0];if(i.isFoundDocument())return new Bp(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Bp(e._firestore,r,n._key,null,n.converter);throw Xo()}))},t.prototype.set=function(t,e,n){var r=dv(t,this._firestore),i=hv(r.converter,e,n),o=Tp(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=dv(t,this._firestore);return o="string"==typeof(e=ie(e))||e instanceof fp?xp(this._dataReader,"Transaction.update",a._key,e,n,r):Cp(this._dataReader,"Transaction.update",a._key,e),this._transaction.update(a._key,o),this},t.prototype.delete=function(t){var e=dv(t,this._firestore);return this._transaction.delete(e._key),this},t}());
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function wv(){if("undefined"==typeof Uint8Array)throw new $o(Ko.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Iv(){if("undefined"==typeof atob)throw new $o(Ko.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Ev=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return Iv(),new t(dp.fromBase64String(e))},t.fromUint8Array=function(e){return wv(),new t(dp.fromUint8Array(e))},t.prototype.toBase64=function(){return Iv(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return wv(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),Tv=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){lp(t=Wd(t,sp));var n=up(t),r=t._freezeSettings(),i=new gd;return hp(n,i,new vd(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){lp(t=Wd(t,sp));var e=up(t),n=t._freezeSettings(),r=new gd;return hp(e,r,new md(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new $o(Ko.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Rc;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return Ut(e,void 0,void 0,(function(){var e;return jt(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Ut(this,void 0,void 0,(function(){var e;return jt(this,(function(n){switch(n.label){case 0:return Mc.yt()?(e=t+"main",[4,Mc.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(zh(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),Sv=function(){function t(t,e,n){var r=this;this._delegate=e,this.Yc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Pd||(this.Xc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=Wd(t,Xd))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&Yo("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o=function(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=Ft({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Gt.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),Gt.encodeString(JSON.stringify(o),!1),""].join(".")}(r.mockUserToken),a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new $o(Ko.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new qd(new Md(o,new wl(a)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Ut(e,void 0,void 0,(function(){var e,n;return jt(this,(function(r){switch(r.label){case 0:return[4,Ad(t)];case 1:return e=r.sent(),[4,kd(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Zo(t);return e.$r.delete(0),Hl(e)}(n))]}}))}))}))}(up(Wd(this._delegate,sp)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Ut(e,void 0,void 0,(function(){var e,n;return jt(this,(function(r){switch(r.label){case 0:return[4,Ad(t)];case 1:return e=r.sent(),[4,kd(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Ut(this,void 0,void 0,(function(){var e;return jt(this,(function(n){switch(n.label){case 0:return(e=Zo(t)).$r.add(0),[4,zl(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(up(Wd(this._delegate,sp)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&$d("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Rc;return t.asyncQueue.enqueueAndForget((function(){return Ut(e,void 0,void 0,(function(){var e;return jt(this,(function(r){switch(r.label){case 0:return e=Hf,[4,Dd(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(up(Wd(this._delegate,sp)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new yd(e);return t.asyncQueue.enqueueAndForget((function(){return Ut(n,void 0,void 0,(function(){var e;return jt(this,(function(n){switch(n.label){case 0:return e=function(t,e){Zo(t).Gr.add(e),e.next()},[4,Cd(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),t.asyncQueue.enqueueAndForget((function(){return Ut(n,void 0,void 0,(function(){var e;return jt(this,(function(n){switch(n.label){case 0:return e=function(t,e){Zo(t).Gr.delete(e)},[4,Cd(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(up(t=Wd(t,sp)),ap(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Xc)throw new $o(Ko.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new qv(this,ep(this._delegate,t))}catch(t){throw Cv(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new Dv(this,np(this._delegate,t))}catch(t){throw Cv(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new Lv(this,function(t,e){if(t=Wd(t,Xd),Bd("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new $o(Ko.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Zd(t,null,function(t){return new cs(la.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw Cv(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Rc;return t.asyncQueue.enqueueAndForget((function(){return Ut(n,void 0,void 0,(function(){var n;return jt(this,(function(i){switch(i.label){case 0:return[4,function(t){return _d(t).then((function(t){return t.datastore}))}(t)];case 1:return n=i.sent(),new wd(t.asyncQueue,n,e,r).run(),[2]}}))}))})),r.promise}(up(t),(function(n){return e(new bv(t,n))}))}(this._delegate,(function(n){return t(new Av(e,n))}))},t.prototype.batch=function(){var t=this;return up(this._delegate),new Nv(new fv(this._delegate,(function(e){return gv(t._delegate,e)})))},t.prototype.loadBundle=function(t){throw new $o(Ko.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new $o(Ko.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),_v=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return qt(e,t),e.prototype.convertBytes=function(t){return new Ev(new dp(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return Dv.Zc(e,this.firestore,null)},e}(cv);var Av=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new _v(t)}return t.prototype.get=function(t){var e=this,n=Fv(t);return this._delegate.get(n).then((function(t){return new Rv(e._firestore,new Hp(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))}))},t.prototype.set=function(t,e,n){var r=Fv(t);return n?(Kd("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Fv(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,$t([a,e,n],i)),this},t.prototype.delete=function(t){var e=Fv(t);return this._delegate.delete(e),this},t}(),Nv=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=Fv(t);return n?(Kd("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Fv(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,$t([a,e,n],i)),this},t.prototype.delete=function(t){var e=Fv(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),kv=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new zp(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Pv(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.tu=function(e,n){var r=t.eu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new _v(e),n),i.set(n,o)),o},t}();kv.eu=new WeakMap;var Dv=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new _v(t)}return t.nu=function(e,n,r){if(e.length%2!=0)throw new $o(Ko.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Jd(n._delegate,r,new Aa(e)))},t.Zc=function(e,n,r){return new t(n,new Jd(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new qv(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new qv(this.firestore,ep(this._delegate,t))}catch(t){throw Cv(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=ie(t))instanceof Jd&&rp(this._delegate,t)},t.prototype.set=function(t,e){e=Kd("DocumentReference.set",e);try{return function(t,e,n){t=Wd(t,Jd);var r=Wd(t.firestore,sp),i=hv(t.converter,e,n);return gv(r,[Tp(Ep(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Ks.none())])}(this._delegate,t,e)}catch(t){throw Cv(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?vv(this._delegate,t):vv.apply(void 0,$t([this._delegate,t,e],n))}catch(t){throw Cv(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return gv(Wd((t=this._delegate).firestore,sp),[new iu(t._key,Ks.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=xv(e),i=Ov(e,(function(e){return new Rv(t.firestore,new Hp(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}));return mv(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Wd(t,Jd);var e=Wd(t.firestore,sp),n=up(e),r=new pv(e);return function(t,e){var n=this,r=new Rc;return t.asyncQueue.enqueueAndForget((function(){return Ut(n,void 0,void 0,(function(){var n;return jt(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Ut(this,void 0,void 0,(function(){var r,i;return jt(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Zo(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Mn.mn(t,e)}))}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new $o(Ko.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=bf(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,Nd(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._key).then((function(n){return new Hp(e,r,t._key,n,new Gp(null!==n&&n.hasLocalMutations,!0),t.converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Wd(t,Jd);var e=Wd(t.firestore,sp);return xd(up(e),t._key,{source:"server"}).then((function(n){return yv(e,t,n)}))}(this._delegate):function(t){t=Wd(t,Jd);var e=Wd(t.firestore,sp);return xd(up(e),t._key).then((function(n){return yv(e,t,n)}))}(this._delegate)).then((function(t){return new Rv(e.firestore,new Hp(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(kv.tu(this.firestore,e)):this._delegate.withConverter(null))},t}();function Cv(t,e,n){return t.message=t.message.replace(e,n),t}function xv(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!ap(r))return r}return{}}function Ov(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=ap(t[0])?t[0]:ap(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Rv=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Dv(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return Qp(this._delegate,t._delegate)},t}(),Pv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return qt(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(Rv),Lv=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new _v(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Zp(this._delegate,function(t,e,n){var r=e,i=$p("where",t);return new tv(i,r,n)}(e,n,r)))}catch(e){throw Cv(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Zp(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=$p("orderBy",t);return new ev(r,n)}(e,n)))}catch(e){throw Cv(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Zp(this._delegate,function(t){return Yd("limit",t),new nv("limit",t,"F")}(e)))}catch(e){throw Cv(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Zp(this._delegate,function(t){return Yd("limitToLast",t),new nv("limitToLast",t,"L")}(e)))}catch(e){throw Cv(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Zp(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new rv("startAt",t,!0)}.apply(void 0,e)))}catch(e){throw Cv(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Zp(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new rv("startAfter",t,!1)}.apply(void 0,e)))}catch(e){throw Cv(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Zp(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new iv("endBefore",t,!0)}.apply(void 0,e)))}catch(e){throw Cv(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Zp(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new iv("endAt",t,!1)}.apply(void 0,e)))}catch(e){throw Cv(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return ip(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Wd(t,Zd);var e=Wd(t.firestore,sp),n=up(e),r=new pv(e);return function(t,e){var n=this,r=new Rc;return t.asyncQueue.enqueueAndForget((function(){return Ut(n,void 0,void 0,(function(){var n;return jt(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Ut(this,void 0,void 0,(function(){var r,i,o,a,s;return jt(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,al(t,e,!0)];case 1:return s=u.sent(),r=new Rf(e,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=bf(a,"Failed to execute query '"+e+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,Nd(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._query).then((function(n){return new Wp(e,r,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Wd(t,Zd);var e=Wd(t.firestore,sp),n=up(e),r=new pv(e);return Od(n,t._query,{source:"server"}).then((function(n){return new Wp(e,r,t,n)}))}(this._delegate):function(t){t=Wd(t,Zd);var e=Wd(t.firestore,sp),n=up(e),r=new pv(e);return Xp(t._query),Od(n,t._query).then((function(n){return new Wp(e,r,t,n)}))}(this._delegate)).then((function(t){return new Vv(e.firestore,new Wp(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=xv(e),i=Ov(e,(function(e){return new Vv(t.firestore,new Wp(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return mv(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(kv.tu(this.firestore,e)):this._delegate.withConverter(null))},t}(),Mv=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Pv(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),Vv=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new Lv(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new Pv(t._firestore,e)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new Mv(e._firestore,t)}))},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(r){t.call(e,new Pv(n._firestore,r))}))},t.prototype.isEqual=function(t){return Qp(this._delegate,t._delegate)},t}(),qv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return qt(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Dv(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Dv(this.firestore,void 0===t?np(this._delegate):np(this._delegate,t))}catch(t){throw Cv(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Wd(t.firestore,sp),r=np(t),i=hv(t.converter,e);return gv(n,[Tp(Ep(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Ks.exists(!1))]).then((function(){return r}))}(this._delegate,t).then((function(t){return new Dv(e.firestore,t)}))},e.prototype.isEqual=function(t){return rp(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(kv.tu(this.firestore,t)):this._delegate.withConverter(null))},e}(Lv);function Fv(t){return Wd(t,Jd)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Uv,jv=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(fp.bind.apply(fp,$t([void 0],t)))}return t.documentId=function(){return new t(da.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=ie(t))instanceof fp&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),Bv=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new Ap("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new Sp("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Np("arrayUnion",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new kp("arrayRemove",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new Dp("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),Kv={Firestore:Sv,GeoPoint:vp,Timestamp:oa,Blob:Ev,Transaction:Av,WriteBatch:Nv,DocumentReference:Dv,DocumentSnapshot:Rv,Query:Lv,QueryDocumentSnapshot:Pv,QuerySnapshot:Vv,CollectionReference:qv,FieldPath:jv,FieldValue:Bv,setLogLevel:function(t){var e;e=t,Go.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new oe("firestore",(function(t){return function(t,e){return new Sv(t,new sp(t,e),new Tv)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Kv)))})(Uv=Re),Uv.registerVersion("@firebase/firestore","2.3.0");Re.initializeApp({apiKey:"AIzaSyB4hl9a1RPB_MmuqPm_zNmO49Y20qSf9e4",authDomain:"stoked-sun-304807.firebaseapp.com",projectId:"stoked-sun-304807",storageBucket:"stoked-sun-304807.appspot.com",messagingSenderId:"622344556987",appId:"1:622344556987:web:2018a94371c8eeef90f49e",measurementId:"G-9WXYEFVCQ0"}),Re.auth();const $v=Re.firestore(),Gv=Re.firestore.FieldValue;function Hv(t,e,n){const r=t.slice();return r[19]=e[n],r}function zv(t){let e,n;return{c(){e=m("p"),n=y(t[0]),this.h()},l(r){e=_(r,"P",{style:!0,class:!0});var i=S(e);n=A(i,t[0]),i.forEach(v),this.h()},h(){C(e,"font-family","sans-serif"),C(e,"color","crimson"),T(e,"class","svelte-1r3imhq")},m(t,r){p(t,e,r),d(e,n)},p(t,e){1&e&&k(n,t[0])},d(t){t&&v(e)}}}function Wv(t){let e,n;return{c(){e=m("div"),n=y("Loading..."),this.h()},l(t){e=_(t,"DIV",{class:!0});var r=S(e);n=A(r,"Loading..."),r.forEach(v),this.h()},h(){T(e,"class","loader svelte-1r3imhq")},m(t,r){p(t,e,r),d(e,n)},d(t){t&&v(e)}}}function Yv(t){let e,n=t[4],r=[];for(let e=0;e<n.length;e+=1)r[e]=Xv(Hv(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=w()},l(t){for(let e=0;e<r.length;e+=1)r[e].l(t);e=w()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);p(t,e,n)},p(t,i){if(272&i){let o;for(n=t[4],o=0;o<n.length;o+=1){const a=Hv(t,n,o);r[o]?r[o].p(a,i):(r[o]=Xv(a),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(t){!function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(r,t),t&&v(e)}}}function Qv(t){let e,n;return{c(){e=m("span"),n=y(" "),this.h()},l(t){e=_(t,"SPAN",{id:!0,style:!0,class:!0});var r=S(e);n=A(r," "),r.forEach(v),this.h()},h(){T(e,"id","circle"),C(e,"font-weight","bolder"),T(e,"class","svelte-1r3imhq")},m(t,r){p(t,e,r),d(e,n)},d(t){t&&v(e)}}}function Xv(t){let e,n,r,i,o,a,s,u,c,h,l,f,g,w,E,D=t[19].name+"",C=t[19].time+"",x=t[19].msg+"",R=t[19].notSeen&&Qv();return{c(){e=m("div"),n=m("div"),r=m("div"),i=m("h5"),o=y(D),a=b(),s=m("span"),u=y(C),c=b(),R&&R.c(),h=b(),l=m("p"),f=y(x),g=b(),this.h()},l(t){e=_(t,"DIV",{class:!0});var d=S(e);n=_(d,"DIV",{class:!0});var p=S(n);r=_(p,"DIV",{class:!0});var m=S(r);i=_(m,"H5",{class:!0});var y=S(i);o=A(y,D),a=N(y),s=_(y,"SPAN",{class:!0});var b=S(s);u=A(b,C),b.forEach(v),c=N(y),R&&R.l(y),y.forEach(v),h=N(m),l=_(m,"P",{class:!0});var w=S(l);f=A(w,x),w.forEach(v),m.forEach(v),p.forEach(v),g=N(d),d.forEach(v),this.h()},h(){T(s,"class","chat_date svelte-1r3imhq"),T(i,"class","svelte-1r3imhq"),T(l,"class","svelte-1r3imhq"),T(r,"class","chat_ib svelte-1r3imhq"),T(n,"class","chat_people svelte-1r3imhq"),T(e,"class","chat_list svelte-1r3imhq"),O(e,"dev_chat",Zv==t[19].name)},m(v,m){p(v,e,m),d(e,n),d(n,r),d(r,i),d(i,o),d(i,a),d(i,s),d(s,u),d(i,c),R&&R.m(i,null),d(r,h),d(r,l),d(l,f),d(e,g),w||(E=I(e,"click",t[8]),w=!0)},p(t,n){16&n&&D!==(D=t[19].name+"")&&k(o,D),16&n&&C!==(C=t[19].time+"")&&k(u,C),t[19].notSeen?R||(R=Qv(),R.c(),R.m(i,null)):R&&(R.d(1),R=null),16&n&&x!==(x=t[19].msg+"")&&k(f,x),16&n&&O(e,"dev_chat",Zv==t[19].name)},d(t){t&&v(e),R&&R.d(),w=!1,E()}}}function Jv(e){let n,r,o,a,s,u,c,h,l,f,g,w,E,x,O,R,P,L,M,V,q,F,U,j,B,K,$,G,H,z,W,Y,Q,X=e[2]&&zv(e),J=!e[3]&&Wv(),Z=e[3]&&Yv(e);return{c(){n=m("div"),r=m("span"),o=y("×"),a=b(),s=m("strong"),u=y(e[5]),c=b(),h=y(e[6]),l=b(),f=m("div"),g=m("div"),w=m("div"),E=m("div"),x=m("input"),O=b(),R=m("span"),P=m("button"),L=m("b"),M=y("+"),V=b(),X&&X.c(),q=b(),F=m("div"),U=m("div"),j=m("div"),B=m("div"),K=m("h5"),$=m("span"),G=b(),H=m("p"),z=b(),J&&J.c(),W=b(),Z&&Z.c(),this.h()},l(t){n=_(t,"DIV",{class:!0,style:!0});var i=S(n);r=_(i,"SPAN",{class:!0,onclick:!0});var d=S(r);o=A(d,"×"),d.forEach(v),a=N(i),s=_(i,"STRONG",{class:!0});var p=S(s);u=A(p,e[5]),p.forEach(v),c=N(i),h=A(i,e[6]),i.forEach(v),l=N(t),f=_(t,"DIV",{id:!0,class:!0});var m=S(f);g=_(m,"DIV",{class:!0});var y=S(g);w=_(y,"DIV",{class:!0});var b=S(w);E=_(b,"DIV",{class:!0});var I=S(E);x=_(I,"INPUT",{type:!0,class:!0,placeholder:!0}),O=N(I),R=_(I,"SPAN",{class:!0});var T=S(R);P=_(T,"BUTTON",{class:!0,type:!0});var k=S(P);L=_(k,"B",{class:!0});var D=S(L);M=A(D,"+"),D.forEach(v),k.forEach(v),T.forEach(v),I.forEach(v),b.forEach(v),V=N(y),X&&X.l(y),y.forEach(v),q=N(m),F=_(m,"DIV",{class:!0});var C=S(F);U=_(C,"DIV",{class:!0,style:!0});var Y=S(U);j=_(Y,"DIV",{class:!0});var Q=S(j);B=_(Q,"DIV",{class:!0});var tt=S(B);K=_(tt,"H5",{class:!0});var et=S(K);$=_(et,"SPAN",{class:!0}),S($).forEach(v),et.forEach(v),G=N(tt),H=_(tt,"P",{class:!0}),S(H).forEach(v),tt.forEach(v),Q.forEach(v),Y.forEach(v),z=N(C),J&&J.l(C),W=N(C),Z&&Z.l(C),C.forEach(v),m.forEach(v),this.h()},h(){T(r,"class","closebtn svelte-1r3imhq"),T(r,"onclick","this.parentElement.style.display='none';"),T(s,"class","svelte-1r3imhq"),T(n,"class","alerti svelte-1r3imhq"),C(n,"display","none"),T(x,"type","text"),T(x,"class","search-bar svelte-1r3imhq"),T(x,"placeholder","Enter username"),T(L,"class","svelte-1r3imhq"),T(P,"class","addUserButton svelte-1r3imhq"),T(P,"type","button"),T(R,"class","input-group-addon svelte-1r3imhq"),T(E,"class","stylish-input-group svelte-1r3imhq"),T(w,"class","srch_bar svelte-1r3imhq"),T(g,"class","headind_srch svelte-1r3imhq"),T($,"class","chat_date svelte-1r3imhq"),T(K,"class","svelte-1r3imhq"),T(H,"class","svelte-1r3imhq"),T(B,"class","chat_ib svelte-1r3imhq"),T(j,"class","chat_people svelte-1r3imhq"),T(U,"class","chat_list active_chat svelte-1r3imhq"),C(U,"display","none"),T(F,"class","inbox_chat svelte-1r3imhq"),T(f,"id","inbox_people"),T(f,"class","inbox_people svelte-1r3imhq")},m(t,i){p(t,n,i),d(n,r),d(r,o),d(n,a),d(n,s),d(s,u),d(n,c),d(n,h),p(t,l,i),p(t,f,i),d(f,g),d(g,w),d(w,E),d(E,x),D(x,e[1]),d(E,O),d(E,R),d(R,P),d(P,L),d(L,M),d(g,V),X&&X.m(g,null),d(f,q),d(f,F),d(F,U),d(U,j),d(j,B),d(B,K),d(K,$),d(B,G),d(B,H),d(F,z),J&&J.m(F,null),d(F,W),Z&&Z.m(F,null),Y||(Q=[I(x,"input",e[13]),I(P,"click",e[7])],Y=!0)},p(t,[e]){32&e&&k(u,t[5]),64&e&&k(h,t[6]),2&e&&x.value!==t[1]&&D(x,t[1]),t[2]?X?X.p(t,e):(X=zv(t),X.c(),X.m(g,null)):X&&(X.d(1),X=null),t[3]?J&&(J.d(1),J=null):J||(J=Wv(),J.c(),J.m(F,W)),t[3]?Z?Z.p(t,e):(Z=Yv(t),Z.c(),Z.m(F,null)):Z&&(Z.d(1),Z=null)},i:t,o:t,d(t){t&&v(n),t&&v(l),t&&v(f),X&&X.d(),J&&J.d(),Z&&Z.d(),Y=!1,i(Q)}}}let Zv="raz0229";function tm(t,e,n){let r,i,o="",a="",s=!1,u=!1,c=[],{selectedUser:h}=e,{userSelected:l}=e,{noMessages:f}=e,{name:d}=e,p=[],v=M();$v.collection("messages").doc(d).onSnapshot((t=>{m()}));const m=()=>{n(3,u=!1),$v.collection("messages").doc(d).get().then((t=>{n(4,c=Object.values(t.data().recent_chats)),n(3,u=!0)}))};m();const g=(t,e,o)=>{const a=document.querySelector(".alerti");a.style.display="block",a.style.backgroundColor=o,n(5,r=t),n(6,i=e)},y=()=>{document.querySelectorAll(".incoming_msg").forEach((t=>t.remove())),document.querySelectorAll(".outgoing_msg").forEach((t=>t.remove()))};return t.$$set=t=>{"selectedUser"in t&&n(9,h=t.selectedUser),"userSelected"in t&&n(10,l=t.userSelected),"noMessages"in t&&n(11,f=t.noMessages),"name"in t&&n(12,d=t.name)},[o,a,s,u,c,r,i,()=>{document.querySelector(".container").className.substring(10),n(2,s=!0),n(0,o="Searching..."),$v.collection("accounts").get().then((t=>{t.docs.forEach((t=>{t.data().username==a.toLowerCase()?(n(2,s=!1),n(0,o=""),$v.collection("messages").doc(d).update({recent_chats:Gv.arrayUnion({name:a.toLowerCase(),time:(new Date).toDateString().substring(4,10),msg:"Most recent message appears here...",notSeen:!1})}).then((()=>{m(),n(1,a="")}))):n(0,o="User doesn't exist")}))}))},t=>{n(10,l=!0),n(11,f=!1),y(),p=[],document.querySelector(".centerImage").style.display="none";let e=document.querySelector(".inbox_people").className.substring(13),r=document.querySelector(".active_chat");null!=r&&r.setAttribute("class",`chat_list ${e}`),document.querySelector(".msg_send_btn").removeAttribute("disabled");let i=0;for(i in t.path)t.path[i].className!=`chat_list ${e}`&&t.path[i].className!=`chat_list ${e} dev_chat`||(t.path[i].setAttribute("class",`chat_list active_chat ${e}`),n(9,h=t.path[i].innerText.split(/(\s+)/)[0]));$v.collection("messages").doc(d+"-"+h).get().then((t=>{t.exists||n(11,f=!0)})),$v.collection("messages").doc(h+"-"+d).get().then((t=>{t.exists||g("Warning!","Receipent has deleted his/her account and can no longer receive your messages","#fecb7f")})),$v.collection("messages").doc(d+"-"+h).onSnapshot((t=>{n(10,l=!1);let e=0;for(;e<t.data()[h].length;e++){let n=t.data()[h][e];"sent"!=n.type||p.includes(n.id)?"received"!=n.type||p.includes(n.id)||(v("receivedEvent",[n.msg,n.time]),p=p.concat(n.id)):(v("sentEvent",[n.msg,n.time,n.id,n.type]),p=p.concat(n.id))}}))},h,l,f,d,function(){a=this.value,n(1,a)}]}class em extends lt{constructor(t){super(),ht(this,t,tm,Jv,a,{selectedUser:9,userSelected:10,noMessages:11,name:12})}}function nm(e){let n,r,i,o,a,s,u,c,h,l,f,w,E,k,D,C,x,O,R,P,L,M,V,q,F,U,j,B,K,$,G,H,z;return{c(){n=m("div"),r=m("a"),i=g("svg"),o=g("path"),a=g("path"),s=y(" Logout"),u=b(),c=m("button"),h=g("svg"),l=g("defs"),f=g("style"),w=y(".cls-1 {\n              fill: crimson;\n            }\n          "),E=g("title"),k=y("Asset 25"),D=g("g"),C=g("g"),x=g("path"),O=g("path"),R=g("path"),P=y(" Delete Account"),L=b(),M=m("a"),V=g("svg"),q=g("defs"),F=g("style"),U=y(".cls-1 {\n              fill: #2d3e50;\n            }\n          "),j=g("title"),B=y("x"),K=g("path"),$=g("path"),G=y("About"),this.h()},l(t){n=_(t,"DIV",{id:!0,class:!0});var e=S(n);r=_(e,"A",{href:!0,class:!0});var d=S(r);i=_(d,"svg",{class:!0,xmlns:!0,viewBox:!0,width:!0,height:!0},1);var p=S(i);o=_(p,"path",{fill:!0,d:!0},1),S(o).forEach(v),a=_(p,"path",{d:!0,fill:!0},1),S(a).forEach(v),p.forEach(v),s=A(d," Logout"),d.forEach(v),u=N(e),c=_(e,"BUTTON",{class:!0});var m=S(c);h=_(m,"svg",{class:!0,xmlns:!0,viewBox:!0},1);var g=S(h);l=_(g,"defs",{},1);var y=S(l);f=_(y,"style",{},1);var b=S(f);w=A(b,".cls-1 {\n              fill: crimson;\n            }\n          "),b.forEach(v),y.forEach(v),E=_(g,"title",{},1);var I=S(E);k=A(I,"Asset 25"),I.forEach(v),D=_(g,"g",{id:!0,"data-name":!0},1);var T=S(D);C=_(T,"g",{id:!0,"data-name":!0},1);var H=S(C);x=_(H,"path",{class:!0,d:!0},1),S(x).forEach(v),O=_(H,"path",{class:!0,d:!0},1),S(O).forEach(v),R=_(H,"path",{class:!0,d:!0},1),S(R).forEach(v),H.forEach(v),T.forEach(v),g.forEach(v),P=A(m," Delete Account"),m.forEach(v),L=N(e),M=_(e,"A",{href:!0,class:!0});var z=S(M);V=_(z,"svg",{id:!0,"data-name":!0,xmlns:!0,viewBox:!0,class:!0},1);var W=S(V);q=_(W,"defs",{},1);var Y=S(q);F=_(Y,"style",{},1);var Q=S(F);U=A(Q,".cls-1 {\n              fill: #2d3e50;\n            }\n          "),Q.forEach(v),Y.forEach(v),j=_(W,"title",{},1);var X=S(j);B=A(X,"x"),X.forEach(v),K=_(W,"path",{class:!0,d:!0},1),S(K).forEach(v),$=_(W,"path",{class:!0,d:!0},1),S($).forEach(v),W.forEach(v),G=A(z,"About"),z.forEach(v),e.forEach(v),this.h()},h(){T(o,"fill","none"),T(o,"d","M0 0h24v24H0z"),T(a,"d","M5 22a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v3h-2V4H6v16h12v-2h2v3a1 1 0 0 1-1 1H5zm13-6v-3h-7v-2h7V8l5 4-5 4z"),T(a,"fill","#68d391"),T(i,"class","logout svelte-dhi3z4"),T(i,"xmlns","http://www.w3.org/2000/svg"),T(i,"viewBox","0 0 24 24"),T(i,"width","24"),T(i,"height","24"),T(r,"href","/"),T(r,"class","svelte-dhi3z4"),T(x,"class","cls-1"),T(x,"d","M61.33,5.33H48V2.67A2.66,2.66,0,0,0,45.33,0H18.67A2.66,2.66,0,0,0,16,2.67V5.33H2.67a2.67,2.67,0,0,0,0,5.34H8v40a8,8,0,0,0,8,8H48a8,8,0,0,0,8-8v-40h5.33a2.67,2.67,0,1,0,0-5.34ZM50.67,50.67A2.67,2.67,0,0,1,48,53.33H16a2.67,2.67,0,0,1-2.67-2.66v-40H50.67Z"),T(O,"class","cls-1"),T(O,"d","M24,45.33a2.67,2.67,0,0,0,2.67-2.66V21.33a2.67,2.67,0,0,0-5.34,0V42.67A2.67,2.67,0,0,0,24,45.33Z"),T(R,"class","cls-1"),T(R,"d","M40,45.33a2.67,2.67,0,0,0,2.67-2.66V21.33a2.67,2.67,0,0,0-5.34,0V42.67A2.67,2.67,0,0,0,40,45.33Z"),T(C,"id","Layer_1-2"),T(C,"data-name","Layer 1"),T(D,"id","Layer_2"),T(D,"data-name","Layer 2"),T(h,"class","delete svelte-dhi3z4"),T(h,"xmlns","http://www.w3.org/2000/svg"),T(h,"viewBox","0 0 64 58.67"),T(c,"class","svelte-dhi3z4"),T(K,"class","cls-1"),T(K,"d","M59.25625,2.65407A14.62972,14.62972,0,1,1,44.62653,17.28379,14.619,14.619,0,0,1,59.25625,2.65407Z"),T($,"class","cls-1"),T($,"d","M49.67716,45.027a8.69756,8.69756,0,0,0-7.178,8.56486h0a8.69454,8.69454,0,0,0,8.6967,8.6967h.86206v48.17411H47.40528a7.44163,7.44163,0,0,0-7.44163,7.44163h0a7.44163,7.44163,0,0,0,7.44163,7.44163H80.59472a7.44163,7.44163,0,0,0,7.44163-7.44163h0a7.44163,7.44163,0,0,0-7.44163-7.44163h-4.6019V48.96654a7.50925,7.50925,0,0,0-8.96765-7.3663C59.51679,43.0868,49.97494,44.97466,49.67716,45.027Z"),T(V,"id","Layer_1"),T(V,"data-name","Layer 1"),T(V,"xmlns","http://www.w3.org/2000/svg"),T(V,"viewBox","0 0 142 142"),T(V,"class","svelte-dhi3z4"),T(M,"href","/about"),T(M,"class","svelte-dhi3z4"),T(n,"id","myDropdown"),T(n,"class","dropdown-content svelte-dhi3z4")},m(t,v){p(t,n,v),d(n,r),d(r,i),d(i,o),d(i,a),d(r,s),d(n,u),d(n,c),d(c,h),d(h,l),d(l,f),d(f,w),d(h,E),d(E,k),d(h,D),d(D,C),d(C,x),d(C,O),d(C,R),d(c,P),d(n,L),d(n,M),d(M,V),d(V,q),d(q,F),d(F,U),d(V,j),d(j,B),d(V,K),d(V,$),d(M,G),H||(z=I(c,"click",e[7]),H=!0)},p:t,d(t){t&&v(n),H=!1,z()}}}function rm(t){let e,n,r,o,a,s,u,c,h,l,f,w,E,D,C,x,O,R,P,L,M,V,q,F,U,j,B,K,$,G,H;return{c(){e=m("div"),n=m("div"),r=m("h3"),o=m("strong"),a=y("Delete Account"),s=m("span"),u=y("×"),c=b(),h=m("div"),l=g("svg"),f=g("defs"),w=g("g"),E=g("g"),D=g("path"),C=y("\n        This will permanently delete all data in this account and cannot be undone."),x=b(),O=m("span"),R=y("Account Name"),P=b(),L=m("div"),M=y("/accounts/"),V=y(t[0]),q=b(),F=m("div"),U=m("button"),j=y("Cancel"),B=b(),K=m("button"),$=y("Start delete"),this.h()},l(i){e=_(i,"DIV",{class:!0});var d=S(e);n=_(d,"DIV",{class:!0});var p=S(n);r=_(p,"H3",{class:!0});var m=S(r);o=_(m,"STRONG",{});var g=S(o);a=A(g,"Delete Account"),g.forEach(v),s=_(m,"SPAN",{class:!0});var y=S(s);u=A(y,"×"),y.forEach(v),m.forEach(v),c=N(p),h=_(p,"DIV",{class:!0});var b=S(h);l=_(b,"svg",{class:!0,width:!0,height:!0,viewBox:!0,version:!0,xmlns:!0,"xmlns:xlink":!0,"xmlns:sketch":!0},1);var I=S(l);f=_(I,"defs",{},1),S(f).forEach(v),w=_(I,"g",{id:!0,stroke:!0,"stroke-width":!0,fill:!0,"fill-rule":!0,"sketch:type":!0},1);var T=S(w);E=_(T,"g",{id:!0,"sketch:type":!0,fill:!0},1);var k=S(E);D=_(k,"path",{d:!0,id:!0,"sketch:type":!0},1),S(D).forEach(v),k.forEach(v),T.forEach(v),I.forEach(v),C=A(b,"\n        This will permanently delete all data in this account and cannot be undone."),b.forEach(v),x=N(p),O=_(p,"SPAN",{class:!0});var G=S(O);R=A(G,"Account Name"),G.forEach(v),P=N(p),L=_(p,"DIV",{});var H=S(L);M=A(H,"/accounts/"),V=A(H,t[0]),H.forEach(v),q=N(p),F=_(p,"DIV",{class:!0});var z=S(F);U=_(z,"BUTTON",{class:!0});var W=S(U);j=A(W,"Cancel"),W.forEach(v),B=N(z),K=_(z,"BUTTON",{class:!0});var Y=S(K);$=A(Y,"Start delete"),Y.forEach(v),z.forEach(v),p.forEach(v),d.forEach(v),this.h()},h(){T(s,"class","cross svelte-dhi3z4"),T(r,"class","svelte-dhi3z4"),T(D,"d","M14.3077969,6.05448962 C15.177863,4.64682663 16.5905922,4.65018129 17.4585848,6.05448962 L28.2436741,23.5034768 C29.4052031,25.382692 28.5591104,26.9060969 26.3549711,26.9060969 L5.41141065,26.9060969 C3.20677982,26.9060969 2.35742742,25.388761 3.52270757,23.5034768 L14.3077969,6.05448962 L14.3077969,6.05448962 Z M15.8835643,11.9060969 C15.3312795,11.9060969 14.8835643,12.3591332 14.8835643,12.903127 L14.8835643,18.9090667 C14.8835643,19.4597113 15.3274291,19.9060969 15.8835643,19.9060969 C16.435849,19.9060969 16.8835643,19.4530606 16.8835643,18.9090667 L16.8835643,12.903127 C16.8835643,12.3524825 16.4396994,11.9060969 15.8835643,11.9060969 L15.8835643,11.9060969 Z M15.8835643,23.9060969 C16.435849,23.9060969 16.8835643,23.4583816 16.8835643,22.9060969 C16.8835643,22.3538121 16.435849,21.9060969 15.8835643,21.9060969 C15.3312795,21.9060969 14.8835643,22.3538121 14.8835643,22.9060969 C14.8835643,23.4583816 15.3312795,23.9060969 15.8835643,23.9060969 L15.8835643,23.9060969 Z"),T(D,"id","warning"),T(D,"sketch:type","MSShapeGroup"),T(E,"id","icon-61-warning"),T(E,"sketch:type","MSArtboardGroup"),T(E,"fill","crimson"),T(w,"id","Page-1"),T(w,"stroke","none"),T(w,"stroke-width","1"),T(w,"fill","none"),T(w,"fill-rule","evenodd"),T(w,"sketch:type","MSPage"),T(l,"class","matico svelte-dhi3z4"),T(l,"width","24px"),T(l,"height","24px"),T(l,"viewBox","0 0 28 28"),T(l,"version","1.1"),T(l,"xmlns","http://www.w3.org/2000/svg"),T(l,"xmlns:xlink","http://www.w3.org/1999/xlink"),T(l,"xmlns:sketch","http://www.bohemiancoding.com/sketch/ns"),T(h,"class","alert1 svelte-dhi3z4"),T(O,"class","small-text svelte-dhi3z4"),T(U,"class","myButton cancelbtn svelte-dhi3z4"),T(K,"class","myButton svelte-dhi3z4"),T(F,"class","btns svelte-dhi3z4"),T(n,"class","model svelte-dhi3z4"),T(e,"class","back-drop svelte-dhi3z4")},m(i,v){p(i,e,v),d(e,n),d(n,r),d(r,o),d(o,a),d(r,s),d(s,u),d(n,c),d(n,h),d(h,l),d(l,f),d(l,w),d(w,E),d(E,D),d(h,C),d(n,x),d(n,O),d(O,R),d(n,P),d(n,L),d(L,M),d(L,V),d(n,q),d(n,F),d(F,U),d(U,j),d(F,B),d(F,K),d(K,$),G||(H=[I(s,"click",t[8]),I(U,"click",t[9]),I(K,"click",t[5])],G=!0)},p(t,e){1&e&&k(V,t[0])},d(t){t&&v(e),G=!1,i(H)}}}function im(e){let n,r,i,o,a,s,u,c,h,l,f,E,D,x,O,R,P,L,M,V,q,F=e[1]&&nm(e),U=e[2]&&rm(e);return{c(){n=m("div"),r=m("span"),i=y("×"),o=b(),a=m("strong"),s=y(e[3]),u=b(),c=y(e[4]),h=b(),l=m("button"),f=m("span"),E=y(e[0]),D=b(),x=g("svg"),O=g("path"),R=g("circle"),P=b(),F&&F.c(),L=b(),U&&U.c(),M=w(),this.h()},l(t){n=_(t,"DIV",{class:!0,style:!0});var d=S(n);r=_(d,"SPAN",{class:!0,onclick:!0});var p=S(r);i=A(p,"×"),p.forEach(v),o=N(d),a=_(d,"STRONG",{});var m=S(a);s=A(m,e[3]),m.forEach(v),u=N(d),c=A(d,e[4]),d.forEach(v),h=N(t),l=_(t,"BUTTON",{id:!0,class:!0});var g=S(l);f=_(g,"SPAN",{id:!0,class:!0});var y=S(f);E=A(y,e[0]),y.forEach(v),D=N(g),x=_(g,"svg",{xmlns:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0},1);var b=S(x);O=_(b,"path",{d:!0},1),S(O).forEach(v),R=_(b,"circle",{cx:!0,cy:!0,r:!0},1),S(R).forEach(v),b.forEach(v),g.forEach(v),P=N(t),F&&F.l(t),L=N(t),U&&U.l(t),M=w(),this.h()},h(){T(r,"class","closebtn svelte-dhi3z4"),T(r,"onclick","this.parentElement.style.display='none';"),T(n,"class","alertify svelte-dhi3z4"),C(n,"display","none"),T(f,"id","accName"),T(f,"class","svelte-dhi3z4"),T(O,"d","M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"),T(R,"cx","12"),T(R,"cy","7"),T(R,"r","4"),T(x,"xmlns","http://www.w3.org/2000/svg"),T(x,"viewBox","0 0 24 24"),T(x,"fill","none"),T(x,"stroke","currentColor"),T(x,"stroke-width","2"),T(x,"stroke-linecap","round"),T(x,"stroke-linejoin","round"),T(x,"class","feather feather-user svelte-dhi3z4"),T(l,"id","menu-button2"),T(l,"class","svelte-dhi3z4")},m(t,v){p(t,n,v),d(n,r),d(r,i),d(n,o),d(n,a),d(a,s),d(n,u),d(n,c),p(t,h,v),p(t,l,v),d(l,f),d(f,E),d(l,D),d(l,x),d(x,O),d(x,R),p(t,P,v),F&&F.m(t,v),p(t,L,v),U&&U.m(t,v),p(t,M,v),V||(q=I(l,"click",e[6]),V=!0)},p(t,[e]){8&e&&k(s,t[3]),16&e&&k(c,t[4]),1&e&&k(E,t[0]),t[1]?F?F.p(t,e):(F=nm(t),F.c(),F.m(L.parentNode,L)):F&&(F.d(1),F=null),t[2]?U?U.p(t,e):(U=rm(t),U.c(),U.m(M.parentNode,M)):U&&(U.d(1),U=null)},i:t,o:t,d(t){t&&v(n),t&&v(h),t&&v(l),t&&v(P),F&&F.d(t),t&&v(L),U&&U.d(t),t&&v(M),V=!1,q()}}}function om(t,e,n){let r=!1,i=!1,o="",a="",{name:s}=e;const u=(t,e,r)=>{const i=document.querySelector(".alertify");i.style.display="block",i.style.backgroundColor=r,n(3,o=t),n(4,a=e)};return t.$$set=t=>{"name"in t&&n(0,s=t.name)},[s,r,i,o,a,()=>{n(2,i=!i),$v.collection("accounts").where("username","==",s).get().then((t=>{t.docs.forEach((t=>{$v.collection("accounts").doc(t.id).delete().then((()=>{u("Success!","Account has been deleted","#68d391"),setTimeout((()=>{location.replace("/")}),2e3)})).catch((t=>{u("Something went wrong!","Account not deleted","#d36868")}))}))})),$v.collection("messages").get().then((t=>{t.docs.forEach((t=>{t.id.split("-")[0]==s&&$v.collection("messages").doc(t.id).delete()}))}))},()=>n(1,r=!r),()=>{n(2,i=!i),n(1,r=!r)},()=>n(2,i=!i),()=>n(2,i=!i)]}class am extends lt{constructor(t){super(),ht(this,t,om,im,a,{name:0})}}function sm(t){let e,n;return{c(){e=m("img"),this.h()},l(t){e=_(t,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){T(e,"class","centerImage2 svelte-1cqfvtb"),e.src!==(n="https://i.ibb.co/gMrSpT4/warning-no-messages.png")&&T(e,"src","https://i.ibb.co/gMrSpT4/warning-no-messages.png"),T(e,"alt","No messages to show")},m(t,n){p(t,e,n)},d(t){t&&v(e)}}}function um(t){let e,n;return{c(){e=m("div"),n=y("Loading..."),this.h()},l(t){e=_(t,"DIV",{class:!0});var r=S(e);n=A(r,"Loading..."),r.forEach(v),this.h()},h(){T(e,"class","loader svelte-1cqfvtb")},m(t,r){p(t,e,r),d(e,n)},d(t){t&&v(e)}}}function cm(t){let e,n,r,i;return{c(){e=m("div"),n=y("Chat with '"),r=y(t[2]),i=y("' ↓"),this.h()},l(o){e=_(o,"DIV",{class:!0});var a=S(e);n=A(a,"Chat with '"),r=A(a,t[2]),i=A(a,"' ↓"),a.forEach(v),this.h()},h(){T(e,"class","sticky svelte-1cqfvtb")},m(t,o){p(t,e,o),d(e,n),d(e,r),d(e,i)},p(t,e){4&e&&k(r,t[2])},d(t){t&&v(e)}}}function hm(t){let e,n,r,o,a,s,u,c,h,l,f,w,E,x,O,R,P,L,M,V,q,F,j,B,K,$,G,z,W,Y,Q,X,J,Z,tt,rt,ct,ht,lt,ft,dt,pt,vt,mt,gt,yt,bt,wt,It,Et,Tt,St,_t,At,Nt,kt,Dt,Ct,xt,Ot,Rt,Pt,Lt,Mt,Vt,qt,Ft,Ut;function jt(e){t[12](e)}let Bt={};function Kt(e){t[13](e)}function $t(e){t[14](e)}function Gt(e){t[15](e)}function Ht(e){t[16](e)}void 0!==t[0]&&(Bt.name=t[0]),Q=new am({props:Bt}),U.push((()=>it(Q,"name",jt)));let zt={};void 0!==t[2]&&(zt.selectedUser=t[2]),void 0!==t[4]&&(zt.noMessages=t[4]),void 0!==t[3]&&(zt.userSelected=t[3]),void 0!==t[0]&&(zt.name=t[0]),rt=new em({props:zt}),U.push((()=>it(rt,"selectedUser",Kt))),U.push((()=>it(rt,"noMessages",$t))),U.push((()=>it(rt,"userSelected",Gt))),U.push((()=>it(rt,"name",Ht))),rt.$on("sentEvent",t[8]),rt.$on("receivedEvent",t[9]);let Wt=t[4]&&sm(),Yt=t[3]&&um(),Qt=""!=t[2]&&cm(t);return{c(){e=m("div"),n=m("span"),r=y("×"),o=b(),a=m("strong"),s=y(t[5]),u=b(),c=y(t[6]),h=b(),l=m("div"),f=m("div"),w=m("button"),E=g("svg"),x=g("defs"),O=g("style"),R=y(".cls-1 {\n              fill: #111;\n            }\n            .cls-2 {\n              fill: #827ffe;\n            }\n          "),P=g("title"),L=y("Menu"),M=g("g"),V=g("g"),q=g("path"),F=g("path"),j=g("rect"),B=b(),K=m("a"),$=m("span"),G=y("MessengeRAZ"),z=m("span"),W=y("."),Y=b(),ot(Q.$$.fragment),J=b(),Z=m("div"),tt=m("div"),ot(rt.$$.fragment),dt=b(),pt=m("div"),vt=m("div"),mt=m("img"),yt=b(),Wt&&Wt.c(),bt=b(),Yt&&Yt.c(),wt=b(),Qt&&Qt.c(),It=b(),Et=m("div"),Tt=m("div"),St=m("p"),_t=m("span"),At=b(),Nt=m("div"),kt=m("div"),Dt=m("p"),Ct=m("span"),xt=b(),Ot=m("div"),Rt=m("div"),Pt=m("input"),Lt=b(),Mt=m("button"),Vt=m("i"),this.h()},l(i){e=_(i,"DIV",{class:!0,style:!0});var d=S(e);n=_(d,"SPAN",{class:!0,onclick:!0});var p=S(n);r=A(p,"×"),p.forEach(v),o=N(d),a=_(d,"STRONG",{class:!0});var m=S(a);s=A(m,t[5]),m.forEach(v),u=N(d),c=A(d,t[6]),d.forEach(v),h=N(i),l=_(i,"DIV",{class:!0});var g=S(l);f=_(g,"DIV",{class:!0});var y=S(f);w=_(y,"BUTTON",{id:!0,class:!0});var b=S(w);E=_(b,"svg",{id:!0,xmlns:!0,width:!0,height:!0,viewBox:!0,class:!0},1);var I=S(E);x=_(I,"defs",{class:!0},1);var T=S(x);O=_(T,"style",{class:!0},1);var k=S(O);R=A(k,".cls-1 {\n              fill: #111;\n            }\n            .cls-2 {\n              fill: #827ffe;\n            }\n          "),k.forEach(v),T.forEach(v),P=_(I,"title",{class:!0},1);var D=S(P);L=A(D,"Menu"),D.forEach(v),M=_(I,"g",{id:!0,"data-name":!0,class:!0},1);var C=S(M);V=_(C,"g",{id:!0,class:!0},1);var U=S(V);q=_(U,"path",{class:!0,d:!0},1),S(q).forEach(v),F=_(U,"path",{class:!0,d:!0},1),S(F).forEach(v),j=_(U,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,rx:!0,ry:!0},1),S(j).forEach(v),U.forEach(v),C.forEach(v),I.forEach(v),b.forEach(v),B=N(y),K=_(y,"A",{href:!0,style:!0,class:!0});var H=S(K);$=_(H,"SPAN",{class:!0});var X=S($);G=A(X,"MessengeRAZ"),z=_(X,"SPAN",{class:!0});var et=S(z);W=A(et,"."),et.forEach(v),X.forEach(v),H.forEach(v),Y=N(y),at(Q.$$.fragment,y),y.forEach(v),J=N(g),Z=_(g,"DIV",{class:!0});var nt=S(Z);tt=_(nt,"DIV",{class:!0});var it=S(tt);at(rt.$$.fragment,it),dt=N(it),pt=_(it,"DIV",{class:!0});var ot=S(pt);vt=_(ot,"DIV",{id:!0,class:!0});var st=S(vt);mt=_(st,"IMG",{class:!0,src:!0,alt:!0}),yt=N(st),Wt&&Wt.l(st),bt=N(st),Yt&&Yt.l(st),wt=N(st),Qt&&Qt.l(st),It=N(st),Et=_(st,"DIV",{class:!0,style:!0});var ut=S(Et);Tt=_(ut,"DIV",{class:!0});var ct=S(Tt);St=_(ct,"P",{class:!0});var ht=S(St);_t=_(ht,"SPAN",{class:!0}),S(_t).forEach(v),ht.forEach(v),ct.forEach(v),ut.forEach(v),At=N(st),Nt=_(st,"DIV",{class:!0,style:!0});var lt=S(Nt);kt=_(lt,"DIV",{class:!0});var ft=S(kt);Dt=_(ft,"P",{class:!0});var gt=S(Dt);Ct=_(gt,"SPAN",{class:!0}),S(Ct).forEach(v),gt.forEach(v),ft.forEach(v),lt.forEach(v),st.forEach(v),xt=N(ot),Ot=_(ot,"DIV",{class:!0});var qt=S(Ot);Rt=_(qt,"DIV",{class:!0});var Ft=S(Rt);Pt=_(Ft,"INPUT",{type:!0,class:!0,placeholder:!0}),Lt=N(Ft),Mt=_(Ft,"BUTTON",{id:!0,class:!0,type:!0,disabled:!0});var Ut=S(Mt);Vt=_(Ut,"I",{class:!0,"aria-hidden":!0}),S(Vt).forEach(v),Ut.forEach(v),Ft.forEach(v),qt.forEach(v),ot.forEach(v),it.forEach(v),nt.forEach(v),g.forEach(v),this.h()},h(){T(n,"class","closebtn svelte-1cqfvtb"),T(n,"onclick","this.parentElement.style.display='none';"),T(a,"class","svelte-1cqfvtb"),T(e,"class","alert svelte-1cqfvtb"),C(e,"display","none"),T(O,"class","svelte-1cqfvtb"),T(x,"class","svelte-1cqfvtb"),T(P,"class","svelte-1cqfvtb"),T(q,"class","cls-1 svelte-1cqfvtb"),T(q,"d","M41.92 0H8.08A8.08 8.08 0 0 0 0 8.08v33.84A8.08 8.08 0 0 0 8.08 50h33.84A8.08 8.08 0 0 0 50 41.92V8.08A8.08 8.08 0 0 0 41.92 0zM45 41.92A3.08 3.08 0 0 1 41.92 45H8.08A3.08 3.08 0 0 1 5 41.92V8.08A3.08 3.08 0 0 1 8.08 5h33.84A3.08 3.08 0 0 1 45 8.08z"),T(F,"class","cls-1 svelte-1cqfvtb"),T(F,"d","M37.5 12h-25a2.5 2.5 0 0 0 0 5h25a2.5 2.5 0 0 0 0-5zM37.5 23h-25a2.5 2.5 0 0 0 0 5h25a2.5 2.5 0 0 0 0-5z"),T(j,"class","cls-2 svelte-1cqfvtb"),T(j,"x","10"),T(j,"y","34"),T(j,"width","26"),T(j,"height","5"),T(j,"rx","2.5"),T(j,"ry","2.5"),T(V,"id","Menu"),T(V,"class","svelte-1cqfvtb"),T(M,"id","Layer_2"),T(M,"data-name","Layer 2"),T(M,"class","svelte-1cqfvtb"),T(E,"id","menu-icon"),T(E,"xmlns","http://www.w3.org/2000/svg"),T(E,"width","50"),T(E,"height","50"),T(E,"viewBox","0 0 50 50"),T(E,"class","svelte-1cqfvtb"),T(w,"id","menu-button"),T(w,"class","svelte-1cqfvtb"),T(z,"class","dot svelte-1cqfvtb"),T($,"class","login-text svelte-1cqfvtb"),T(K,"href","/"),C(K,"text-decoration","none"),T(K,"class","svelte-1cqfvtb"),T(f,"class","mHeader svelte-1cqfvtb"),T(mt,"class","centerImage svelte-1cqfvtb"),mt.src!==(gt="https://i.ibb.co/pJ2rYpr/start-chat.png")&&T(mt,"src","https://i.ibb.co/pJ2rYpr/start-chat.png"),T(mt,"alt","Start chat"),T(_t,"class","time_date_2 svelte-1cqfvtb"),T(St,"class","svelte-1cqfvtb"),T(Tt,"class","received_msg svelte-1cqfvtb"),T(Et,"class","incoming_msg svelte-1cqfvtb"),C(Et,"display","none"),T(Ct,"class","time_date_2 svelte-1cqfvtb"),T(Dt,"class","svelte-1cqfvtb"),T(kt,"class","sent_msg svelte-1cqfvtb"),T(Nt,"class","outgoing_msg svelte-1cqfvtb"),C(Nt,"display","none"),T(vt,"id","data"),T(vt,"class","msg_history svelte-1cqfvtb"),T(Pt,"type","text"),T(Pt,"class","write_msg svelte-1cqfvtb"),T(Pt,"placeholder","Type a message"),T(Vt,"class","fa fa-paper-plane-o svelte-1cqfvtb"),T(Vt,"aria-hidden","true"),T(Mt,"id","msg-send-btn"),T(Mt,"class","msg_send_btn svelte-1cqfvtb"),T(Mt,"type","button"),Mt.disabled=!0,T(Rt,"class","input_msg_write svelte-1cqfvtb"),T(Ot,"class","type_msg svelte-1cqfvtb"),T(pt,"class","mesgs svelte-1cqfvtb"),T(tt,"class","inbox_msg svelte-1cqfvtb"),T(Z,"class","messaging svelte-1cqfvtb"),T(l,"class","container svelte-1cqfvtb")},m(i,v){p(i,e,v),d(e,n),d(n,r),d(e,o),d(e,a),d(a,s),d(e,u),d(e,c),p(i,h,v),p(i,l,v),d(l,f),d(f,w),d(w,E),d(E,x),d(x,O),d(O,R),d(E,P),d(P,L),d(E,M),d(M,V),d(V,q),d(V,F),d(V,j),d(f,B),d(f,K),d(K,$),d($,G),d($,z),d(z,W),d(f,Y),st(Q,f,null),d(l,J),d(l,Z),d(Z,tt),st(rt,tt,null),d(tt,dt),d(tt,pt),d(pt,vt),d(vt,mt),d(vt,yt),Wt&&Wt.m(vt,null),d(vt,bt),Yt&&Yt.m(vt,null),d(vt,wt),Qt&&Qt.m(vt,null),d(vt,It),d(vt,Et),d(Et,Tt),d(Tt,St),d(St,_t),d(vt,At),d(vt,Nt),d(Nt,kt),d(kt,Dt),d(Dt,Ct),d(pt,xt),d(pt,Ot),d(Ot,Rt),d(Rt,Pt),D(Pt,t[1]),d(Rt,Lt),d(Rt,Mt),d(Mt,Vt),qt=!0,Ft||(Ut=[I(w,"click",t[10]),I(Pt,"keyup",t[11]),I(Pt,"input",t[17]),I(Mt,"click",t[7])],Ft=!0)},p(t,[e]){(!qt||32&e)&&k(s,t[5]),(!qt||64&e)&&k(c,t[6]);const n={};!X&&1&e&&(X=!0,n.name=t[0],H((()=>X=!1))),Q.$set(n);const r={};!ct&&4&e&&(ct=!0,r.selectedUser=t[2],H((()=>ct=!1))),!ht&&16&e&&(ht=!0,r.noMessages=t[4],H((()=>ht=!1))),!lt&&8&e&&(lt=!0,r.userSelected=t[3],H((()=>lt=!1))),!ft&&1&e&&(ft=!0,r.name=t[0],H((()=>ft=!1))),rt.$set(r),t[4]?Wt||(Wt=sm(),Wt.c(),Wt.m(vt,bt)):Wt&&(Wt.d(1),Wt=null),t[3]?Yt||(Yt=um(),Yt.c(),Yt.m(vt,wt)):Yt&&(Yt.d(1),Yt=null),""!=t[2]?Qt?Qt.p(t,e):(Qt=cm(t),Qt.c(),Qt.m(vt,It)):Qt&&(Qt.d(1),Qt=null),2&e&&Pt.value!==t[1]&&D(Pt,t[1])},i(t){qt||(et(Q.$$.fragment,t),et(rt.$$.fragment,t),qt=!0)},o(t){nt(Q.$$.fragment,t),nt(rt.$$.fragment,t),qt=!1},d(t){t&&v(e),t&&v(h),t&&v(l),ut(Q),ut(rt),Wt&&Wt.d(),Yt&&Yt.d(),Qt&&Qt.d(),Ft=!1,i(Ut)}}}function lm(t,e,n){let r,i,o,a,s="",u="",{name:c}=e,h="",l="";function f(t,e,n,r){$v.collection("messages").doc(e).get().then((i=>{let o=i.data().recent_chats,a=0;for(a in o)o[a].name==n&&(o[a].msg=`${t.substring(0,35)}...`,o[a].time=(new Date).toDateString().substring(4,10),o[a].notSeen=r,$v.collection("messages").doc(e).update({recent_chats:o}))}))}const d=(t,e,r)=>{const i=document.querySelector(".alert");i.style.display="block",i.style.backgroundColor=r,n(5,h=t),n(6,l=e)},p=t=>{t=document.createTextNode(t);var e=document,n=window,r=e.body;if(r.appendChild(t),r.createTextRange){(i=r.createTextRange()).moveToElementText(t),i.select(),e.execCommand("copy")}else{var i=e.createRange(),o=n.getSelection;i.selectNodeContents(t),o().removeAllRanges(),o().addRange(i),e.execCommand("copy"),o().removeAllRanges()}t.remove()},v=t=>{var e=t.getHours(),n=t.getMinutes(),r=e>=12?"PM":"AM";return(e=(e%=12)||12)+":"+(n=n<10?"0"+n:n)+" "+r+" | "+t.toDateString().substring(4,10)};return t.$$set=t=>{"name"in t&&n(0,c=t.name)},[c,s,u,r,i,h,l,()=>{if(""!=s){const t=$v.collection("messages").doc(c+"-"+u),e=$v.collection("messages").doc(u+"-"+c);t.get().then((r=>{o=function(){for(var t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<5;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}(),a=v(new Date),r.exists?(t.update({[u]:Gv.arrayUnion({id:o,time:a,msg:s,type:"sent"})}).then((()=>{n(1,s="")})),e.update({[c]:Gv.arrayUnion({id:o,time:a,msg:s,type:"received"})})):(t.set({[u]:Gv.arrayUnion({id:o,time:a,msg:s,type:"sent"})}).then((()=>{n(1,s="")})),e.set({[c]:Gv.arrayUnion({id:o,time:a,msg:s,type:"received"})}))}))}},t=>{let e=document.createElement("div"),n=document.createElement("div"),r=document.createElement("p"),i=document.createElement("span"),o=document.querySelector(".msg_history"),a=document.querySelector(".container").className.substring(10);document.querySelector(".write_msg").value="",e.setAttribute("class",`outgoing_msg ${a}`),e.setAttribute("id","outgoing_msg"),n.setAttribute("class",`sent_msg ${a}`),i.setAttribute("class",`time_date_2 ${a}`);let s=document.createElement("span");s.setAttribute("class","rmenu");let h=document.createElement("button");h.textContent="Copy";let l=document.createElement("button");l.textContent="Undo";let v=document.createElement("button");v.textContent="Delete",h.style.cssText="color: #333;outline: none;background: none;border-radius: 30px;padding: 5px 10px 5px 10px;cursor: pointer;",l.style.cssText="color: #333;outline: none;background: none;border-radius: 30px;padding: 5px 10px 5px 10px;cursor: pointer;",v.style.cssText="color: #333;outline: none;background: none;border-radius: 30px;padding: 5px 10px 5px 10px;cursor: pointer;",h.addEventListener("click",(()=>{p(t.detail[0]),s.style.display="none"})),l.addEventListener("click",(()=>{$v.collection("messages").doc(c+"-"+u).update({[u]:Gv.arrayRemove({id:t.detail[2],msg:t.detail[0],time:t.detail[1],type:t.detail[3]})}),$v.collection("messages").doc(u+"-"+c).update({[c]:Gv.arrayRemove({id:t.detail[2],msg:t.detail[0],time:t.detail[1],type:"received"})}).then((()=>{s.style.display="none",d("Deleted!","Message deleted for everyone","#68d3ff")})),e.style.display="none"})),v.addEventListener("click",(()=>{$v.collection("messages").doc(c+"-"+u).update({[u]:Gv.arrayRemove({id:t.detail[2],msg:t.detail[0],time:t.detail[1],type:t.detail[3]})}).then((()=>{s.style.display="none",d("Deleted!","Message deleted for you","#68d3ff")})),e.style.display="none"})),s.appendChild(h),s.appendChild(l),s.appendChild(v),s.style.display="none",s.style.justifyContent="center",e.addEventListener("click",(()=>{let t=0,e=document.getElementsByClassName("rmenu");if("flex"==s.style.display)for(;t<e.length;t++)e[t].style.display="none";else s.style.display="flex"})),r.textContent=t.detail[0];let m=t.detail[0];for(;/\p{Extended_Pictographic}/u.test(m);)m=m.replace(/\p{Extended_Pictographic}/u,"");m=m.replace(/\s/g,""),""==m&&(r.style.fontSize="30px"),r.setAttribute("class",`${a}`),i.textContent=t.detail[1],r.appendChild(i),n.appendChild(r),e.appendChild(n),o.appendChild(e),o.appendChild(s);var g=document.getElementById("data");g.scrollTop=g.scrollHeight,f(t.detail[0],c,u,!1),f(t.detail[0],u,c,!0)},t=>{let e=document.createElement("div"),n=document.createElement("div"),r=document.createElement("p"),i=document.createElement("span"),o=document.querySelector(".msg_history"),a=document.querySelector(".container").className.substring(10);e.setAttribute("class",`incoming_msg ${a}`),n.setAttribute("class",`received_msg ${a}`),i.setAttribute("class",`time_date_2 ${a}`);let s=document.createElement("span");s.setAttribute("class","rmenu");let h=document.createElement("button");h.textContent="Copy",h.style.cssText="color: #333;outline: none;background: none;border-radius: 30px;padding: 5px 10px 5px 10px;cursor: pointer;",h.addEventListener("click",(()=>{p(t.detail[0]),s.style.display="none"})),s.appendChild(h),s.style.display="none",s.style.justifyContent="center",e.addEventListener("click",(()=>{let t=0,e=document.getElementsByClassName("rmenu");if("flex"==s.style.display)for(;t<e.length;t++)e[t].style.display="none";else s.style.display="flex"})),r.textContent=t.detail[0];let l=t.detail[0];for(;/\p{Extended_Pictographic}/u.test(l);)l=l.replace(/\p{Extended_Pictographic}/u,"");l=l.replace(/\s/g,""),""==l&&(r.style.fontSize="30px"),r.setAttribute("class",`${a}`),i.textContent=t.detail[1],r.appendChild(i),n.appendChild(r),e.appendChild(n),o.appendChild(e),o.appendChild(s);var d=document.getElementById("data");d.scrollTop=d.scrollHeight,f(t.detail[0],c,u,!0),f(t.detail[0],u,c,!1)},()=>{let t=document.getElementById("inbox_people"),e=document.querySelector(".mesgs");"none"==t.style.display?t.style.display="block":t.style.display="none",e.addEventListener("click",(()=>{t.style.display="none"}))},t=>{13===t.keyCode&&document.getElementById("msg-send-btn").click()},function(t){c=t,n(0,c)},function(t){u=t,n(2,u)},function(t){i=t,n(4,i)},function(t){r=t,n(3,r)},function(t){c=t,n(0,c)},function(){s=this.value,n(1,s)}]}class fm extends lt{constructor(t){super(),ht(this,t,lm,hm,a,{name:0})}}function dm(t){let e,n,r;function i(e){t[8](e)}let o={};return void 0!==t[0]&&(o.name=t[0]),e=new fm({props:o}),U.push((()=>it(e,"name",i))),{c(){ot(e.$$.fragment)},l(t){at(e.$$.fragment,t)},m(t,n){st(e,t,n),r=!0},p(t,r){const i={};!n&&1&r&&(n=!0,i.name=t[0],H((()=>n=!1))),e.$set(i)},i(t){r||(et(e.$$.fragment,t),r=!0)},o(t){nt(e.$$.fragment,t),r=!1},d(t){ut(e,t)}}}function pm(e){let n,r,o,a,s,u,c,h,l,f,g,w,E,x,O,R,P,L,M,V,q,F,U,j,B,K,$,G,H,z,W,Y,Q,X,J,Z,tt=e[2]&&vm();return{c(){n=m("div"),r=m("span"),o=y("×"),a=b(),s=m("strong"),u=y("Warning!"),c=b(),h=y(e[4]),l=b(),f=m("div"),g=m("a"),w=m("span"),E=y("MessengeRAZ"),x=m("span"),O=y("."),R=b(),P=m("form"),L=m("input"),M=b(),V=m("input"),q=b(),F=m("p"),U=m("a"),j=y("Forgot Password?"),B=b(),K=m("button"),$=m("span"),G=y("LOGIN"),H=b(),tt&&tt.c(),z=b(),W=m("div"),Y=b(),Q=m("a"),X=y("Create Account"),this.h()},l(t){n=_(t,"DIV",{class:!0,style:!0});var i=S(n);r=_(i,"SPAN",{class:!0,onclick:!0});var d=S(r);o=A(d,"×"),d.forEach(v),a=N(i),s=_(i,"STRONG",{});var p=S(s);u=A(p,"Warning!"),p.forEach(v),c=N(i),h=A(i,e[4]),i.forEach(v),l=N(t),f=_(t,"DIV",{class:!0});var m=S(f);g=_(m,"A",{href:!0,style:!0,class:!0});var y=S(g);w=_(y,"SPAN",{class:!0});var b=S(w);E=A(b,"MessengeRAZ"),x=_(b,"SPAN",{class:!0});var I=S(x);O=A(I,"."),I.forEach(v),b.forEach(v),y.forEach(v),R=N(m),P=_(m,"FORM",{class:!0});var T=S(P);L=_(T,"INPUT",{id:!0,type:!0,placeholder:!0,required:!0,class:!0}),M=N(T),V=_(T,"INPUT",{id:!0,type:!0,placeholder:!0,required:!0,class:!0}),q=N(T),F=_(T,"P",{class:!0});var k=S(F);U=_(k,"A",{id:!0,href:!0,class:!0});var D=S(U);j=A(D,"Forgot Password?"),D.forEach(v),k.forEach(v),B=N(T),K=_(T,"BUTTON",{class:!0});var C=S(K);$=_(C,"SPAN",{class:!0});var J=S($);G=A(J,"LOGIN"),J.forEach(v),H=N(C),tt&&tt.l(C),C.forEach(v),T.forEach(v),z=N(m),W=_(m,"DIV",{class:!0}),S(W).forEach(v),Y=N(m),Q=_(m,"A",{class:!0,href:!0});var Z=S(Q);X=A(Z,"Create Account"),Z.forEach(v),m.forEach(v),this.h()},h(){T(r,"class","closebtn svelte-tyjohs"),T(r,"onclick","this.parentElement.style.display='none';"),T(n,"class","alert svelte-tyjohs"),C(n,"display","none"),T(x,"class","dot svelte-tyjohs"),T(w,"class","login-text svelte-tyjohs"),T(g,"href","/"),C(g,"text-decoration","none"),T(g,"class","svelte-tyjohs"),T(L,"id","name"),T(L,"type","text"),T(L,"placeholder","Username"),L.required=!0,T(L,"class","svelte-tyjohs"),T(V,"id","password"),T(V,"type","password"),T(V,"placeholder","Password"),V.required=!0,T(V,"class","svelte-tyjohs"),T(U,"id","a"),T(U,"href","recover"),T(U,"class","svelte-tyjohs"),T(F,"class","forget svelte-tyjohs"),T($,"class","buttonText"),T(K,"class","button svelte-tyjohs"),T(P,"class","frm"),T(W,"class","line svelte-tyjohs"),T(Q,"class","link svelte-tyjohs"),T(Q,"href","signup"),T(f,"class","container svelte-tyjohs")},m(t,i){p(t,n,i),d(n,r),d(r,o),d(n,a),d(n,s),d(s,u),d(n,c),d(n,h),p(t,l,i),p(t,f,i),d(f,g),d(g,w),d(w,E),d(w,x),d(x,O),d(f,R),d(f,P),d(P,L),D(L,e[0]),d(P,M),d(P,V),D(V,e[1]),d(P,q),d(P,F),d(F,U),d(U,j),d(P,B),d(P,K),d(K,$),d($,G),d(K,H),tt&&tt.m(K,null),d(f,z),d(f,W),d(f,Y),d(f,Q),d(Q,X),J||(Z=[I(L,"input",e[6]),I(V,"input",e[7]),I(P,"submit",e[5])],J=!0)},p(t,e){16&e&&k(h,t[4]),1&e&&L.value!==t[0]&&D(L,t[0]),2&e&&V.value!==t[1]&&D(V,t[1]),t[2]?tt||(tt=vm(),tt.c(),tt.m(K,null)):tt&&(tt.d(1),tt=null)},i:t,o:t,d(t){t&&v(n),t&&v(l),t&&v(f),tt&&tt.d(),J=!1,i(Z)}}}function vm(t){let e,n,r,i,o,a,s,u;return{c(){e=m("div"),n=m("div"),r=b(),i=m("div"),o=b(),a=m("div"),s=b(),u=m("div"),this.h()},l(t){e=_(t,"DIV",{class:!0});var c=S(e);n=_(c,"DIV",{class:!0}),S(n).forEach(v),r=N(c),i=_(c,"DIV",{class:!0}),S(i).forEach(v),o=N(c),a=_(c,"DIV",{class:!0}),S(a).forEach(v),s=N(c),u=_(c,"DIV",{class:!0}),S(u).forEach(v),c.forEach(v),this.h()},h(){T(n,"class","svelte-tyjohs"),T(i,"class","svelte-tyjohs"),T(a,"class","svelte-tyjohs"),T(u,"class","svelte-tyjohs"),T(e,"class","lds-ellipsis svelte-tyjohs")},m(t,c){p(t,e,c),d(e,n),d(e,r),d(e,i),d(e,o),d(e,a),d(e,s),d(e,u)},d(t){t&&v(e)}}}function mm(t){let e,n,r,i;const o=[pm,dm],a=[];function s(t,e){return t[3]?0:1}return e=s(t),n=a[e]=o[e](t),{c(){n.c(),r=w()},l(t){n.l(t),r=w()},m(t,n){a[e].m(t,n),p(t,r,n),i=!0},p(t,[i]){let u=e;e=s(t),e===u?a[e].p(t,i):(Z(),nt(a[u],1,1,(()=>{a[u]=null})),tt(),n=a[e],n?n.p(t,i):(n=a[e]=o[e](t),n.c()),et(n,1),n.m(r.parentNode,r))},i(t){i||(et(n),i=!0)},o(t){nt(n),i=!1},d(t){a[e].d(t),t&&v(r)}}}function gm(t,e,n){let r,i,o="",a=!1,s=!0;return[r,o,a,s,i,t=>{n(3,s=!0);const e=document.querySelector(".buttonText");e.style.display="none",n(2,a=!0),t.preventDefault(),$v.collection("accounts").get().then((t=>{if(t.docs.forEach((t=>{t.data().username==r&&t.data().password==o&&n(3,s=!1)})),n(2,a=!1),e.style.display="block",s){n(4,i="Incorrect username or password.");document.querySelector(".alert").style.display="block"}}))},function(){r=this.value,n(0,r)},function(){o=this.value,n(1,o)},function(t){r=t,n(0,r)}]}class ym extends lt{constructor(t){super(),ht(this,t,gm,mm,a,{})}}function bm(e){let n,r,a,s,u,c,h,l,f,g,w,x,O,R,P,L,M,V,q,F,U,j,B,K,$,G,H,z,W,Y,Q,X,J,Z,tt,et,nt,rt,it,ot,at,st,ut,ct,ht,lt,ft,dt;return{c(){n=m("div"),r=m("span"),a=y("×"),s=b(),u=m("strong"),c=y(e[7]),h=b(),l=y(e[8]),f=b(),g=m("div"),w=m("a"),x=m("span"),O=y("MessengeRAZ"),R=m("span"),P=y("."),L=b(),M=m("form"),V=m("input"),q=b(),F=m("input"),U=b(),j=m("input"),B=b(),K=m("input"),$=b(),G=m("p"),H=b(),z=m("div"),W=b(),Y=m("input"),Q=b(),X=m("input"),J=b(),Z=m("input"),tt=b(),et=m("p"),nt=m("a"),rt=y("Skip this step"),it=b(),ot=m("button"),at=y("Create Account"),st=b(),ut=m("div"),ct=b(),ht=m("a"),lt=y("LOGIN"),this.h()},l(t){n=_(t,"DIV",{class:!0,style:!0});var i=S(n);r=_(i,"SPAN",{class:!0,onclick:!0});var o=S(r);a=A(o,"×"),o.forEach(v),s=N(i),u=_(i,"STRONG",{});var d=S(u);c=A(d,e[7]),d.forEach(v),h=N(i),l=A(i,e[8]),i.forEach(v),f=N(t),g=_(t,"DIV",{class:!0});var p=S(g);w=_(p,"A",{href:!0,style:!0});var m=S(w);x=_(m,"SPAN",{class:!0});var y=S(x);O=A(y,"MessengeRAZ"),R=_(y,"SPAN",{class:!0});var b=S(R);P=A(b,"."),b.forEach(v),y.forEach(v),m.forEach(v),L=N(p),M=_(p,"FORM",{id:!0});var I=S(M);V=_(I,"INPUT",{id:!0,name:!0,type:!0,placeholder:!0,required:!0,class:!0}),q=N(I),F=_(I,"INPUT",{id:!0,name:!0,type:!0,placeholder:!0,required:!0,class:!0}),U=N(I),j=_(I,"INPUT",{id:!0,name:!0,type:!0,placeholder:!0,required:!0,class:!0}),B=N(I),K=_(I,"INPUT",{id:!0,name:!0,type:!0,placeholder:!0,required:!0,class:!0}),$=N(I),G=_(I,"P",{class:!0,style:!0}),S(G).forEach(v),H=N(I),z=_(I,"DIV",{class:!0}),S(z).forEach(v),W=N(I),Y=_(I,"INPUT",{id:!0,type:!0,placeholder:!0,required:!0,class:!0}),Q=N(I),X=_(I,"INPUT",{id:!0,type:!0,placeholder:!0,required:!0,class:!0}),J=N(I),Z=_(I,"INPUT",{id:!0,type:!0,placeholder:!0,required:!0,class:!0}),tt=N(I),et=_(I,"P",{class:!0});var E=S(et);nt=_(E,"A",{id:!0,href:!0,class:!0});var T=S(nt);rt=A(T,"Skip this step"),T.forEach(v),E.forEach(v),it=N(I),ot=_(I,"BUTTON",{class:!0});var k=S(ot);at=A(k,"Create Account"),k.forEach(v),I.forEach(v),st=N(p),ut=_(p,"DIV",{class:!0}),S(ut).forEach(v),ct=N(p),ht=_(p,"A",{class:!0,id:!0,href:!0});var D=S(ht);lt=A(D,"LOGIN"),D.forEach(v),p.forEach(v),this.h()},h(){T(r,"class","closebtn svelte-1coqpe2"),T(r,"onclick","this.parentElement.style.display='none';"),T(n,"class","alert svelte-1coqpe2"),C(n,"display","none"),T(R,"class","dot svelte-1coqpe2"),T(x,"class","login-text svelte-1coqpe2"),T(w,"href","/"),C(w,"text-decoration","none"),T(V,"id","name"),T(V,"name","name"),T(V,"type","text"),T(V,"placeholder","Username"),V.required=!0,T(V,"class","svelte-1coqpe2"),T(F,"id","email"),T(F,"name","email"),T(F,"type","email"),T(F,"placeholder","Email"),F.required=!0,T(F,"class","svelte-1coqpe2"),T(j,"id","password"),T(j,"name","password"),T(j,"type","password"),T(j,"placeholder","Password"),j.required=!0,T(j,"class","svelte-1coqpe2"),T(K,"id","cpassword"),T(K,"name","cpassword"),T(K,"type","password"),T(K,"placeholder","Confirm Password"),K.required=!0,T(K,"class","svelte-1coqpe2"),T(G,"class","para"),C(G,"font-family","sans-serif"),C(G,"font-size","17px"),C(G,"color","crimson"),T(z,"class","line svelte-1coqpe2"),T(Y,"id","pet"),T(Y,"type","text"),T(Y,"placeholder","Your Pet's name"),Y.required=!0,T(Y,"class","svelte-1coqpe2"),T(X,"id","birthplace"),T(X,"type","text"),T(X,"placeholder","Your birthplace"),X.required=!0,T(X,"class","svelte-1coqpe2"),T(Z,"id","food"),T(Z,"type","text"),T(Z,"placeholder","Your favorite food"),Z.required=!0,T(Z,"class","svelte-1coqpe2"),T(nt,"id","a"),T(nt,"href","/"),T(nt,"class","svelte-1coqpe2"),T(et,"class","skip"),T(ot,"class","button button2 svelte-1coqpe2"),T(M,"id","frm"),T(ut,"class","line svelte-1coqpe2"),T(ht,"class","link svelte-1coqpe2"),T(ht,"id","a"),T(ht,"href","/"),T(g,"class","container svelte-1coqpe2")},m(t,i){p(t,n,i),d(n,r),d(r,a),d(n,s),d(n,u),d(u,c),d(n,h),d(n,l),p(t,f,i),p(t,g,i),d(g,w),d(w,x),d(x,O),d(x,R),d(R,P),d(g,L),d(g,M),d(M,V),D(V,e[0]),d(M,q),d(M,F),D(F,e[1]),d(M,U),d(M,j),D(j,e[2]),d(M,B),d(M,K),D(K,e[3]),d(M,$),d(M,G),d(M,H),d(M,z),d(M,W),d(M,Y),D(Y,e[4]),d(M,Q),d(M,X),D(X,e[5]),d(M,J),d(M,Z),D(Z,e[6]),d(M,tt),d(M,et),d(et,nt),d(nt,rt),d(M,it),d(M,ot),d(ot,at),d(g,st),d(g,ut),d(g,ct),d(g,ht),d(ht,lt),ft||(dt=[I(V,"keyup",(function(){o(e[11](e[0]))&&e[11](e[0]).apply(this,arguments)})),I(V,"input",e[12]),I(F,"keyup",(function(){o(e[11](e[1]))&&e[11](e[1]).apply(this,arguments)})),I(F,"input",e[13]),I(j,"input",e[14]),I(K,"input",e[15]),I(Y,"input",e[16]),I(X,"input",e[17]),I(Z,"input",e[18]),I(M,"submit",E((function(){o(e[2]==e[3]?e[9]:e[19])&&(e[2]==e[3]?e[9]:e[19]).apply(this,arguments)})))],ft=!0)},p(t,[n]){e=t,128&n&&k(c,e[7]),256&n&&k(l,e[8]),1&n&&V.value!==e[0]&&D(V,e[0]),2&n&&F.value!==e[1]&&D(F,e[1]),4&n&&j.value!==e[2]&&D(j,e[2]),8&n&&K.value!==e[3]&&D(K,e[3]),16&n&&Y.value!==e[4]&&D(Y,e[4]),32&n&&X.value!==e[5]&&D(X,e[5]),64&n&&Z.value!==e[6]&&D(Z,e[6])},i:t,o:t,d(t){t&&v(n),t&&v(f),t&&v(g),ft=!1,i(dt)}}}function wm(){for(var t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<5;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}function Im(t,e,n){let r="",i="",o="",a="",s="",u="",c="",h=!0,l="",f="";const d=t=>{var e=t.getHours(),n=t.getMinutes(),r=e>=12?"PM":"AM";return(e=(e%=12)||12)+":"+(n=n<10?"0"+n:n)+" "+r+" | "+t.toDateString().substring(4,10)},p=()=>{const t=document.querySelector("#frm");t.name.value="",t.email.value="",t.password.value="",t.cpassword.value="",t.birthplace.value="",t.pet.value="",t.food.value=""},v=(t,e,r)=>{const i=document.querySelector(".alert");i.style.display="block",i.style.backgroundColor=r,n(7,l=t),n(8,f=e)},m=t=>{const e=document.querySelector(".para");e.textContent="";let n=document.createElement("p");n.textContent=t,e.appendChild(n)};return[r,i,o,a,s,u,c,l,f,t=>{if(m(""),o.length<5&&(m("Password should be minimum 5 characters"),h=!1),h){const t=$v.collection("messages").doc(r.toLowerCase()+"-raz0229"),e=$v.collection("messages").doc("raz0229-"+r.toLowerCase()),n="Hi! :) Welcome to MessengeRAZ. This is RAZ (Developer of MessengeRAZ). You can use this chat to report bugs or give feedback. Over!";$v.collection("accounts").add({username:r.toLowerCase(),email:i.toLowerCase(),password:o,food:c.toLowerCase(),birthplace:u.toLowerCase(),pet:s.toLowerCase()}),$v.collection("messages").doc(r.toLowerCase()).set({recent_chats:Gv.arrayUnion({name:"raz0229",time:(new Date).toDateString().substring(4,10),msg:"Hi! Welcome to MessengeRAZ. This...",notSeen:!0})}),$v.collection("messages").doc("raz0229").update({recent_chats:Gv.arrayUnion({name:r.toLowerCase(),time:(new Date).toDateString().substring(4,10),msg:"Special access to dev only",notSeen:!0})}),t.set({raz0229:Gv.arrayUnion({id:wm(),time:d(new Date),msg:n,type:"received"})}),e.set({[r.toLowerCase()]:Gv.arrayUnion({id:wm(),time:d(new Date),msg:n,type:"sent"})}).then((()=>{v("Success!","Account has been created","#68d391")})),p()}else p(),v("Something went wrong!","Try again","#d36868")},m,t=>{m(""),h=!0;/[^\w]/g.test(r)&&(m("Username can't have spaces or some characters"),h=!1),$v.collection("accounts").get().then((e=>{e.docs.forEach((e=>{e.data().username==t&&(m("Username taken"),h=!1),e.data().email==t&&(m("Account already registered. Try logging in"),h=!1)}))}))},function(){r=this.value,n(0,r)},function(){i=this.value,n(1,i)},function(){o=this.value,n(2,o)},function(){a=this.value,n(3,a)},function(){s=this.value,n(4,s)},function(){u=this.value,n(5,u)},function(){c=this.value,n(6,c)},()=>m("Password does not match")]}class Em extends lt{constructor(t){super(),ht(this,t,Im,bm,a,{})}}function Tm(e){let n,r,o,a,s,u,c,h,l,f,g,w,E,x,O,R;return{c(){n=m("div"),r=m("div"),o=m("h2"),a=y("Recover Password"),s=b(),u=m("input"),c=b(),h=m("input"),l=b(),f=m("p"),g=y(e[2]),w=b(),E=m("button"),x=y("Recover and Login"),this.h()},l(t){n=_(t,"DIV",{class:!0});var i=S(n);r=_(i,"DIV",{class:!0});var d=S(r);o=_(d,"H2",{class:!0});var p=S(o);a=A(p,"Recover Password"),p.forEach(v),s=N(d),u=_(d,"INPUT",{type:!0,placeholder:!0,class:!0}),c=N(d),h=_(d,"INPUT",{type:!0,placeholder:!0,class:!0}),l=N(d),f=_(d,"P",{style:!0});var m=S(f);g=A(m,e[2]),m.forEach(v),w=N(d),E=_(d,"BUTTON",{class:!0});var y=S(E);x=A(y,"Recover and Login"),y.forEach(v),d.forEach(v),i.forEach(v),this.h()},h(){T(o,"class","svelte-jvk66x"),T(u,"type","password"),T(u,"placeholder","Enter new password"),T(u,"class","svelte-jvk66x"),T(h,"type","password"),T(h,"placeholder","Confirm new password"),T(h,"class","svelte-jvk66x"),C(f,"color","crimson"),C(f,"font-family","sans-serif"),T(E,"class","link svelte-jvk66x"),T(r,"class","model svelte-jvk66x"),T(n,"class","back-drop svelte-jvk66x")},m(t,i){p(t,n,i),d(n,r),d(r,o),d(o,a),d(r,s),d(r,u),D(u,e[0]),d(r,c),d(r,h),D(h,e[1]),d(r,l),d(r,f),d(f,g),d(r,w),d(r,E),d(E,x),O||(R=[I(u,"input",e[5]),I(h,"input",e[6]),I(E,"click",e[3])],O=!0)},p(t,[e]){1&e&&u.value!==t[0]&&D(u,t[0]),2&e&&h.value!==t[1]&&D(h,t[1]),4&e&&k(g,t[2])},i:t,o:t,d(t){t&&v(n),O=!1,i(R)}}}function Sm(t,e,n){let r="",i="",o="",{id:a=""}=e;return t.$$set=t=>{"id"in t&&n(4,a=t.id)},[r,i,o,()=>{r!=i?n(2,o="Password does not match"):r.length<5?n(2,o="Password should be minimum 5 chars"):$v.collection("accounts").doc(a).update({password:r}).then((()=>{location.replace("/")}))},a,function(){r=this.value,n(0,r)},function(){i=this.value,n(1,i)}]}class _m extends lt{constructor(t){super(),ht(this,t,Sm,Tm,a,{id:4})}}function Am(t){let e,n;return e=new _m({props:{id:t[7]}}),{c(){ot(e.$$.fragment)},l(t){at(e.$$.fragment,t)},m(t,r){st(e,t,r),n=!0},p(t,n){const r={};128&n&&(r.id=t[7]),e.$set(r)},i(t){n||(et(e.$$.fragment,t),n=!0)},o(t){nt(e.$$.fragment,t),n=!1},d(t){ut(e,t)}}}function Nm(t){let e,n,r,i,o,a,s,u;return{c(){e=m("div"),n=m("div"),r=b(),i=m("div"),o=b(),a=m("div"),s=b(),u=m("div"),this.h()},l(t){e=_(t,"DIV",{class:!0});var c=S(e);n=_(c,"DIV",{class:!0}),S(n).forEach(v),r=N(c),i=_(c,"DIV",{class:!0}),S(i).forEach(v),o=N(c),a=_(c,"DIV",{class:!0}),S(a).forEach(v),s=N(c),u=_(c,"DIV",{class:!0}),S(u).forEach(v),c.forEach(v),this.h()},h(){T(n,"class","svelte-gerq1i"),T(i,"class","svelte-gerq1i"),T(a,"class","svelte-gerq1i"),T(u,"class","svelte-gerq1i"),T(e,"class","lds-ellipsis svelte-gerq1i")},m(t,c){p(t,e,c),d(e,n),d(e,r),d(e,i),d(e,o),d(e,a),d(e,s),d(e,u)},d(t){t&&v(e)}}}function km(t){let e,n,r,o,a,s,u,c,h,l,f,g,w,O,R,P,L,M,V,q,F,U,j,B,K,$,H,z,W,Y,Q,X,J,rt,it,ot,at,st,ut,ct,ht,lt,ft,dt,pt,vt,mt,gt,yt,bt,wt=t[3]&&Am(t),It=t[4]&&Nm();return{c(){e=m("div"),n=m("span"),r=y("×"),o=b(),a=m("strong"),s=y(t[5]),u=b(),c=y(t[6]),h=b(),wt&&wt.c(),l=b(),f=m("div"),g=m("a"),w=m("span"),O=y("MessengeRAZ"),R=m("span"),P=y("."),L=b(),M=m("form"),V=m("label"),q=m("span"),F=m("strong"),U=y("Enter your Email:"),j=b(),B=m("input"),K=b(),$=m("p"),H=y("Answer a security question:"),z=b(),W=m("select"),Y=m("option"),Q=y("Your pet's name?"),X=m("option"),J=y("Your birthplace?"),rt=m("option"),it=y("Your favorite food?"),ot=b(),at=m("input"),st=b(),ut=m("button"),ct=m("span"),ht=y("Recover Acccount"),lt=b(),It&&It.c(),ft=b(),dt=m("div"),pt=b(),vt=m("a"),mt=y("LOGIN"),this.h()},l(i){e=_(i,"DIV",{class:!0,style:!0});var d=S(e);n=_(d,"SPAN",{class:!0,onclick:!0});var p=S(n);r=A(p,"×"),p.forEach(v),o=N(d),a=_(d,"STRONG",{class:!0});var m=S(a);s=A(m,t[5]),m.forEach(v),u=N(d),c=A(d,t[6]),d.forEach(v),h=N(i),wt&&wt.l(i),l=N(i),f=_(i,"DIV",{class:!0});var y=S(f);g=_(y,"A",{href:!0,style:!0,class:!0});var b=S(g);w=_(b,"SPAN",{class:!0});var I=S(w);O=A(I,"MessengeRAZ"),R=_(I,"SPAN",{class:!0});var E=S(R);P=A(E,"."),E.forEach(v),I.forEach(v),b.forEach(v),L=N(y),M=_(y,"FORM",{class:!0});var T=S(M);V=_(T,"LABEL",{class:!0});var k=S(V);q=_(k,"SPAN",{class:!0});var D=S(q);F=_(D,"STRONG",{class:!0});var C=S(F);U=A(C,"Enter your Email:"),C.forEach(v),D.forEach(v),j=N(k),B=_(k,"INPUT",{id:!0,type:!0,required:!0,class:!0}),k.forEach(v),K=N(T),$=_(T,"P",{style:!0,class:!0});var x=S($);H=A(x,"Answer a security question:"),x.forEach(v),z=N(T),W=_(T,"SELECT",{id:!0,class:!0});var G=S(W);Y=_(G,"OPTION",{value:!0,class:!0});var Z=S(Y);Q=A(Z,"Your pet's name?"),Z.forEach(v),X=_(G,"OPTION",{value:!0,class:!0});var tt=S(X);J=A(tt,"Your birthplace?"),tt.forEach(v),rt=_(G,"OPTION",{value:!0,class:!0});var et=S(rt);it=A(et,"Your favorite food?"),et.forEach(v),G.forEach(v),ot=N(T),at=_(T,"INPUT",{style:!0,class:!0,type:!0,required:!0}),st=N(T),ut=_(T,"BUTTON",{class:!0});var nt=S(ut);ct=_(nt,"SPAN",{class:!0});var gt=S(ct);ht=A(gt,"Recover Acccount"),gt.forEach(v),lt=N(nt),It&&It.l(nt),nt.forEach(v),T.forEach(v),ft=N(y),dt=_(y,"DIV",{class:!0}),S(dt).forEach(v),pt=N(y),vt=_(y,"A",{class:!0,href:!0});var yt=S(vt);mt=A(yt,"LOGIN"),yt.forEach(v),y.forEach(v),this.h()},h(){T(n,"class","closebtn svelte-gerq1i"),T(n,"onclick","this.parentElement.style.display='none';"),T(a,"class","svelte-gerq1i"),T(e,"class","alert svelte-gerq1i"),C(e,"display","none"),T(R,"class","dot svelte-gerq1i"),T(w,"class","login-text svelte-gerq1i"),T(g,"href","/"),C(g,"text-decoration","none"),T(g,"class","svelte-gerq1i"),T(F,"class","svelte-gerq1i"),T(q,"class","omrs-input-label svelte-gerq1i"),T(B,"id","#inp"),T(B,"type","email"),B.required=!0,T(B,"class","svelte-gerq1i"),T(V,"class","omrs-input-underlined svelte-gerq1i"),C($,"font-family","sans-serif"),C($,"font-size","17px"),C($,"color","#2e2e2e"),T($,"class","svelte-gerq1i"),Y.__value="pet",Y.value=Y.__value,T(Y,"class","svelte-gerq1i"),X.__value="birthplace",X.value=X.__value,T(X,"class","svelte-gerq1i"),rt.__value="food",rt.value=rt.__value,T(rt,"class","svelte-gerq1i"),T(W,"id","select"),T(W,"class","svelte-gerq1i"),void 0===t[0]&&G((()=>t[10].call(W))),C(at,"margin-bottom","2rem"),T(at,"class","question svelte-gerq1i"),T(at,"type","text"),at.required=!0,T(ct,"class","buttonText svelte-gerq1i"),T(ut,"class","button svelte-gerq1i"),T(M,"class","frm svelte-gerq1i"),T(dt,"class","line svelte-gerq1i"),T(vt,"class","link svelte-gerq1i"),T(vt,"href","/"),T(f,"class","container svelte-gerq1i")},m(i,v){p(i,e,v),d(e,n),d(n,r),d(e,o),d(e,a),d(a,s),d(e,u),d(e,c),p(i,h,v),wt&&wt.m(i,v),p(i,l,v),p(i,f,v),d(f,g),d(g,w),d(w,O),d(w,R),d(R,P),d(f,L),d(f,M),d(M,V),d(V,q),d(q,F),d(F,U),d(V,j),d(V,B),D(B,t[2]),d(M,K),d(M,$),d($,H),d(M,z),d(M,W),d(W,Y),d(Y,Q),d(W,X),d(X,J),d(W,rt),d(rt,it),x(W,t[0]),d(M,ot),d(M,at),D(at,t[1]),d(M,st),d(M,ut),d(ut,ct),d(ct,ht),d(ut,lt),It&&It.m(ut,null),d(f,ft),d(f,dt),d(f,pt),d(f,vt),d(vt,mt),gt=!0,yt||(bt=[I(B,"input",t[9]),I(W,"change",t[10]),I(at,"input",t[11]),I(M,"submit",E(t[8]))],yt=!0)},p(t,[e]){(!gt||32&e)&&k(s,t[5]),(!gt||64&e)&&k(c,t[6]),t[3]?wt?(wt.p(t,e),8&e&&et(wt,1)):(wt=Am(t),wt.c(),et(wt,1),wt.m(l.parentNode,l)):wt&&(Z(),nt(wt,1,1,(()=>{wt=null})),tt()),4&e&&B.value!==t[2]&&D(B,t[2]),1&e&&x(W,t[0]),2&e&&at.value!==t[1]&&D(at,t[1]),t[4]?It||(It=Nm(),It.c(),It.m(ut,null)):It&&(It.d(1),It=null)},i(t){gt||(et(wt),gt=!0)},o(t){nt(wt),gt=!1},d(t){t&&v(e),t&&v(h),wt&&wt.d(t),t&&v(l),t&&v(f),It&&It.d(),yt=!1,i(bt)}}}function Dm(t,e,n){let r="",i="",o="",a=!1,s=!1,u="",c="",h="";const l=(t,e,r)=>{const i=document.querySelector(".alert");i.style.display="block",i.style.backgroundColor=r,n(5,u=t),n(6,c=e)};return[r,i,o,a,s,u,c,h,t=>{const e=document.querySelector(".buttonText");e.style.display="none",n(4,s=!0),$v.collection("accounts").get().then((t=>{t.docs.forEach((t=>{let e=t.data(),r=i.toLowerCase();e.email==o.toLowerCase()&&(e.birthplace==r||e.pet==r||e.food==r?(n(3,a=!0),n(7,h=t.id)):l("Sorry!","Incorrect email or answer","#d36868"))})),n(4,s=!1),e.style.display="block"}))},function(){o=this.value,n(2,o)},function(){r=function(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}(this),n(0,r)},function(){i=this.value,n(1,i)}]}class Cm extends lt{constructor(t){super(),ht(this,t,Dm,km,a,{})}}function xm(e){let n,r,i,o,a,s,u,c,h,l,f,g,w,I,E,k,D,x,O,R,P,L,M,V,q,F,U,j,B,K,$,G,H,z,W,Y,Q,X,J,Z,tt,et,nt,rt,it;return{c(){n=m("div"),r=m("div"),i=m("a"),o=m("span"),a=y("MessengeRAZ"),s=m("span"),u=y("."),c=m("span"),h=y("Beta"),l=b(),f=m("p"),g=y("A simple text-based chatting web app"),w=b(),I=m("p"),E=y("MessengeRAZ Beta is a very simple and open-source chatting app built as an individual project\n       on top of the Svelte framework and connected with Google's Firestore Cloud Storage with\n       very intuitive responsive UI and other modern features. Not recommended for personal use\n       as it comes with many vulnerabilities and security concerns that were not taken care of\n       during the development. However, You can fork this project on GitHub and extend security\n       features such as authentication and optimize the code as you wish. :)"),k=b(),D=m("h2"),x=y("Contact the developer"),O=b(),R=m("div"),P=m("div"),L=m("div"),M=m("img"),q=b(),F=m("div"),U=m("h2"),j=y("raz0229"),B=b(),K=m("p"),$=y("Full-Stack Developer"),G=b(),H=m("p"),z=y("I have no life..."),W=b(),Y=m("p"),Q=y("raja.zafar229@gmail.com"),X=b(),J=m("p"),Z=m("a"),tt=m("button"),et=y("Contact and Profile"),nt=b(),rt=m("p"),it=y("Copyright © MessengeRAZ 2021."),this.h()},l(t){n=_(t,"DIV",{class:!0});var e=S(n);r=_(e,"DIV",{class:!0});var d=S(r);i=_(d,"A",{href:!0,style:!0});var p=S(i);o=_(p,"SPAN",{class:!0});var m=S(o);a=A(m,"MessengeRAZ"),s=_(m,"SPAN",{class:!0});var y=S(s);u=A(y,"."),y.forEach(v),m.forEach(v),c=_(p,"SPAN",{class:!0});var b=S(c);h=A(b,"Beta"),b.forEach(v),p.forEach(v),d.forEach(v),l=N(e),f=_(e,"P",{class:!0});var T=S(f);g=A(T,"A simple text-based chatting web app"),T.forEach(v),w=N(e),I=_(e,"P",{class:!0});var C=S(I);E=A(C,"MessengeRAZ Beta is a very simple and open-source chatting app built as an individual project\n       on top of the Svelte framework and connected with Google's Firestore Cloud Storage with\n       very intuitive responsive UI and other modern features. Not recommended for personal use\n       as it comes with many vulnerabilities and security concerns that were not taken care of\n       during the development. However, You can fork this project on GitHub and extend security\n       features such as authentication and optimize the code as you wish. :)"),C.forEach(v),e.forEach(v),k=N(t),D=_(t,"H2",{style:!0,class:!0});var V=S(D);x=A(V,"Contact the developer"),V.forEach(v),O=N(t),R=_(t,"DIV",{class:!0});var ot=S(R);P=_(ot,"DIV",{class:!0});var at=S(P);L=_(at,"DIV",{class:!0});var st=S(L);M=_(st,"IMG",{src:!0,alt:!0,style:!0,class:!0}),q=N(st),F=_(st,"DIV",{class:!0});var ut=S(F);U=_(ut,"H2",{class:!0});var ct=S(U);j=A(ct,"raz0229"),ct.forEach(v),B=N(ut),K=_(ut,"P",{class:!0});var ht=S(K);$=A(ht,"Full-Stack Developer"),ht.forEach(v),G=N(ut),H=_(ut,"P",{class:!0});var lt=S(H);z=A(lt,"I have no life..."),lt.forEach(v),W=N(ut),Y=_(ut,"P",{class:!0});var ft=S(Y);Q=A(ft,"raja.zafar229@gmail.com"),ft.forEach(v),X=N(ut),J=_(ut,"P",{class:!0});var dt=S(J);Z=_(dt,"A",{style:!0,href:!0});var pt=S(Z);tt=_(pt,"BUTTON",{class:!0});var vt=S(tt);et=A(vt,"Contact and Profile"),vt.forEach(v),pt.forEach(v),dt.forEach(v),ut.forEach(v),st.forEach(v),at.forEach(v),ot.forEach(v),nt=N(t),rt=_(t,"P",{style:!0,class:!0});var mt=S(rt);it=A(mt,"Copyright © MessengeRAZ 2021."),mt.forEach(v),this.h()},h(){T(s,"class","dot svelte-f6djix"),T(o,"class","login-text svelte-f6djix"),T(c,"class","beta svelte-f6djix"),T(i,"href","/"),C(i,"text-decoration","none"),T(r,"class","headContainer svelte-f6djix"),T(f,"class","svelte-f6djix"),T(I,"class","svelte-f6djix"),T(n,"class","about-section svelte-f6djix"),C(D,"text-align","center"),T(D,"class","svelte-f6djix"),M.src!==(V="https://i.ibb.co/qjMY3ky/raz0229.png")&&T(M,"src","https://i.ibb.co/qjMY3ky/raz0229.png"),T(M,"alt","raz0229"),C(M,"width","100%"),T(M,"class","svelte-f6djix"),T(U,"class","svelte-f6djix"),T(K,"class","title svelte-f6djix"),T(H,"class","svelte-f6djix"),T(Y,"class","svelte-f6djix"),T(tt,"class","button svelte-f6djix"),C(Z,"text-decoration","none"),C(Z,"color","white"),T(Z,"href","https://raz0229.github.io"),T(J,"class","svelte-f6djix"),T(F,"class","container svelte-f6djix"),T(L,"class","card svelte-f6djix"),T(P,"class","column svelte-f6djix"),T(R,"class","row svelte-f6djix"),C(rt,"font-family","cabin"),C(rt,"text-align","center"),C(rt,"padding","5%"),C(rt,"color","#bbb9b9"),T(rt,"class","svelte-f6djix")},m(t,e){p(t,n,e),d(n,r),d(r,i),d(i,o),d(o,a),d(o,s),d(s,u),d(i,c),d(c,h),d(n,l),d(n,f),d(f,g),d(n,w),d(n,I),d(I,E),p(t,k,e),p(t,D,e),d(D,x),p(t,O,e),p(t,R,e),d(R,P),d(P,L),d(L,M),d(L,q),d(L,F),d(F,U),d(U,j),d(F,B),d(F,K),d(K,$),d(F,G),d(F,H),d(H,z),d(F,W),d(F,Y),d(Y,Q),d(F,X),d(F,J),d(J,Z),d(Z,tt),d(tt,et),p(t,nt,e),p(t,rt,e),d(rt,it)},p:t,i:t,o:t,d(t){t&&v(n),t&&v(k),t&&v(D),t&&v(O),t&&v(R),t&&v(nt),t&&v(rt)}}}class Om extends lt{constructor(t){super(),ht(this,t,null,xm,a,{})}}function Rm(e){let n,r,i,o,a,s,u,c,h,l,f,g,w,I,E,k,D,x,O;return{c(){n=m("div"),r=m("div"),i=m("div"),o=m("div"),a=b(),s=m("h1"),u=y("404"),c=b(),h=m("h2"),l=y("Page not found"),f=b(),g=m("p"),w=y("Woops! Looks like you are lost kid."),I=b(),E=m("a"),k=y("Take me back"),D=b(),x=m("p"),O=y("Copyright © MessengeRAZ 2021."),this.h()},l(t){n=_(t,"DIV",{id:!0});var e=S(n);r=_(e,"DIV",{class:!0});var d=S(r);i=_(d,"DIV",{class:!0});var p=S(i);o=_(p,"DIV",{}),S(o).forEach(v),a=N(p),s=_(p,"H1",{});var m=S(s);u=A(m,"404"),m.forEach(v),p.forEach(v),c=N(d),h=_(d,"H2",{});var y=S(h);l=A(y,"Page not found"),y.forEach(v),f=N(d),g=_(d,"P",{});var b=S(g);w=A(b,"Woops! Looks like you are lost kid."),b.forEach(v),I=N(d),E=_(d,"A",{href:!0});var T=S(E);k=A(T,"Take me back"),T.forEach(v),d.forEach(v),e.forEach(v),D=N(t),x=_(t,"P",{style:!0});var C=S(x);O=A(C,"Copyright © MessengeRAZ 2021."),C.forEach(v),this.h()},h(){T(i,"class","notfound-404"),T(E,"href","/"),T(r,"class","notfound"),T(n,"id","notfound"),C(x,"font-family","cabin"),C(x,"text-align","center"),C(x,"padding","5%"),C(x,"color","#bbb9b9")},m(t,e){p(t,n,e),d(n,r),d(r,i),d(i,o),d(i,a),d(i,s),d(s,u),d(r,c),d(r,h),d(h,l),d(r,f),d(r,g),d(g,w),d(r,I),d(r,E),d(E,k),p(t,D,e),p(t,x,e),d(x,O)},p:t,i:t,o:t,d(t){t&&v(n),t&&v(D),t&&v(x)}}}class Pm extends lt{constructor(t){super(),ht(this,t,null,Rm,a,{})}}function Lm(t){let e,n;return e=new ym({}),{c(){ot(e.$$.fragment)},l(t){at(e.$$.fragment,t)},m(t,r){st(e,t,r),n=!0},i(t){n||(et(e.$$.fragment,t),n=!0)},o(t){nt(e.$$.fragment,t),n=!1},d(t){ut(e,t)}}}function Mm(t){let e,n,r,i,o,a,s,u,c,h,l;return n=new Mt({props:{path:"signup",component:Em}}),i=new Mt({props:{path:"recover",component:Cm}}),a=new Mt({props:{path:"/",$$slots:{default:[Lm]},$$scope:{ctx:t}}}),u=new Mt({props:{path:"about",component:Om}}),h=new Mt({props:{component:Pm}}),{c(){e=m("div"),ot(n.$$.fragment),r=b(),ot(i.$$.fragment),o=b(),ot(a.$$.fragment),s=b(),ot(u.$$.fragment),c=b(),ot(h.$$.fragment)},l(t){e=_(t,"DIV",{});var l=S(e);at(n.$$.fragment,l),r=N(l),at(i.$$.fragment,l),o=N(l),at(a.$$.fragment,l),s=N(l),at(u.$$.fragment,l),c=N(l),at(h.$$.fragment,l),l.forEach(v)},m(t,f){p(t,e,f),st(n,e,null),d(e,r),st(i,e,null),d(e,o),st(a,e,null),d(e,s),st(u,e,null),d(e,c),st(h,e,null),l=!0},p(t,e){const n={};2&e&&(n.$$scope={dirty:e,ctx:t}),a.$set(n)},i(t){l||(et(n.$$.fragment,t),et(i.$$.fragment,t),et(a.$$.fragment,t),et(u.$$.fragment,t),et(h.$$.fragment,t),l=!0)},o(t){nt(n.$$.fragment,t),nt(i.$$.fragment,t),nt(a.$$.fragment,t),nt(u.$$.fragment,t),nt(h.$$.fragment,t),l=!1},d(t){t&&v(e),ut(n),ut(i),ut(a),ut(u),ut(h)}}}function Vm(t){let e,n;return e=new kt({props:{url:t[0],$$slots:{default:[Mm]},$$scope:{ctx:t}}}),{c(){ot(e.$$.fragment)},l(t){at(e.$$.fragment,t)},m(t,r){st(e,t,r),n=!0},p(t,[n]){const r={};1&n&&(r.url=t[0]),2&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(et(e.$$.fragment,t),n=!0)},o(t){nt(e.$$.fragment,t),n=!1},d(t){ut(e,t)}}}function qm(t,e,n){let{url:r=""}=e;return t.$$set=t=>{"url"in t&&n(0,r=t.url)},[r]}return new class extends lt{constructor(t){super(),ht(this,t,qm,Vm,a,{url:0})}}({target:document.body,hydrate:!0})}();
//# sourceMappingURL=bundle.js.map
